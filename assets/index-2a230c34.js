(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xu={exports:{}},ul={},fu={exports:{}},we={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Va=Symbol.for("react.element"),dp=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),mp=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),hp=Symbol.for("react.provider"),xp=Symbol.for("react.context"),fp=Symbol.for("react.forward_ref"),bp=Symbol.for("react.suspense"),gp=Symbol.for("react.memo"),vp=Symbol.for("react.lazy"),wc=Symbol.iterator;function yp(t){return t===null||typeof t!="object"?null:(t=wc&&t[wc]||t["@@iterator"],typeof t=="function"?t:null)}var bu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gu=Object.assign,vu={};function Wn(t,r,n){this.props=t,this.context=r,this.refs=vu,this.updater=n||bu}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Wn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yu(){}yu.prototype=Wn.prototype;function bo(t,r,n){this.props=t,this.context=r,this.refs=vu,this.updater=n||bu}var go=bo.prototype=new yu;go.constructor=bo;gu(go,Wn.prototype);go.isPureReactComponent=!0;var kc=Array.isArray,ju=Object.prototype.hasOwnProperty,vo={current:null},Nu={key:!0,ref:!0,__self:!0,__source:!0};function wu(t,r,n){var a,s={},l=null,o=null;if(r!=null)for(a in r.ref!==void 0&&(o=r.ref),r.key!==void 0&&(l=""+r.key),r)ju.call(r,a)&&!Nu.hasOwnProperty(a)&&(s[a]=r[a]);var p=arguments.length-2;if(p===1)s.children=n;else if(1<p){for(var u=Array(p),f=0;f<p;f++)u[f]=arguments[f+2];s.children=u}if(t&&t.defaultProps)for(a in p=t.defaultProps,p)s[a]===void 0&&(s[a]=p[a]);return{$$typeof:Va,type:t,key:l,ref:o,props:s,_owner:vo.current}}function jp(t,r){return{$$typeof:Va,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function yo(t){return typeof t=="object"&&t!==null&&t.$$typeof===Va}function Np(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return r[n]})}var Ec=/\/+/g;function Dl(t,r){return typeof t=="object"&&t!==null&&t.key!=null?Np(""+t.key):r.toString(36)}function js(t,r,n,a,s){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Va:case dp:o=!0}}if(o)return o=t,s=s(o),t=a===""?"."+Dl(o,0):a,kc(s)?(n="",t!=null&&(n=t.replace(Ec,"$&/")+"/"),js(s,r,n,"",function(f){return f})):s!=null&&(yo(s)&&(s=jp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ec,"$&/")+"/")+t)),r.push(s)),1;if(o=0,a=a===""?".":a+":",kc(t))for(var p=0;p<t.length;p++){l=t[p];var u=a+Dl(l,p);o+=js(l,r,n,u,s)}else if(u=yp(t),typeof u=="function")for(t=u.call(t),p=0;!(l=t.next()).done;)l=l.value,u=a+Dl(l,p++),o+=js(l,r,n,u,s);else if(l==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function rs(t,r,n){if(t==null)return t;var a=[],s=0;return js(t,a,"","",function(l){return r.call(n,l,s++)}),a}function wp(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var mt={current:null},Ns={transition:null},kp={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Ns,ReactCurrentOwner:vo};function ku(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:rs,forEach:function(t,r,n){rs(t,function(){r.apply(this,arguments)},n)},count:function(t){var r=0;return rs(t,function(){r++}),r},toArray:function(t){return rs(t,function(r){return r})||[]},only:function(t){if(!yo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Wn;we.Fragment=up;we.Profiler=pp;we.PureComponent=bo;we.StrictMode=mp;we.Suspense=bp;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kp;we.act=ku;we.cloneElement=function(t,r,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=gu({},t.props),s=t.key,l=t.ref,o=t._owner;if(r!=null){if(r.ref!==void 0&&(l=r.ref,o=vo.current),r.key!==void 0&&(s=""+r.key),t.type&&t.type.defaultProps)var p=t.type.defaultProps;for(u in r)ju.call(r,u)&&!Nu.hasOwnProperty(u)&&(a[u]=r[u]===void 0&&p!==void 0?p[u]:r[u])}var u=arguments.length-2;if(u===1)a.children=n;else if(1<u){p=Array(u);for(var f=0;f<u;f++)p[f]=arguments[f+2];a.children=p}return{$$typeof:Va,type:t.type,key:s,ref:l,props:a,_owner:o}};we.createContext=function(t){return t={$$typeof:xp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hp,_context:t},t.Consumer=t};we.createElement=wu;we.createFactory=function(t){var r=wu.bind(null,t);return r.type=t,r};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:fp,render:t}};we.isValidElement=yo;we.lazy=function(t){return{$$typeof:vp,_payload:{_status:-1,_result:t},_init:wp}};we.memo=function(t,r){return{$$typeof:gp,type:t,compare:r===void 0?null:r}};we.startTransition=function(t){var r=Ns.transition;Ns.transition={};try{t()}finally{Ns.transition=r}};we.unstable_act=ku;we.useCallback=function(t,r){return mt.current.useCallback(t,r)};we.useContext=function(t){return mt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return mt.current.useDeferredValue(t)};we.useEffect=function(t,r){return mt.current.useEffect(t,r)};we.useId=function(){return mt.current.useId()};we.useImperativeHandle=function(t,r,n){return mt.current.useImperativeHandle(t,r,n)};we.useInsertionEffect=function(t,r){return mt.current.useInsertionEffect(t,r)};we.useLayoutEffect=function(t,r){return mt.current.useLayoutEffect(t,r)};we.useMemo=function(t,r){return mt.current.useMemo(t,r)};we.useReducer=function(t,r,n){return mt.current.useReducer(t,r,n)};we.useRef=function(t){return mt.current.useRef(t)};we.useState=function(t){return mt.current.useState(t)};we.useSyncExternalStore=function(t,r,n){return mt.current.useSyncExternalStore(t,r,n)};we.useTransition=function(){return mt.current.useTransition()};we.version="18.3.1";fu.exports=we;var q=fu.exports;const ns=hu(q);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ep=q,Cp=Symbol.for("react.element"),_p=Symbol.for("react.fragment"),Sp=Object.prototype.hasOwnProperty,Op=Ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pp={key:!0,ref:!0,__self:!0,__source:!0};function Eu(t,r,n){var a,s={},l=null,o=null;n!==void 0&&(l=""+n),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(o=r.ref);for(a in r)Sp.call(r,a)&&!Pp.hasOwnProperty(a)&&(s[a]=r[a]);if(t&&t.defaultProps)for(a in r=t.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return{$$typeof:Cp,type:t,key:l,ref:o,props:s,_owner:Op.current}}ul.Fragment=_p;ul.jsx=Eu;ul.jsxs=Eu;xu.exports=ul;var e=xu.exports,Cu={exports:{}},Pt={},_u={exports:{}},Su={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function r(B,M){var P=B.length;B.push(M);e:for(;0<P;){var L=P-1>>>1,F=B[L];if(0<s(F,M))B[L]=M,B[P]=F,P=L;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var M=B[0],P=B.pop();if(P!==M){B[0]=P;e:for(var L=0,F=B.length,W=F>>>1;L<W;){var G=2*(L+1)-1,V=B[G],$=G+1,U=B[$];if(0>s(V,P))$<F&&0>s(U,V)?(B[L]=U,B[$]=P,L=$):(B[L]=V,B[G]=P,L=G);else if($<F&&0>s(U,P))B[L]=U,B[$]=P,L=$;else break e}}return M}function s(B,M){var P=B.sortIndex-M.sortIndex;return P!==0?P:B.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,p=o.now();t.unstable_now=function(){return o.now()-p}}var u=[],f=[],g=1,m=null,i=3,d=!1,j=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var M=n(f);M!==null;){if(M.callback===null)a(f);else if(M.startTime<=B)a(f),M.sortIndex=M.expirationTime,r(u,M);else break;M=n(f)}}function x(B){if(y=!1,b(B),!j)if(n(u)!==null)j=!0,z(v);else{var M=n(f);M!==null&&ee(x,M.startTime-B)}}function v(B,M){j=!1,y&&(y=!1,h(S),S=-1),d=!0;var P=i;try{for(b(M),m=n(u);m!==null&&(!(m.expirationTime>M)||B&&!O());){var L=m.callback;if(typeof L=="function"){m.callback=null,i=m.priorityLevel;var F=L(m.expirationTime<=M);M=t.unstable_now(),typeof F=="function"?m.callback=F:m===n(u)&&a(u),b(M)}else a(u);m=n(u)}if(m!==null)var W=!0;else{var G=n(f);G!==null&&ee(x,G.startTime-M),W=!1}return W}finally{m=null,i=P,d=!1}}var k=!1,w=null,S=-1,E=5,C=-1;function O(){return!(t.unstable_now()-C<E)}function _(){if(w!==null){var B=t.unstable_now();C=B;var M=!0;try{M=w(!0,B)}finally{M?A():(k=!1,w=null)}}else k=!1}var A;if(typeof c=="function")A=function(){c(_)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,I=R.port2;R.port1.onmessage=_,A=function(){I.postMessage(null)}}else A=function(){N(_,0)};function z(B){w=B,k||(k=!0,A())}function ee(B,M){S=N(function(){B(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){j||d||(j=!0,z(v))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(i){case 1:case 2:case 3:var M=3;break;default:M=i}var P=i;i=M;try{return B()}finally{i=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,M){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var P=i;i=B;try{return M()}finally{i=P}},t.unstable_scheduleCallback=function(B,M,P){var L=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?L+P:L):P=L,B){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=P+F,B={id:g++,callback:M,priorityLevel:B,startTime:P,expirationTime:F,sortIndex:-1},P>L?(B.sortIndex=P,r(f,B),n(u)===null&&B===n(f)&&(y?(h(S),S=-1):y=!0,ee(x,P-L))):(B.sortIndex=F,r(u,B),j||d||(j=!0,z(v))),B},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(B){var M=i;return function(){var P=i;i=M;try{return B.apply(this,arguments)}finally{i=P}}}})(Su);_u.exports=Su;var Tp=_u.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ap=q,St=Tp;function de(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ou=new Set,Sa={};function pn(t,r){$n(t,r),$n(t+"Capture",r)}function $n(t,r){for(Sa[t]=r,t=0;t<r.length;t++)Ou.add(r[t])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=Object.prototype.hasOwnProperty,Lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cc={},_c={};function Ip(t){return pi.call(_c,t)?!0:pi.call(Cc,t)?!1:Lp.test(t)?_c[t]=!0:(Cc[t]=!0,!1)}function Mp(t,r,n,a){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qp(t,r,n,a){if(r===null||typeof r>"u"||Mp(t,r,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function pt(t,r,n,a,s,l,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=r,this.sanitizeURL=l,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];at[r]=new pt(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var jo=/[\-:]([a-z])/g;function No(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(jo,No);at[r]=new pt(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(jo,No);at[r]=new pt(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(jo,No);at[r]=new pt(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function wo(t,r,n,a){var s=at.hasOwnProperty(r)?at[r]:null;(s!==null?s.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(qp(r,n,s,a)&&(n=null),a||s===null?Ip(r)&&(n===null?t.removeAttribute(r):t.setAttribute(r,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(r=s.attributeName,a=s.attributeNamespace,n===null?t.removeAttribute(r):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,a?t.setAttributeNS(a,r,n):t.setAttribute(r,n))))}var jr=Ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),bn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),ko=Symbol.for("react.strict_mode"),hi=Symbol.for("react.profiler"),Pu=Symbol.for("react.provider"),Tu=Symbol.for("react.context"),Eo=Symbol.for("react.forward_ref"),xi=Symbol.for("react.suspense"),fi=Symbol.for("react.suspense_list"),Co=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),Au=Symbol.for("react.offscreen"),Sc=Symbol.iterator;function aa(t){return t===null||typeof t!="object"?null:(t=Sc&&t[Sc]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Rl;function ha(t){if(Rl===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);Rl=r&&r[1]||""}return`
`+Rl+t}var $l=!1;function zl(t,r){if(!t||$l)return"";$l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(f){var a=f}Reflect.construct(t,[],r)}else{try{r.call()}catch(f){a=f}t.call(r.prototype)}else{try{throw Error()}catch(f){a=f}t()}}catch(f){if(f&&a&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),l=a.stack.split(`
`),o=s.length-1,p=l.length-1;1<=o&&0<=p&&s[o]!==l[p];)p--;for(;1<=o&&0<=p;o--,p--)if(s[o]!==l[p]){if(o!==1||p!==1)do if(o--,p--,0>p||s[o]!==l[p]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=p);break}}}finally{$l=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ha(t):""}function Dp(t){switch(t.tag){case 5:return ha(t.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 2:case 15:return t=zl(t.type,!1),t;case 11:return t=zl(t.type.render,!1),t;case 1:return t=zl(t.type,!0),t;default:return""}}function bi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gn:return"Fragment";case bn:return"Portal";case hi:return"Profiler";case ko:return"StrictMode";case xi:return"Suspense";case fi:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Tu:return(t.displayName||"Context")+".Consumer";case Pu:return(t._context.displayName||"Context")+".Provider";case Eo:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Co:return r=t.displayName||null,r!==null?r:bi(t.type)||"Memo";case _r:r=t._payload,t=t._init;try{return bi(t(r))}catch{}}return null}function Rp(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bi(r);case 8:return r===ko?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $p(t){var r=Lu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),a=""+t[r];if(!t.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,l.call(this,o)}}),Object.defineProperty(t,r,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ss(t){t._valueTracker||(t._valueTracker=$p(t))}function Iu(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var n=r.getValue(),a="";return t&&(a=Lu(t)?t.checked?"true":"false":t.value),t=a,t!==n?(r.setValue(t),!0):!1}function Is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gi(t,r){var n=r.checked;return Fe({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Oc(t,r){var n=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;n=Vr(r.value!=null?r.value:n),t._wrapperState={initialChecked:a,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Mu(t,r){r=r.checked,r!=null&&wo(t,"checked",r,!1)}function vi(t,r){Mu(t,r);var n=Vr(r.value),a=r.type;if(n!=null)a==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?yi(t,r.type,n):r.hasOwnProperty("defaultValue")&&yi(t,r.type,Vr(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Pc(t,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,n||r===t.value||(t.value=r),t.defaultValue=r}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yi(t,r,n){(r!=="number"||Is(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function On(t,r,n,a){if(t=t.options,r){r={};for(var s=0;s<n.length;s++)r["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=r.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&a&&(t[n].defaultSelected=!0)}else{for(n=""+Vr(n),r=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,a&&(t[s].defaultSelected=!0);return}r!==null||t[s].disabled||(r=t[s])}r!==null&&(r.selected=!0)}}function ji(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(de(91));return Fe({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tc(t,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(de(92));if(xa(n)){if(1<n.length)throw Error(de(93));n=n[0]}r=n}r==null&&(r=""),n=r}t._wrapperState={initialValue:Vr(n)}}function qu(t,r){var n=Vr(r.value),a=Vr(r.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),r.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),a!=null&&(t.defaultValue=""+a)}function Ac(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Du(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ni(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Du(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ls,Ru=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,a,s){MSApp.execUnsafeLocalFunction(function(){return t(r,n,a,s)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ls.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Oa(t,r){if(r){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=r;return}}t.textContent=r}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zp=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(t){zp.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),va[r]=va[t]})});function $u(t,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||va.hasOwnProperty(t)&&va[t]?(""+r).trim():r+"px"}function zu(t,r){t=t.style;for(var n in r)if(r.hasOwnProperty(n)){var a=n.indexOf("--")===0,s=$u(n,r[n],a);n==="float"&&(n="cssFloat"),a?t.setProperty(n,s):t[n]=s}}var Fp=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wi(t,r){if(r){if(Fp[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(de(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(de(61))}if(r.style!=null&&typeof r.style!="object")throw Error(de(62))}}function ki(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ei=null;function _o(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Pn=null,Tn=null;function Lc(t){if(t=Za(t)){if(typeof Ci!="function")throw Error(de(280));var r=t.stateNode;r&&(r=fl(r),Ci(t.stateNode,t.type,r))}}function Fu(t){Pn?Tn?Tn.push(t):Tn=[t]:Pn=t}function Uu(){if(Pn){var t=Pn,r=Tn;if(Tn=Pn=null,Lc(t),r)for(t=0;t<r.length;t++)Lc(r[t])}}function Bu(t,r){return t(r)}function Hu(){}var Fl=!1;function Vu(t,r,n){if(Fl)return t(r,n);Fl=!0;try{return Bu(t,r,n)}finally{Fl=!1,(Pn!==null||Tn!==null)&&(Hu(),Uu())}}function Pa(t,r){var n=t.stateNode;if(n===null)return null;var a=fl(n);if(a===null)return null;n=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,r,typeof n));return n}var _i=!1;if(pr)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){_i=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{_i=!1}function Up(t,r,n,a,s,l,o,p,u){var f=Array.prototype.slice.call(arguments,3);try{r.apply(n,f)}catch(g){this.onError(g)}}var ya=!1,Ms=null,qs=!1,Si=null,Bp={onError:function(t){ya=!0,Ms=t}};function Hp(t,r,n,a,s,l,o,p,u){ya=!1,Ms=null,Up.apply(Bp,arguments)}function Vp(t,r,n,a,s,l,o,p,u){if(Hp.apply(this,arguments),ya){if(ya){var f=Ms;ya=!1,Ms=null}else throw Error(de(198));qs||(qs=!0,Si=f)}}function hn(t){var r=t,n=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(n=r.return),t=r.return;while(t)}return r.tag===3?n:null}function Wu(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Ic(t){if(hn(t)!==t)throw Error(de(188))}function Wp(t){var r=t.alternate;if(!r){if(r=hn(t),r===null)throw Error(de(188));return r!==t?null:t}for(var n=t,a=r;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Ic(s),t;if(l===a)return Ic(s),r;l=l.sibling}throw Error(de(188))}if(n.return!==a.return)n=s,a=l;else{for(var o=!1,p=s.child;p;){if(p===n){o=!0,n=s,a=l;break}if(p===a){o=!0,a=s,n=l;break}p=p.sibling}if(!o){for(p=l.child;p;){if(p===n){o=!0,n=l,a=s;break}if(p===a){o=!0,a=l,n=s;break}p=p.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==a)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:r}function Ju(t){return t=Wp(t),t!==null?Zu(t):null}function Zu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Zu(t);if(r!==null)return r;t=t.sibling}return null}var Qu=St.unstable_scheduleCallback,Mc=St.unstable_cancelCallback,Jp=St.unstable_shouldYield,Zp=St.unstable_requestPaint,He=St.unstable_now,Qp=St.unstable_getCurrentPriorityLevel,So=St.unstable_ImmediatePriority,Ku=St.unstable_UserBlockingPriority,Ds=St.unstable_NormalPriority,Kp=St.unstable_LowPriority,Yu=St.unstable_IdlePriority,ml=null,ar=null;function Yp(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(ml,t,void 0,(t.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:eh,Gp=Math.log,Xp=Math.LN2;function eh(t){return t>>>=0,t===0?32:31-(Gp(t)/Xp|0)|0}var is=64,os=4194304;function fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rs(t,r){var n=t.pendingLanes;if(n===0)return 0;var a=0,s=t.suspendedLanes,l=t.pingedLanes,o=n&268435455;if(o!==0){var p=o&~s;p!==0?a=fa(p):(l&=o,l!==0&&(a=fa(l)))}else o=n&~s,o!==0?a=fa(o):l!==0&&(a=fa(l));if(a===0)return 0;if(r!==0&&r!==a&&!(r&s)&&(s=a&-a,l=r&-r,s>=l||s===16&&(l&4194240)!==0))return r;if(a&4&&(a|=n&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=a;0<r;)n=31-Wt(r),s=1<<n,a|=t[n],r&=~s;return a}function th(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rh(t,r){for(var n=t.suspendedLanes,a=t.pingedLanes,s=t.expirationTimes,l=t.pendingLanes;0<l;){var o=31-Wt(l),p=1<<o,u=s[o];u===-1?(!(p&n)||p&a)&&(s[o]=th(p,r)):u<=r&&(t.expiredLanes|=p),l&=~p}}function Oi(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gu(){var t=is;return is<<=1,!(is&4194240)&&(is=64),t}function Ul(t){for(var r=[],n=0;31>n;n++)r.push(t);return r}function Wa(t,r,n){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Wt(r),t[r]=n}function nh(t,r){var n=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Wt(n),l=1<<s;r[s]=0,a[s]=-1,t[s]=-1,n&=~l}}function Oo(t,r){var n=t.entangledLanes|=r;for(t=t.entanglements;n;){var a=31-Wt(n),s=1<<a;s&r|t[a]&r&&(t[a]|=r),n&=~s}}var Te=0;function Xu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e0,Po,t0,r0,n0,Pi=!1,cs=[],qr=null,Dr=null,Rr=null,Ta=new Map,Aa=new Map,Or=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(t,r){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Ta.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(r.pointerId)}}function la(t,r,n,a,s,l){return t===null||t.nativeEvent!==l?(t={blockedOn:r,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[s]},r!==null&&(r=Za(r),r!==null&&Po(r)),t):(t.eventSystemFlags|=a,r=t.targetContainers,s!==null&&r.indexOf(s)===-1&&r.push(s),t)}function sh(t,r,n,a,s){switch(r){case"focusin":return qr=la(qr,t,r,n,a,s),!0;case"dragenter":return Dr=la(Dr,t,r,n,a,s),!0;case"mouseover":return Rr=la(Rr,t,r,n,a,s),!0;case"pointerover":var l=s.pointerId;return Ta.set(l,la(Ta.get(l)||null,t,r,n,a,s)),!0;case"gotpointercapture":return l=s.pointerId,Aa.set(l,la(Aa.get(l)||null,t,r,n,a,s)),!0}return!1}function a0(t){var r=tn(t.target);if(r!==null){var n=hn(r);if(n!==null){if(r=n.tag,r===13){if(r=Wu(n),r!==null){t.blockedOn=r,n0(t.priority,function(){t0(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ws(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var n=Ti(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Ei=a,n.target.dispatchEvent(a),Ei=null}else return r=Za(n),r!==null&&Po(r),t.blockedOn=n,!1;r.shift()}return!0}function Dc(t,r,n){ws(t)&&n.delete(r)}function lh(){Pi=!1,qr!==null&&ws(qr)&&(qr=null),Dr!==null&&ws(Dr)&&(Dr=null),Rr!==null&&ws(Rr)&&(Rr=null),Ta.forEach(Dc),Aa.forEach(Dc)}function ia(t,r){t.blockedOn===r&&(t.blockedOn=null,Pi||(Pi=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,lh)))}function La(t){function r(s){return ia(s,t)}if(0<cs.length){ia(cs[0],t);for(var n=1;n<cs.length;n++){var a=cs[n];a.blockedOn===t&&(a.blockedOn=null)}}for(qr!==null&&ia(qr,t),Dr!==null&&ia(Dr,t),Rr!==null&&ia(Rr,t),Ta.forEach(r),Aa.forEach(r),n=0;n<Or.length;n++)a=Or[n],a.blockedOn===t&&(a.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)a0(n),n.blockedOn===null&&Or.shift()}var An=jr.ReactCurrentBatchConfig,$s=!0;function ih(t,r,n,a){var s=Te,l=An.transition;An.transition=null;try{Te=1,To(t,r,n,a)}finally{Te=s,An.transition=l}}function oh(t,r,n,a){var s=Te,l=An.transition;An.transition=null;try{Te=4,To(t,r,n,a)}finally{Te=s,An.transition=l}}function To(t,r,n,a){if($s){var s=Ti(t,r,n,a);if(s===null)Gl(t,r,a,zs,n),qc(t,a);else if(sh(s,t,r,n,a))a.stopPropagation();else if(qc(t,a),r&4&&-1<ah.indexOf(t)){for(;s!==null;){var l=Za(s);if(l!==null&&e0(l),l=Ti(t,r,n,a),l===null&&Gl(t,r,a,zs,n),l===s)break;s=l}s!==null&&a.stopPropagation()}else Gl(t,r,a,null,n)}}var zs=null;function Ti(t,r,n,a){if(zs=null,t=_o(a),t=tn(t),t!==null)if(r=hn(t),r===null)t=null;else if(n=r.tag,n===13){if(t=Wu(r),t!==null)return t;t=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return zs=t,null}function s0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qp()){case So:return 1;case Ku:return 4;case Ds:case Kp:return 16;case Yu:return 536870912;default:return 16}default:return 16}}var Ar=null,Ao=null,ks=null;function l0(){if(ks)return ks;var t,r=Ao,n=r.length,a,s="value"in Ar?Ar.value:Ar.textContent,l=s.length;for(t=0;t<n&&r[t]===s[t];t++);var o=n-t;for(a=1;a<=o&&r[n-a]===s[l-a];a++);return ks=s.slice(t,1<a?1-a:void 0)}function Es(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ds(){return!0}function Rc(){return!1}function Tt(t){function r(n,a,s,l,o){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(n=t[p],this[p]=n?n(l):l[p]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ds:Rc,this.isPropagationStopped=Rc,this}return Fe(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),r}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=Tt(Jn),Ja=Fe({},Jn,{view:0,detail:0}),ch=Tt(Ja),Bl,Hl,oa,pl=Fe({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Io,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(Bl=t.screenX-oa.screenX,Hl=t.screenY-oa.screenY):Hl=Bl=0,oa=t),Bl)},movementY:function(t){return"movementY"in t?t.movementY:Hl}}),$c=Tt(pl),dh=Fe({},pl,{dataTransfer:0}),uh=Tt(dh),mh=Fe({},Ja,{relatedTarget:0}),Vl=Tt(mh),ph=Fe({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),hh=Tt(ph),xh=Fe({},Jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fh=Tt(xh),bh=Fe({},Jn,{data:0}),zc=Tt(bh),gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jh(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=yh[t])?!!r[t]:!1}function Io(){return jh}var Nh=Fe({},Ja,{key:function(t){if(t.key){var r=gh[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Io,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wh=Tt(Nh),kh=Fe({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=Tt(kh),Eh=Fe({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Io}),Ch=Tt(Eh),_h=Fe({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sh=Tt(_h),Oh=Fe({},pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ph=Tt(Oh),Th=[9,13,27,32],Mo=pr&&"CompositionEvent"in window,ja=null;pr&&"documentMode"in document&&(ja=document.documentMode);var Ah=pr&&"TextEvent"in window&&!ja,i0=pr&&(!Mo||ja&&8<ja&&11>=ja),Uc=String.fromCharCode(32),Bc=!1;function o0(t,r){switch(t){case"keyup":return Th.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vn=!1;function Lh(t,r){switch(t){case"compositionend":return c0(r);case"keypress":return r.which!==32?null:(Bc=!0,Uc);case"textInput":return t=r.data,t===Uc&&Bc?null:t;default:return null}}function Ih(t,r){if(vn)return t==="compositionend"||!Mo&&o0(t,r)?(t=l0(),ks=Ao=Ar=null,vn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return i0&&r.locale!=="ko"?null:r.data;default:return null}}var Mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Mh[t.type]:r==="textarea"}function d0(t,r,n,a){Fu(a),r=Fs(r,"onChange"),0<r.length&&(n=new Lo("onChange","change",null,n,a),t.push({event:n,listeners:r}))}var Na=null,Ia=null;function qh(t){j0(t,0)}function hl(t){var r=Nn(t);if(Iu(r))return t}function Dh(t,r){if(t==="change")return r}var u0=!1;if(pr){var Wl;if(pr){var Jl="oninput"in document;if(!Jl){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),Jl=typeof Vc.oninput=="function"}Wl=Jl}else Wl=!1;u0=Wl&&(!document.documentMode||9<document.documentMode)}function Wc(){Na&&(Na.detachEvent("onpropertychange",m0),Ia=Na=null)}function m0(t){if(t.propertyName==="value"&&hl(Ia)){var r=[];d0(r,Ia,t,_o(t)),Vu(qh,r)}}function Rh(t,r,n){t==="focusin"?(Wc(),Na=r,Ia=n,Na.attachEvent("onpropertychange",m0)):t==="focusout"&&Wc()}function $h(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hl(Ia)}function zh(t,r){if(t==="click")return hl(r)}function Fh(t,r){if(t==="input"||t==="change")return hl(r)}function Uh(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Qt=typeof Object.is=="function"?Object.is:Uh;function Ma(t,r){if(Qt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var n=Object.keys(t),a=Object.keys(r);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!pi.call(r,s)||!Qt(t[s],r[s]))return!1}return!0}function Jc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zc(t,r){var n=Jc(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=r&&a>=r)return{node:n,offset:r-t};t=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jc(n)}}function p0(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?p0(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function h0(){for(var t=window,r=Is();r instanceof t.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)t=r.contentWindow;else break;r=Is(t.document)}return r}function qo(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Bh(t){var r=h0(),n=t.focusedElem,a=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&p0(n.ownerDocument.documentElement,n)){if(a!==null&&qo(n)){if(r=a.start,t=a.end,t===void 0&&(t=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(t,n.value.length);else if(t=(r=n.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,l=Math.min(a.start,s);a=a.end===void 0?l:Math.min(a.end,s),!t.extend&&l>a&&(s=a,a=l,l=s),s=Zc(n,l);var o=Zc(n,a);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(s.node,s.offset),t.removeAllRanges(),l>a?(t.addRange(r),t.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),t.addRange(r)))}}for(r=[],t=n;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)t=r[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hh=pr&&"documentMode"in document&&11>=document.documentMode,yn=null,Ai=null,wa=null,Li=!1;function Qc(t,r,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Li||yn==null||yn!==Is(a)||(a=yn,"selectionStart"in a&&qo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),wa&&Ma(wa,a)||(wa=a,a=Fs(Ai,"onSelect"),0<a.length&&(r=new Lo("onSelect","select",null,r,n),t.push({event:r,listeners:a}),r.target=yn)))}function us(t,r){var n={};return n[t.toLowerCase()]=r.toLowerCase(),n["Webkit"+t]="webkit"+r,n["Moz"+t]="moz"+r,n}var jn={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Zl={},x0={};pr&&(x0=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function xl(t){if(Zl[t])return Zl[t];if(!jn[t])return t;var r=jn[t],n;for(n in r)if(r.hasOwnProperty(n)&&n in x0)return Zl[t]=r[n];return t}var f0=xl("animationend"),b0=xl("animationiteration"),g0=xl("animationstart"),v0=xl("transitionend"),y0=new Map,Kc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,r){y0.set(t,r),pn(r,[t])}for(var Ql=0;Ql<Kc.length;Ql++){var Kl=Kc[Ql],Vh=Kl.toLowerCase(),Wh=Kl[0].toUpperCase()+Kl.slice(1);Zr(Vh,"on"+Wh)}Zr(f0,"onAnimationEnd");Zr(b0,"onAnimationIteration");Zr(g0,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(v0,"onTransitionEnd");$n("onMouseEnter",["mouseout","mouseover"]);$n("onMouseLeave",["mouseout","mouseover"]);$n("onPointerEnter",["pointerout","pointerover"]);$n("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function Yc(t,r,n){var a=t.type||"unknown-event";t.currentTarget=n,Vp(a,r,void 0,t),t.currentTarget=null}function j0(t,r){r=(r&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],s=a.event;a=a.listeners;e:{var l=void 0;if(r)for(var o=a.length-1;0<=o;o--){var p=a[o],u=p.instance,f=p.currentTarget;if(p=p.listener,u!==l&&s.isPropagationStopped())break e;Yc(s,p,f),l=u}else for(o=0;o<a.length;o++){if(p=a[o],u=p.instance,f=p.currentTarget,p=p.listener,u!==l&&s.isPropagationStopped())break e;Yc(s,p,f),l=u}}}if(qs)throw t=Si,qs=!1,Si=null,t}function Ie(t,r){var n=r[Ri];n===void 0&&(n=r[Ri]=new Set);var a=t+"__bubble";n.has(a)||(N0(r,t,2,!1),n.add(a))}function Yl(t,r,n){var a=0;r&&(a|=4),N0(n,t,a,r)}var ms="_reactListening"+Math.random().toString(36).slice(2);function qa(t){if(!t[ms]){t[ms]=!0,Ou.forEach(function(n){n!=="selectionchange"&&(Jh.has(n)||Yl(n,!1,t),Yl(n,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ms]||(r[ms]=!0,Yl("selectionchange",!1,r))}}function N0(t,r,n,a){switch(s0(r)){case 1:var s=ih;break;case 4:s=oh;break;default:s=To}n=s.bind(null,r,n,t),s=void 0,!_i||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(s=!0),a?s!==void 0?t.addEventListener(r,n,{capture:!0,passive:s}):t.addEventListener(r,n,!0):s!==void 0?t.addEventListener(r,n,{passive:s}):t.addEventListener(r,n,!1)}function Gl(t,r,n,a,s){var l=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var p=a.stateNode.containerInfo;if(p===s||p.nodeType===8&&p.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;p!==null;){if(o=tn(p),o===null)return;if(u=o.tag,u===5||u===6){a=l=o;continue e}p=p.parentNode}}a=a.return}Vu(function(){var f=l,g=_o(n),m=[];e:{var i=y0.get(t);if(i!==void 0){var d=Lo,j=t;switch(t){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":d=wh;break;case"focusin":j="focus",d=Vl;break;case"focusout":j="blur",d=Vl;break;case"beforeblur":case"afterblur":d=Vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Ch;break;case f0:case b0:case g0:d=hh;break;case v0:d=Sh;break;case"scroll":d=ch;break;case"wheel":d=Ph;break;case"copy":case"cut":case"paste":d=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Fc}var y=(r&4)!==0,N=!y&&t==="scroll",h=y?i!==null?i+"Capture":null:i;y=[];for(var c=f,b;c!==null;){b=c;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,h!==null&&(x=Pa(c,h),x!=null&&y.push(Da(c,x,b)))),N)break;c=c.return}0<y.length&&(i=new d(i,j,null,n,g),m.push({event:i,listeners:y}))}}if(!(r&7)){e:{if(i=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",i&&n!==Ei&&(j=n.relatedTarget||n.fromElement)&&(tn(j)||j[hr]))break e;if((d||i)&&(i=g.window===g?g:(i=g.ownerDocument)?i.defaultView||i.parentWindow:window,d?(j=n.relatedTarget||n.toElement,d=f,j=j?tn(j):null,j!==null&&(N=hn(j),j!==N||j.tag!==5&&j.tag!==6)&&(j=null)):(d=null,j=f),d!==j)){if(y=$c,x="onMouseLeave",h="onMouseEnter",c="mouse",(t==="pointerout"||t==="pointerover")&&(y=Fc,x="onPointerLeave",h="onPointerEnter",c="pointer"),N=d==null?i:Nn(d),b=j==null?i:Nn(j),i=new y(x,c+"leave",d,n,g),i.target=N,i.relatedTarget=b,x=null,tn(g)===f&&(y=new y(h,c+"enter",j,n,g),y.target=b,y.relatedTarget=N,x=y),N=x,d&&j)t:{for(y=d,h=j,c=0,b=y;b;b=fn(b))c++;for(b=0,x=h;x;x=fn(x))b++;for(;0<c-b;)y=fn(y),c--;for(;0<b-c;)h=fn(h),b--;for(;c--;){if(y===h||h!==null&&y===h.alternate)break t;y=fn(y),h=fn(h)}y=null}else y=null;d!==null&&Gc(m,i,d,y,!1),j!==null&&N!==null&&Gc(m,N,j,y,!0)}}e:{if(i=f?Nn(f):window,d=i.nodeName&&i.nodeName.toLowerCase(),d==="select"||d==="input"&&i.type==="file")var v=Dh;else if(Hc(i))if(u0)v=Fh;else{v=$h;var k=Rh}else(d=i.nodeName)&&d.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(v=zh);if(v&&(v=v(t,f))){d0(m,v,n,g);break e}k&&k(t,i,f),t==="focusout"&&(k=i._wrapperState)&&k.controlled&&i.type==="number"&&yi(i,"number",i.value)}switch(k=f?Nn(f):window,t){case"focusin":(Hc(k)||k.contentEditable==="true")&&(yn=k,Ai=f,wa=null);break;case"focusout":wa=Ai=yn=null;break;case"mousedown":Li=!0;break;case"contextmenu":case"mouseup":case"dragend":Li=!1,Qc(m,n,g);break;case"selectionchange":if(Hh)break;case"keydown":case"keyup":Qc(m,n,g)}var w;if(Mo)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else vn?o0(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(i0&&n.locale!=="ko"&&(vn||S!=="onCompositionStart"?S==="onCompositionEnd"&&vn&&(w=l0()):(Ar=g,Ao="value"in Ar?Ar.value:Ar.textContent,vn=!0)),k=Fs(f,S),0<k.length&&(S=new zc(S,t,null,n,g),m.push({event:S,listeners:k}),w?S.data=w:(w=c0(n),w!==null&&(S.data=w)))),(w=Ah?Lh(t,n):Ih(t,n))&&(f=Fs(f,"onBeforeInput"),0<f.length&&(g=new zc("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:f}),g.data=w))}j0(m,r)})}function Da(t,r,n){return{instance:t,listener:r,currentTarget:n}}function Fs(t,r){for(var n=r+"Capture",a=[];t!==null;){var s=t,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Pa(t,n),l!=null&&a.unshift(Da(t,l,s)),l=Pa(t,r),l!=null&&a.push(Da(t,l,s))),t=t.return}return a}function fn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gc(t,r,n,a,s){for(var l=r._reactName,o=[];n!==null&&n!==a;){var p=n,u=p.alternate,f=p.stateNode;if(u!==null&&u===a)break;p.tag===5&&f!==null&&(p=f,s?(u=Pa(n,l),u!=null&&o.unshift(Da(n,u,p))):s||(u=Pa(n,l),u!=null&&o.push(Da(n,u,p)))),n=n.return}o.length!==0&&t.push({event:r,listeners:o})}var Zh=/\r\n?/g,Qh=/\u0000|\uFFFD/g;function Xc(t){return(typeof t=="string"?t:""+t).replace(Zh,`
`).replace(Qh,"")}function ps(t,r,n){if(r=Xc(r),Xc(t)!==r&&n)throw Error(de(425))}function Us(){}var Ii=null,Mi=null;function qi(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Di=typeof setTimeout=="function"?setTimeout:void 0,Kh=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,Yh=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(t){return ed.resolve(null).then(t).catch(Gh)}:Di;function Gh(t){setTimeout(function(){throw t})}function Xl(t,r){var n=r,a=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(a===0){t.removeChild(s),La(r);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=s}while(n);La(r)}function $r(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function td(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return t;r--}else n==="/$"&&r++}t=t.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),rr="__reactFiber$"+Zn,Ra="__reactProps$"+Zn,hr="__reactContainer$"+Zn,Ri="__reactEvents$"+Zn,Xh="__reactListeners$"+Zn,ex="__reactHandles$"+Zn;function tn(t){var r=t[rr];if(r)return r;for(var n=t.parentNode;n;){if(r=n[hr]||n[rr]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(t=td(t);t!==null;){if(n=t[rr])return n;t=td(t)}return r}t=n,n=t.parentNode}return null}function Za(t){return t=t[rr]||t[hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function fl(t){return t[Ra]||null}var $i=[],wn=-1;function Qr(t){return{current:t}}function qe(t){0>wn||(t.current=$i[wn],$i[wn]=null,wn--)}function Le(t,r){wn++,$i[wn]=t.current,t.current=r}var Wr={},ct=Qr(Wr),gt=Qr(!1),on=Wr;function zn(t,r){var n=t.type.contextTypes;if(!n)return Wr;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=r[l];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),s}function vt(t){return t=t.childContextTypes,t!=null}function Bs(){qe(gt),qe(ct)}function rd(t,r,n){if(ct.current!==Wr)throw Error(de(168));Le(ct,r),Le(gt,n)}function w0(t,r,n){var a=t.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var s in a)if(!(s in r))throw Error(de(108,Rp(t)||"Unknown",s));return Fe({},n,a)}function Hs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,on=ct.current,Le(ct,t),Le(gt,gt.current),!0}function nd(t,r,n){var a=t.stateNode;if(!a)throw Error(de(169));n?(t=w0(t,r,on),a.__reactInternalMemoizedMergedChildContext=t,qe(gt),qe(ct),Le(ct,t)):qe(gt),Le(gt,n)}var cr=null,bl=!1,ei=!1;function k0(t){cr===null?cr=[t]:cr.push(t)}function tx(t){bl=!0,k0(t)}function Kr(){if(!ei&&cr!==null){ei=!0;var t=0,r=Te;try{var n=cr;for(Te=1;t<n.length;t++){var a=n[t];do a=a(!0);while(a!==null)}cr=null,bl=!1}catch(s){throw cr!==null&&(cr=cr.slice(t+1)),Qu(So,Kr),s}finally{Te=r,ei=!1}}return null}var kn=[],En=0,Vs=null,Ws=0,At=[],Lt=0,cn=null,dr=1,ur="";function Yr(t,r){kn[En++]=Ws,kn[En++]=Vs,Vs=t,Ws=r}function E0(t,r,n){At[Lt++]=dr,At[Lt++]=ur,At[Lt++]=cn,cn=t;var a=dr;t=ur;var s=32-Wt(a)-1;a&=~(1<<s),n+=1;var l=32-Wt(r)+s;if(30<l){var o=s-s%5;l=(a&(1<<o)-1).toString(32),a>>=o,s-=o,dr=1<<32-Wt(r)+s|n<<s|a,ur=l+t}else dr=1<<l|n<<s|a,ur=t}function Do(t){t.return!==null&&(Yr(t,1),E0(t,1,0))}function Ro(t){for(;t===Vs;)Vs=kn[--En],kn[En]=null,Ws=kn[--En],kn[En]=null;for(;t===cn;)cn=At[--Lt],At[Lt]=null,ur=At[--Lt],At[Lt]=null,dr=At[--Lt],At[Lt]=null}var _t=null,Ct=null,De=!1,Ht=null;function C0(t,r){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=t,r=t.deletions,r===null?(t.deletions=[n],t.flags|=16):r.push(n)}function ad(t,r){switch(t.tag){case 5:var n=t.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,_t=t,Ct=$r(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,_t=t,Ct=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=cn!==null?{id:dr,overflow:ur}:null,t.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=r,n.return=t,t.child=n,_t=t,Ct=null,!0):!1;default:return!1}}function zi(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fi(t){if(De){var r=Ct;if(r){var n=r;if(!ad(t,r)){if(zi(t))throw Error(de(418));r=$r(n.nextSibling);var a=_t;r&&ad(t,r)?C0(a,n):(t.flags=t.flags&-4097|2,De=!1,_t=t)}}else{if(zi(t))throw Error(de(418));t.flags=t.flags&-4097|2,De=!1,_t=t}}}function sd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function hs(t){if(t!==_t)return!1;if(!De)return sd(t),De=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!qi(t.type,t.memoizedProps)),r&&(r=Ct)){if(zi(t))throw _0(),Error(de(418));for(;r;)C0(t,r),r=$r(r.nextSibling)}if(sd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(r===0){Ct=$r(t.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}t=t.nextSibling}Ct=null}}else Ct=_t?$r(t.stateNode.nextSibling):null;return!0}function _0(){for(var t=Ct;t;)t=$r(t.nextSibling)}function Fn(){Ct=_t=null,De=!1}function $o(t){Ht===null?Ht=[t]:Ht.push(t)}var rx=jr.ReactCurrentBatchConfig;function ca(t,r,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var a=n.stateNode}if(!a)throw Error(de(147,t));var s=a,l=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===l?r.ref:(r=function(o){var p=s.refs;o===null?delete p[l]:p[l]=o},r._stringRef=l,r)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function xs(t,r){throw t=Object.prototype.toString.call(r),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ld(t){var r=t._init;return r(t._payload)}function S0(t){function r(h,c){if(t){var b=h.deletions;b===null?(h.deletions=[c],h.flags|=16):b.push(c)}}function n(h,c){if(!t)return null;for(;c!==null;)r(h,c),c=c.sibling;return null}function a(h,c){for(h=new Map;c!==null;)c.key!==null?h.set(c.key,c):h.set(c.index,c),c=c.sibling;return h}function s(h,c){return h=Br(h,c),h.index=0,h.sibling=null,h}function l(h,c,b){return h.index=b,t?(b=h.alternate,b!==null?(b=b.index,b<c?(h.flags|=2,c):b):(h.flags|=2,c)):(h.flags|=1048576,c)}function o(h){return t&&h.alternate===null&&(h.flags|=2),h}function p(h,c,b,x){return c===null||c.tag!==6?(c=ii(b,h.mode,x),c.return=h,c):(c=s(c,b),c.return=h,c)}function u(h,c,b,x){var v=b.type;return v===gn?g(h,c,b.props.children,x,b.key):c!==null&&(c.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===_r&&ld(v)===c.type)?(x=s(c,b.props),x.ref=ca(h,c,b),x.return=h,x):(x=As(b.type,b.key,b.props,null,h.mode,x),x.ref=ca(h,c,b),x.return=h,x)}function f(h,c,b,x){return c===null||c.tag!==4||c.stateNode.containerInfo!==b.containerInfo||c.stateNode.implementation!==b.implementation?(c=oi(b,h.mode,x),c.return=h,c):(c=s(c,b.children||[]),c.return=h,c)}function g(h,c,b,x,v){return c===null||c.tag!==7?(c=sn(b,h.mode,x,v),c.return=h,c):(c=s(c,b),c.return=h,c)}function m(h,c,b){if(typeof c=="string"&&c!==""||typeof c=="number")return c=ii(""+c,h.mode,b),c.return=h,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case as:return b=As(c.type,c.key,c.props,null,h.mode,b),b.ref=ca(h,null,c),b.return=h,b;case bn:return c=oi(c,h.mode,b),c.return=h,c;case _r:var x=c._init;return m(h,x(c._payload),b)}if(xa(c)||aa(c))return c=sn(c,h.mode,b,null),c.return=h,c;xs(h,c)}return null}function i(h,c,b,x){var v=c!==null?c.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return v!==null?null:p(h,c,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case as:return b.key===v?u(h,c,b,x):null;case bn:return b.key===v?f(h,c,b,x):null;case _r:return v=b._init,i(h,c,v(b._payload),x)}if(xa(b)||aa(b))return v!==null?null:g(h,c,b,x,null);xs(h,b)}return null}function d(h,c,b,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return h=h.get(b)||null,p(c,h,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case as:return h=h.get(x.key===null?b:x.key)||null,u(c,h,x,v);case bn:return h=h.get(x.key===null?b:x.key)||null,f(c,h,x,v);case _r:var k=x._init;return d(h,c,b,k(x._payload),v)}if(xa(x)||aa(x))return h=h.get(b)||null,g(c,h,x,v,null);xs(c,x)}return null}function j(h,c,b,x){for(var v=null,k=null,w=c,S=c=0,E=null;w!==null&&S<b.length;S++){w.index>S?(E=w,w=null):E=w.sibling;var C=i(h,w,b[S],x);if(C===null){w===null&&(w=E);break}t&&w&&C.alternate===null&&r(h,w),c=l(C,c,S),k===null?v=C:k.sibling=C,k=C,w=E}if(S===b.length)return n(h,w),De&&Yr(h,S),v;if(w===null){for(;S<b.length;S++)w=m(h,b[S],x),w!==null&&(c=l(w,c,S),k===null?v=w:k.sibling=w,k=w);return De&&Yr(h,S),v}for(w=a(h,w);S<b.length;S++)E=d(w,h,S,b[S],x),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?S:E.key),c=l(E,c,S),k===null?v=E:k.sibling=E,k=E);return t&&w.forEach(function(O){return r(h,O)}),De&&Yr(h,S),v}function y(h,c,b,x){var v=aa(b);if(typeof v!="function")throw Error(de(150));if(b=v.call(b),b==null)throw Error(de(151));for(var k=v=null,w=c,S=c=0,E=null,C=b.next();w!==null&&!C.done;S++,C=b.next()){w.index>S?(E=w,w=null):E=w.sibling;var O=i(h,w,C.value,x);if(O===null){w===null&&(w=E);break}t&&w&&O.alternate===null&&r(h,w),c=l(O,c,S),k===null?v=O:k.sibling=O,k=O,w=E}if(C.done)return n(h,w),De&&Yr(h,S),v;if(w===null){for(;!C.done;S++,C=b.next())C=m(h,C.value,x),C!==null&&(c=l(C,c,S),k===null?v=C:k.sibling=C,k=C);return De&&Yr(h,S),v}for(w=a(h,w);!C.done;S++,C=b.next())C=d(w,h,S,C.value,x),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?S:C.key),c=l(C,c,S),k===null?v=C:k.sibling=C,k=C);return t&&w.forEach(function(_){return r(h,_)}),De&&Yr(h,S),v}function N(h,c,b,x){if(typeof b=="object"&&b!==null&&b.type===gn&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case as:e:{for(var v=b.key,k=c;k!==null;){if(k.key===v){if(v=b.type,v===gn){if(k.tag===7){n(h,k.sibling),c=s(k,b.props.children),c.return=h,h=c;break e}}else if(k.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===_r&&ld(v)===k.type){n(h,k.sibling),c=s(k,b.props),c.ref=ca(h,k,b),c.return=h,h=c;break e}n(h,k);break}else r(h,k);k=k.sibling}b.type===gn?(c=sn(b.props.children,h.mode,x,b.key),c.return=h,h=c):(x=As(b.type,b.key,b.props,null,h.mode,x),x.ref=ca(h,c,b),x.return=h,h=x)}return o(h);case bn:e:{for(k=b.key;c!==null;){if(c.key===k)if(c.tag===4&&c.stateNode.containerInfo===b.containerInfo&&c.stateNode.implementation===b.implementation){n(h,c.sibling),c=s(c,b.children||[]),c.return=h,h=c;break e}else{n(h,c);break}else r(h,c);c=c.sibling}c=oi(b,h.mode,x),c.return=h,h=c}return o(h);case _r:return k=b._init,N(h,c,k(b._payload),x)}if(xa(b))return j(h,c,b,x);if(aa(b))return y(h,c,b,x);xs(h,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,c!==null&&c.tag===6?(n(h,c.sibling),c=s(c,b),c.return=h,h=c):(n(h,c),c=ii(b,h.mode,x),c.return=h,h=c),o(h)):n(h,c)}return N}var Un=S0(!0),O0=S0(!1),Js=Qr(null),Zs=null,Cn=null,zo=null;function Fo(){zo=Cn=Zs=null}function Uo(t){var r=Js.current;qe(Js),t._currentValue=r}function Ui(t,r,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),t===n)break;t=t.return}}function Ln(t,r){Zs=t,zo=Cn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(ft=!0),t.firstContext=null)}function Rt(t){var r=t._currentValue;if(zo!==t)if(t={context:t,memoizedValue:r,next:null},Cn===null){if(Zs===null)throw Error(de(308));Cn=t,Zs.dependencies={lanes:0,firstContext:t}}else Cn=Cn.next=t;return r}var rn=null;function Bo(t){rn===null?rn=[t]:rn.push(t)}function P0(t,r,n,a){var s=r.interleaved;return s===null?(n.next=n,Bo(r)):(n.next=s.next,s.next=n),r.interleaved=n,xr(t,a)}function xr(t,r){t.lanes|=r;var n=t.alternate;for(n!==null&&(n.lanes|=r),n=t,t=t.return;t!==null;)t.childLanes|=r,n=t.alternate,n!==null&&(n.childLanes|=r),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sr=!1;function Ho(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T0(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function zr(t,r,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,_e&2){var s=a.pending;return s===null?r.next=r:(r.next=s.next,s.next=r),a.pending=r,xr(t,n)}return s=a.interleaved,s===null?(r.next=r,Bo(a)):(r.next=s.next,s.next=r),a.interleaved=r,xr(t,n)}function Cs(t,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var a=r.lanes;a&=t.pendingLanes,n|=a,r.lanes=n,Oo(t,n)}}function id(t,r){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=r:l=l.next=r}else s=l=r;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:a.shared,effects:a.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=r:t.next=r,n.lastBaseUpdate=r}function Qs(t,r,n,a){var s=t.updateQueue;Sr=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var u=p,f=u.next;u.next=null,o===null?l=f:o.next=f,o=u;var g=t.alternate;g!==null&&(g=g.updateQueue,p=g.lastBaseUpdate,p!==o&&(p===null?g.firstBaseUpdate=f:p.next=f,g.lastBaseUpdate=u))}if(l!==null){var m=s.baseState;o=0,g=f=u=null,p=l;do{var i=p.lane,d=p.eventTime;if((a&i)===i){g!==null&&(g=g.next={eventTime:d,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var j=t,y=p;switch(i=r,d=n,y.tag){case 1:if(j=y.payload,typeof j=="function"){m=j.call(d,m,i);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=y.payload,i=typeof j=="function"?j.call(d,m,i):j,i==null)break e;m=Fe({},m,i);break e;case 2:Sr=!0}}p.callback!==null&&p.lane!==0&&(t.flags|=64,i=s.effects,i===null?s.effects=[p]:i.push(p))}else d={eventTime:d,lane:i,tag:p.tag,payload:p.payload,callback:p.callback,next:null},g===null?(f=g=d,u=m):g=g.next=d,o|=i;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;i=p,p=i.next,i.next=null,s.lastBaseUpdate=i,s.shared.pending=null}}while(1);if(g===null&&(u=m),s.baseState=u,s.firstBaseUpdate=f,s.lastBaseUpdate=g,r=s.shared.interleaved,r!==null){s=r;do o|=s.lane,s=s.next;while(s!==r)}else l===null&&(s.shared.lanes=0);un|=o,t.lanes=o,t.memoizedState=m}}function od(t,r,n){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var a=t[r],s=a.callback;if(s!==null){if(a.callback=null,a=n,typeof s!="function")throw Error(de(191,s));s.call(a)}}}var Qa={},sr=Qr(Qa),$a=Qr(Qa),za=Qr(Qa);function nn(t){if(t===Qa)throw Error(de(174));return t}function Vo(t,r){switch(Le(za,r),Le($a,t),Le(sr,Qa),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ni(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Ni(r,t)}qe(sr),Le(sr,r)}function Bn(){qe(sr),qe($a),qe(za)}function A0(t){nn(za.current);var r=nn(sr.current),n=Ni(r,t.type);r!==n&&(Le($a,t),Le(sr,n))}function Wo(t){$a.current===t&&(qe(sr),qe($a))}var $e=Qr(0);function Ks(t){for(var r=t;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ti=[];function Jo(){for(var t=0;t<ti.length;t++)ti[t]._workInProgressVersionPrimary=null;ti.length=0}var _s=jr.ReactCurrentDispatcher,ri=jr.ReactCurrentBatchConfig,dn=0,ze=null,Ye=null,Xe=null,Ys=!1,ka=!1,Fa=0,nx=0;function st(){throw Error(de(321))}function Zo(t,r){if(r===null)return!1;for(var n=0;n<r.length&&n<t.length;n++)if(!Qt(t[n],r[n]))return!1;return!0}function Qo(t,r,n,a,s,l){if(dn=l,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,_s.current=t===null||t.memoizedState===null?ix:ox,t=n(a,s),ka){l=0;do{if(ka=!1,Fa=0,25<=l)throw Error(de(301));l+=1,Xe=Ye=null,r.updateQueue=null,_s.current=cx,t=n(a,s)}while(ka)}if(_s.current=Gs,r=Ye!==null&&Ye.next!==null,dn=0,Xe=Ye=ze=null,Ys=!1,r)throw Error(de(300));return t}function Ko(){var t=Fa!==0;return Fa=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ze.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function $t(){if(Ye===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=Xe===null?ze.memoizedState:Xe.next;if(r!==null)Xe=r,Ye=t;else{if(t===null)throw Error(de(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Xe===null?ze.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function Ua(t,r){return typeof r=="function"?r(t):r}function ni(t){var r=$t(),n=r.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var a=Ye,s=a.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}a.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,a=a.baseState;var p=o=null,u=null,f=l;do{var g=f.lane;if((dn&g)===g)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),a=f.hasEagerState?f.eagerState:t(a,f.action);else{var m={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(p=u=m,o=a):u=u.next=m,ze.lanes|=g,un|=g}f=f.next}while(f!==null&&f!==l);u===null?o=a:u.next=p,Qt(a,r.memoizedState)||(ft=!0),r.memoizedState=a,r.baseState=o,r.baseQueue=u,n.lastRenderedState=a}if(t=n.interleaved,t!==null){s=t;do l=s.lane,ze.lanes|=l,un|=l,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function ai(t){var r=$t(),n=r.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var a=n.dispatch,s=n.pending,l=r.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=t(l,o.action),o=o.next;while(o!==s);Qt(l,r.memoizedState)||(ft=!0),r.memoizedState=l,r.baseQueue===null&&(r.baseState=l),n.lastRenderedState=l}return[l,a]}function L0(){}function I0(t,r){var n=ze,a=$t(),s=r(),l=!Qt(a.memoizedState,s);if(l&&(a.memoizedState=s,ft=!0),a=a.queue,Yo(D0.bind(null,n,a,t),[t]),a.getSnapshot!==r||l||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Ba(9,q0.bind(null,n,a,s,r),void 0,null),et===null)throw Error(de(349));dn&30||M0(n,r,s)}return s}function M0(t,r,n){t.flags|=16384,t={getSnapshot:r,value:n},r=ze.updateQueue,r===null?(r={lastEffect:null,stores:null},ze.updateQueue=r,r.stores=[t]):(n=r.stores,n===null?r.stores=[t]:n.push(t))}function q0(t,r,n,a){r.value=n,r.getSnapshot=a,R0(r)&&$0(t)}function D0(t,r,n){return n(function(){R0(r)&&$0(t)})}function R0(t){var r=t.getSnapshot;t=t.value;try{var n=r();return!Qt(t,n)}catch{return!0}}function $0(t){var r=xr(t,1);r!==null&&Jt(r,t,1,-1)}function cd(t){var r=tr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:t},r.queue=t,t=t.dispatch=lx.bind(null,ze,t),[r.memoizedState,t]}function Ba(t,r,n,a){return t={tag:t,create:r,destroy:n,deps:a,next:null},r=ze.updateQueue,r===null?(r={lastEffect:null,stores:null},ze.updateQueue=r,r.lastEffect=t.next=t):(n=r.lastEffect,n===null?r.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,r.lastEffect=t)),t}function z0(){return $t().memoizedState}function Ss(t,r,n,a){var s=tr();ze.flags|=t,s.memoizedState=Ba(1|r,n,void 0,a===void 0?null:a)}function gl(t,r,n,a){var s=$t();a=a===void 0?null:a;var l=void 0;if(Ye!==null){var o=Ye.memoizedState;if(l=o.destroy,a!==null&&Zo(a,o.deps)){s.memoizedState=Ba(r,n,l,a);return}}ze.flags|=t,s.memoizedState=Ba(1|r,n,l,a)}function dd(t,r){return Ss(8390656,8,t,r)}function Yo(t,r){return gl(2048,8,t,r)}function F0(t,r){return gl(4,2,t,r)}function U0(t,r){return gl(4,4,t,r)}function B0(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function H0(t,r,n){return n=n!=null?n.concat([t]):null,gl(4,4,B0.bind(null,r,t),n)}function Go(){}function V0(t,r){var n=$t();r=r===void 0?null:r;var a=n.memoizedState;return a!==null&&r!==null&&Zo(r,a[1])?a[0]:(n.memoizedState=[t,r],t)}function W0(t,r){var n=$t();r=r===void 0?null:r;var a=n.memoizedState;return a!==null&&r!==null&&Zo(r,a[1])?a[0]:(t=t(),n.memoizedState=[t,r],t)}function J0(t,r,n){return dn&21?(Qt(n,r)||(n=Gu(),ze.lanes|=n,un|=n,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function ax(t,r){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var a=ri.transition;ri.transition={};try{t(!1),r()}finally{Te=n,ri.transition=a}}function Z0(){return $t().memoizedState}function sx(t,r,n){var a=Ur(t);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Q0(t))K0(r,n);else if(n=P0(t,r,n,a),n!==null){var s=ut();Jt(n,t,a,s),Y0(n,r,a)}}function lx(t,r,n){var a=Ur(t),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q0(t))K0(r,s);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=r.lastRenderedReducer,l!==null))try{var o=r.lastRenderedState,p=l(o,n);if(s.hasEagerState=!0,s.eagerState=p,Qt(p,o)){var u=r.interleaved;u===null?(s.next=s,Bo(r)):(s.next=u.next,u.next=s),r.interleaved=s;return}}catch{}finally{}n=P0(t,r,s,a),n!==null&&(s=ut(),Jt(n,t,a,s),Y0(n,r,a))}}function Q0(t){var r=t.alternate;return t===ze||r!==null&&r===ze}function K0(t,r){ka=Ys=!0;var n=t.pending;n===null?r.next=r:(r.next=n.next,n.next=r),t.pending=r}function Y0(t,r,n){if(n&4194240){var a=r.lanes;a&=t.pendingLanes,n|=a,r.lanes=n,Oo(t,n)}}var Gs={readContext:Rt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},ix={readContext:Rt,useCallback:function(t,r){return tr().memoizedState=[t,r===void 0?null:r],t},useContext:Rt,useEffect:dd,useImperativeHandle:function(t,r,n){return n=n!=null?n.concat([t]):null,Ss(4194308,4,B0.bind(null,r,t),n)},useLayoutEffect:function(t,r){return Ss(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ss(4,2,t,r)},useMemo:function(t,r){var n=tr();return r=r===void 0?null:r,t=t(),n.memoizedState=[t,r],t},useReducer:function(t,r,n){var a=tr();return r=n!==void 0?n(r):r,a.memoizedState=a.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=sx.bind(null,ze,t),[a.memoizedState,t]},useRef:function(t){var r=tr();return t={current:t},r.memoizedState=t},useState:cd,useDebugValue:Go,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=cd(!1),r=t[0];return t=ax.bind(null,t[1]),tr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,n){var a=ze,s=tr();if(De){if(n===void 0)throw Error(de(407));n=n()}else{if(n=r(),et===null)throw Error(de(349));dn&30||M0(a,r,n)}s.memoizedState=n;var l={value:n,getSnapshot:r};return s.queue=l,dd(D0.bind(null,a,l,t),[t]),a.flags|=2048,Ba(9,q0.bind(null,a,l,n,r),void 0,null),n},useId:function(){var t=tr(),r=et.identifierPrefix;if(De){var n=ur,a=dr;n=(a&~(1<<32-Wt(a)-1)).toString(32)+n,r=":"+r+"R"+n,n=Fa++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=nx++,r=":"+r+"r"+n.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},ox={readContext:Rt,useCallback:V0,useContext:Rt,useEffect:Yo,useImperativeHandle:H0,useInsertionEffect:F0,useLayoutEffect:U0,useMemo:W0,useReducer:ni,useRef:z0,useState:function(){return ni(Ua)},useDebugValue:Go,useDeferredValue:function(t){var r=$t();return J0(r,Ye.memoizedState,t)},useTransition:function(){var t=ni(Ua)[0],r=$t().memoizedState;return[t,r]},useMutableSource:L0,useSyncExternalStore:I0,useId:Z0,unstable_isNewReconciler:!1},cx={readContext:Rt,useCallback:V0,useContext:Rt,useEffect:Yo,useImperativeHandle:H0,useInsertionEffect:F0,useLayoutEffect:U0,useMemo:W0,useReducer:ai,useRef:z0,useState:function(){return ai(Ua)},useDebugValue:Go,useDeferredValue:function(t){var r=$t();return Ye===null?r.memoizedState=t:J0(r,Ye.memoizedState,t)},useTransition:function(){var t=ai(Ua)[0],r=$t().memoizedState;return[t,r]},useMutableSource:L0,useSyncExternalStore:I0,useId:Z0,unstable_isNewReconciler:!1};function Ut(t,r){if(t&&t.defaultProps){r=Fe({},r),t=t.defaultProps;for(var n in t)r[n]===void 0&&(r[n]=t[n]);return r}return r}function Bi(t,r,n,a){r=t.memoizedState,n=n(a,r),n=n==null?r:Fe({},r,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vl={isMounted:function(t){return(t=t._reactInternals)?hn(t)===t:!1},enqueueSetState:function(t,r,n){t=t._reactInternals;var a=ut(),s=Ur(t),l=mr(a,s);l.payload=r,n!=null&&(l.callback=n),r=zr(t,l,s),r!==null&&(Jt(r,t,s,a),Cs(r,t,s))},enqueueReplaceState:function(t,r,n){t=t._reactInternals;var a=ut(),s=Ur(t),l=mr(a,s);l.tag=1,l.payload=r,n!=null&&(l.callback=n),r=zr(t,l,s),r!==null&&(Jt(r,t,s,a),Cs(r,t,s))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var n=ut(),a=Ur(t),s=mr(n,a);s.tag=2,r!=null&&(s.callback=r),r=zr(t,s,a),r!==null&&(Jt(r,t,a,n),Cs(r,t,a))}};function ud(t,r,n,a,s,l,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,l,o):r.prototype&&r.prototype.isPureReactComponent?!Ma(n,a)||!Ma(s,l):!0}function G0(t,r,n){var a=!1,s=Wr,l=r.contextType;return typeof l=="object"&&l!==null?l=Rt(l):(s=vt(r)?on:ct.current,a=r.contextTypes,l=(a=a!=null)?zn(t,s):Wr),r=new r(n,l),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=vl,t.stateNode=r,r._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=l),r}function md(t,r,n,a){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,a),r.state!==t&&vl.enqueueReplaceState(r,r.state,null)}function Hi(t,r,n,a){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ho(t);var l=r.contextType;typeof l=="object"&&l!==null?s.context=Rt(l):(l=vt(r)?on:ct.current,s.context=zn(t,l)),s.state=t.memoizedState,l=r.getDerivedStateFromProps,typeof l=="function"&&(Bi(t,r,l,n),s.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&vl.enqueueReplaceState(s,s.state,null),Qs(t,n,s,a),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Hn(t,r){try{var n="",a=r;do n+=Dp(a),a=a.return;while(a);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:r,stack:s,digest:null}}function si(t,r,n){return{value:t,source:null,stack:n??null,digest:r??null}}function Vi(t,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var dx=typeof WeakMap=="function"?WeakMap:Map;function X0(t,r,n){n=mr(-1,n),n.tag=3,n.payload={element:null};var a=r.value;return n.callback=function(){el||(el=!0,eo=a),Vi(t,r)},n}function em(t,r,n){n=mr(-1,n),n.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var s=r.value;n.payload=function(){return a(s)},n.callback=function(){Vi(t,r)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Vi(t,r),typeof a!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),n}function pd(t,r,n){var a=t.pingCache;if(a===null){a=t.pingCache=new dx;var s=new Set;a.set(r,s)}else s=a.get(r),s===void 0&&(s=new Set,a.set(r,s));s.has(n)||(s.add(n),t=kx.bind(null,t,r,n),r.then(t,t))}function hd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function xd(t,r,n,a,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===r?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=mr(-1,1),r.tag=2,zr(n,r,1))),n.lanes|=1),t)}var ux=jr.ReactCurrentOwner,ft=!1;function dt(t,r,n,a){r.child=t===null?O0(r,null,n,a):Un(r,t.child,n,a)}function fd(t,r,n,a,s){n=n.render;var l=r.ref;return Ln(r,s),a=Qo(t,r,n,a,l,s),n=Ko(),t!==null&&!ft?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s,fr(t,r,s)):(De&&n&&Do(r),r.flags|=1,dt(t,r,a,s),r.child)}function bd(t,r,n,a,s){if(t===null){var l=n.type;return typeof l=="function"&&!lc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=l,tm(t,r,l,a,s)):(t=As(n.type,null,a,r,r.mode,s),t.ref=r.ref,t.return=r,r.child=t)}if(l=t.child,!(t.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ma,n(o,a)&&t.ref===r.ref)return fr(t,r,s)}return r.flags|=1,t=Br(l,a),t.ref=r.ref,t.return=r,r.child=t}function tm(t,r,n,a,s){if(t!==null){var l=t.memoizedProps;if(Ma(l,a)&&t.ref===r.ref)if(ft=!1,r.pendingProps=a=l,(t.lanes&s)!==0)t.flags&131072&&(ft=!0);else return r.lanes=t.lanes,fr(t,r,s)}return Wi(t,r,n,a,s)}function rm(t,r,n){var a=r.pendingProps,s=a.children,l=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Sn,kt),kt|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Le(Sn,kt),kt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:n,Le(Sn,kt),kt|=a}else l!==null?(a=l.baseLanes|n,r.memoizedState=null):a=n,Le(Sn,kt),kt|=a;return dt(t,r,s,n),r.child}function nm(t,r){var n=r.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function Wi(t,r,n,a,s){var l=vt(n)?on:ct.current;return l=zn(r,l),Ln(r,s),n=Qo(t,r,n,a,l,s),a=Ko(),t!==null&&!ft?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s,fr(t,r,s)):(De&&a&&Do(r),r.flags|=1,dt(t,r,n,s),r.child)}function gd(t,r,n,a,s){if(vt(n)){var l=!0;Hs(r)}else l=!1;if(Ln(r,s),r.stateNode===null)Os(t,r),G0(r,n,a),Hi(r,n,a,s),a=!0;else if(t===null){var o=r.stateNode,p=r.memoizedProps;o.props=p;var u=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=Rt(f):(f=vt(n)?on:ct.current,f=zn(r,f));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(p!==a||u!==f)&&md(r,o,a,f),Sr=!1;var i=r.memoizedState;o.state=i,Qs(r,a,o,s),u=r.memoizedState,p!==a||i!==u||gt.current||Sr?(typeof g=="function"&&(Bi(r,n,g,a),u=r.memoizedState),(p=Sr||ud(r,n,p,a,i,u,f))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=u),o.props=a,o.state=u,o.context=f,a=p):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{o=r.stateNode,T0(t,r),p=r.memoizedProps,f=r.type===r.elementType?p:Ut(r.type,p),o.props=f,m=r.pendingProps,i=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Rt(u):(u=vt(n)?on:ct.current,u=zn(r,u));var d=n.getDerivedStateFromProps;(g=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(p!==m||i!==u)&&md(r,o,a,u),Sr=!1,i=r.memoizedState,o.state=i,Qs(r,a,o,s);var j=r.memoizedState;p!==m||i!==j||gt.current||Sr?(typeof d=="function"&&(Bi(r,n,d,a),j=r.memoizedState),(f=Sr||ud(r,n,f,a,i,j,u)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,j,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,j,u)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||p===t.memoizedProps&&i===t.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&i===t.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=j),o.props=a,o.state=j,o.context=u,a=f):(typeof o.componentDidUpdate!="function"||p===t.memoizedProps&&i===t.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&i===t.memoizedState||(r.flags|=1024),a=!1)}return Ji(t,r,n,a,l,s)}function Ji(t,r,n,a,s,l){nm(t,r);var o=(r.flags&128)!==0;if(!a&&!o)return s&&nd(r,n,!1),fr(t,r,l);a=r.stateNode,ux.current=r;var p=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,t!==null&&o?(r.child=Un(r,t.child,null,l),r.child=Un(r,null,p,l)):dt(t,r,p,l),r.memoizedState=a.state,s&&nd(r,n,!0),r.child}function am(t){var r=t.stateNode;r.pendingContext?rd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&rd(t,r.context,!1),Vo(t,r.containerInfo)}function vd(t,r,n,a,s){return Fn(),$o(s),r.flags|=256,dt(t,r,n,a),r.child}var Zi={dehydrated:null,treeContext:null,retryLane:0};function Qi(t){return{baseLanes:t,cachePool:null,transitions:null}}function sm(t,r,n){var a=r.pendingProps,s=$e.current,l=!1,o=(r.flags&128)!==0,p;if((p=o)||(p=t!==null&&t.memoizedState===null?!1:(s&2)!==0),p?(l=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le($e,s&1),t===null)return Fi(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(o=a.children,t=a.fallback,l?(a=r.mode,l=r.child,o={mode:"hidden",children:o},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Nl(o,a,0,null),t=sn(t,a,n,null),l.return=r,t.return=r,l.sibling=t,r.child=l,r.child.memoizedState=Qi(n),r.memoizedState=Zi,t):Xo(r,o));if(s=t.memoizedState,s!==null&&(p=s.dehydrated,p!==null))return mx(t,r,o,a,p,s,n);if(l){l=a.fallback,o=r.mode,s=t.child,p=s.sibling;var u={mode:"hidden",children:a.children};return!(o&1)&&r.child!==s?(a=r.child,a.childLanes=0,a.pendingProps=u,r.deletions=null):(a=Br(s,u),a.subtreeFlags=s.subtreeFlags&14680064),p!==null?l=Br(p,l):(l=sn(l,o,n,null),l.flags|=2),l.return=r,a.return=r,a.sibling=l,r.child=a,a=l,l=r.child,o=t.child.memoizedState,o=o===null?Qi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=t.childLanes&~n,r.memoizedState=Zi,a}return l=t.child,t=l.sibling,a=Br(l,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=n),a.return=r,a.sibling=null,t!==null&&(n=r.deletions,n===null?(r.deletions=[t],r.flags|=16):n.push(t)),r.child=a,r.memoizedState=null,a}function Xo(t,r){return r=Nl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function fs(t,r,n,a){return a!==null&&$o(a),Un(r,t.child,null,n),t=Xo(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function mx(t,r,n,a,s,l,o){if(n)return r.flags&256?(r.flags&=-257,a=si(Error(de(422))),fs(t,r,o,a)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(l=a.fallback,s=r.mode,a=Nl({mode:"visible",children:a.children},s,0,null),l=sn(l,s,o,null),l.flags|=2,a.return=r,l.return=r,a.sibling=l,r.child=a,r.mode&1&&Un(r,t.child,null,o),r.child.memoizedState=Qi(o),r.memoizedState=Zi,l);if(!(r.mode&1))return fs(t,r,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var p=a.dgst;return a=p,l=Error(de(419)),a=si(l,a,void 0),fs(t,r,o,a)}if(p=(o&t.childLanes)!==0,ft||p){if(a=et,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,xr(t,s),Jt(a,t,s,-1))}return sc(),a=si(Error(de(421))),fs(t,r,o,a)}return s.data==="$?"?(r.flags|=128,r.child=t.child,r=Ex.bind(null,t),s._reactRetry=r,null):(t=l.treeContext,Ct=$r(s.nextSibling),_t=r,De=!0,Ht=null,t!==null&&(At[Lt++]=dr,At[Lt++]=ur,At[Lt++]=cn,dr=t.id,ur=t.overflow,cn=r),r=Xo(r,a.children),r.flags|=4096,r)}function yd(t,r,n){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r),Ui(t.return,r,n)}function li(t,r,n,a,s){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(l.isBackwards=r,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=s)}function lm(t,r,n){var a=r.pendingProps,s=a.revealOrder,l=a.tail;if(dt(t,r,a.children,n),a=$e.current,a&2)a=a&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yd(t,n,r);else if(t.tag===19)yd(t,n,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Le($e,a),!(r.mode&1))r.memoizedState=null;else switch(s){case"forwards":for(n=r.child,s=null;n!==null;)t=n.alternate,t!==null&&Ks(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=r.child,r.child=null):(s=n.sibling,n.sibling=null),li(r,!1,s,n,l);break;case"backwards":for(n=null,s=r.child,r.child=null;s!==null;){if(t=s.alternate,t!==null&&Ks(t)===null){r.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}li(r,!0,n,null,l);break;case"together":li(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Os(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fr(t,r,n){if(t!==null&&(r.dependencies=t.dependencies),un|=r.lanes,!(n&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(de(153));if(r.child!==null){for(t=r.child,n=Br(t,t.pendingProps),r.child=n,n.return=r;t.sibling!==null;)t=t.sibling,n=n.sibling=Br(t,t.pendingProps),n.return=r;n.sibling=null}return r.child}function px(t,r,n){switch(r.tag){case 3:am(r),Fn();break;case 5:A0(r);break;case 1:vt(r.type)&&Hs(r);break;case 4:Vo(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,s=r.memoizedProps.value;Le(Js,a._currentValue),a._currentValue=s;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(Le($e,$e.current&1),r.flags|=128,null):n&r.child.childLanes?sm(t,r,n):(Le($e,$e.current&1),t=fr(t,r,n),t!==null?t.sibling:null);Le($e,$e.current&1);break;case 19:if(a=(n&r.childLanes)!==0,t.flags&128){if(a)return lm(t,r,n);r.flags|=128}if(s=r.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le($e,$e.current),a)break;return null;case 22:case 23:return r.lanes=0,rm(t,r,n)}return fr(t,r,n)}var im,Ki,om,cm;im=function(t,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ki=function(){};om=function(t,r,n,a){var s=t.memoizedProps;if(s!==a){t=r.stateNode,nn(sr.current);var l=null;switch(n){case"input":s=gi(t,s),a=gi(t,a),l=[];break;case"select":s=Fe({},s,{value:void 0}),a=Fe({},a,{value:void 0}),l=[];break;case"textarea":s=ji(t,s),a=ji(t,a),l=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Us)}wi(n,a);var o;n=null;for(f in s)if(!a.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var p=s[f];for(o in p)p.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Sa.hasOwnProperty(f)?l||(l=[]):(l=l||[]).push(f,null));for(f in a){var u=a[f];if(p=s!=null?s[f]:void 0,a.hasOwnProperty(f)&&u!==p&&(u!=null||p!=null))if(f==="style")if(p){for(o in p)!p.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&p[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(l||(l=[]),l.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,p=p?p.__html:void 0,u!=null&&p!==u&&(l=l||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Sa.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&Ie("scroll",t),l||p===u||(l=[])):(l=l||[]).push(f,u))}n&&(l=l||[]).push("style",n);var f=l;(r.updateQueue=f)&&(r.flags|=4)}};cm=function(t,r,n,a){n!==a&&(r.flags|=4)};function da(t,r){if(!De)switch(t.tailMode){case"hidden":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(r)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=a,t.childLanes=n,r}function hx(t,r,n){var a=r.pendingProps;switch(Ro(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return vt(r.type)&&Bs(),lt(r),null;case 3:return a=r.stateNode,Bn(),qe(gt),qe(ct),Jo(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(hs(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Ht!==null&&(no(Ht),Ht=null))),Ki(t,r),lt(r),null;case 5:Wo(r);var s=nn(za.current);if(n=r.type,t!==null&&r.stateNode!=null)om(t,r,n,a,s),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(de(166));return lt(r),null}if(t=nn(sr.current),hs(r)){a=r.stateNode,n=r.type;var l=r.memoizedProps;switch(a[rr]=r,a[Ra]=l,t=(r.mode&1)!==0,n){case"dialog":Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":case"embed":Ie("load",a);break;case"video":case"audio":for(s=0;s<ba.length;s++)Ie(ba[s],a);break;case"source":Ie("error",a);break;case"img":case"image":case"link":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"input":Oc(a,l),Ie("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Ie("invalid",a);break;case"textarea":Tc(a,l),Ie("invalid",a)}wi(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var p=l[o];o==="children"?typeof p=="string"?a.textContent!==p&&(l.suppressHydrationWarning!==!0&&ps(a.textContent,p,t),s=["children",p]):typeof p=="number"&&a.textContent!==""+p&&(l.suppressHydrationWarning!==!0&&ps(a.textContent,p,t),s=["children",""+p]):Sa.hasOwnProperty(o)&&p!=null&&o==="onScroll"&&Ie("scroll",a)}switch(n){case"input":ss(a),Pc(a,l,!0);break;case"textarea":ss(a),Ac(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=Us)}a=s,r.updateQueue=a,a!==null&&(r.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Du(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=o.createElement(n,{is:a.is}):(t=o.createElement(n),n==="select"&&(o=t,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):t=o.createElementNS(t,n),t[rr]=r,t[Ra]=a,im(t,r,!1,!1),r.stateNode=t;e:{switch(o=ki(n,a),n){case"dialog":Ie("cancel",t),Ie("close",t),s=a;break;case"iframe":case"object":case"embed":Ie("load",t),s=a;break;case"video":case"audio":for(s=0;s<ba.length;s++)Ie(ba[s],t);s=a;break;case"source":Ie("error",t),s=a;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),s=a;break;case"details":Ie("toggle",t),s=a;break;case"input":Oc(t,a),s=gi(t,a),Ie("invalid",t);break;case"option":s=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},s=Fe({},a,{value:void 0}),Ie("invalid",t);break;case"textarea":Tc(t,a),s=ji(t,a),Ie("invalid",t);break;default:s=a}wi(n,s),p=s;for(l in p)if(p.hasOwnProperty(l)){var u=p[l];l==="style"?zu(t,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ru(t,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Oa(t,u):typeof u=="number"&&Oa(t,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Sa.hasOwnProperty(l)?u!=null&&l==="onScroll"&&Ie("scroll",t):u!=null&&wo(t,l,u,o))}switch(n){case"input":ss(t),Pc(t,a,!1);break;case"textarea":ss(t),Ac(t);break;case"option":a.value!=null&&t.setAttribute("value",""+Vr(a.value));break;case"select":t.multiple=!!a.multiple,l=a.value,l!=null?On(t,!!a.multiple,l,!1):a.defaultValue!=null&&On(t,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Us)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return lt(r),null;case 6:if(t&&r.stateNode!=null)cm(t,r,t.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(de(166));if(n=nn(za.current),nn(sr.current),hs(r)){if(a=r.stateNode,n=r.memoizedProps,a[rr]=r,(l=a.nodeValue!==n)&&(t=_t,t!==null))switch(t.tag){case 3:ps(a.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ps(a.nodeValue,n,(t.mode&1)!==0)}l&&(r.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[rr]=r,r.stateNode=a}return lt(r),null;case 13:if(qe($e),a=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Ct!==null&&r.mode&1&&!(r.flags&128))_0(),Fn(),r.flags|=98560,l=!1;else if(l=hs(r),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(de(318));if(l=r.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(de(317));l[rr]=r}else Fn(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;lt(r),l=!1}else Ht!==null&&(no(Ht),Ht=null),l=!0;if(!l)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(t===null||$e.current&1?Ge===0&&(Ge=3):sc())),r.updateQueue!==null&&(r.flags|=4),lt(r),null);case 4:return Bn(),Ki(t,r),t===null&&qa(r.stateNode.containerInfo),lt(r),null;case 10:return Uo(r.type._context),lt(r),null;case 17:return vt(r.type)&&Bs(),lt(r),null;case 19:if(qe($e),l=r.memoizedState,l===null)return lt(r),null;if(a=(r.flags&128)!==0,o=l.rendering,o===null)if(a)da(l,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(o=Ks(t),o!==null){for(r.flags|=128,da(l,!1),a=o.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=n,n=r.child;n!==null;)l=n,t=a,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,t=o.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le($e,$e.current&1|2),r.child}t=t.sibling}l.tail!==null&&He()>Vn&&(r.flags|=128,a=!0,da(l,!1),r.lanes=4194304)}else{if(!a)if(t=Ks(o),t!==null){if(r.flags|=128,a=!0,n=t.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),da(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!De)return lt(r),null}else 2*He()-l.renderingStartTime>Vn&&n!==1073741824&&(r.flags|=128,a=!0,da(l,!1),r.lanes=4194304);l.isBackwards?(o.sibling=r.child,r.child=o):(n=l.last,n!==null?n.sibling=o:r.child=o,l.last=o)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=He(),r.sibling=null,n=$e.current,Le($e,a?n&1|2:n&1),r):(lt(r),null);case 22:case 23:return ac(),a=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?kt&1073741824&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),null;case 24:return null;case 25:return null}throw Error(de(156,r.tag))}function xx(t,r){switch(Ro(r),r.tag){case 1:return vt(r.type)&&Bs(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Bn(),qe(gt),qe(ct),Jo(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Wo(r),null;case 13:if(qe($e),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(de(340));Fn()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe($e),null;case 4:return Bn(),null;case 10:return Uo(r.type._context),null;case 22:case 23:return ac(),null;case 24:return null;default:return null}}var bs=!1,it=!1,fx=typeof WeakSet=="function"?WeakSet:Set,fe=null;function _n(t,r){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Ue(t,r,a)}else n.current=null}function dm(t,r,n){try{n()}catch(a){Ue(t,r,a)}}var jd=!1;function bx(t,r){if(Ii=$s,t=h0(),qo(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,p=-1,u=-1,f=0,g=0,m=t,i=null;t:for(;;){for(var d;m!==n||s!==0&&m.nodeType!==3||(p=o+s),m!==l||a!==0&&m.nodeType!==3||(u=o+a),m.nodeType===3&&(o+=m.nodeValue.length),(d=m.firstChild)!==null;)i=m,m=d;for(;;){if(m===t)break t;if(i===n&&++f===s&&(p=o),i===l&&++g===a&&(u=o),(d=m.nextSibling)!==null)break;m=i,i=m.parentNode}m=d}n=p===-1||u===-1?null:{start:p,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mi={focusedElem:t,selectionRange:n},$s=!1,fe=r;fe!==null;)if(r=fe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,fe=t;else for(;fe!==null;){r=fe;try{var j=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var y=j.memoizedProps,N=j.memoizedState,h=r.stateNode,c=h.getSnapshotBeforeUpdate(r.elementType===r.type?y:Ut(r.type,y),N);h.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(x){Ue(r,r.return,x)}if(t=r.sibling,t!==null){t.return=r.return,fe=t;break}fe=r.return}return j=jd,jd=!1,j}function Ea(t,r,n){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&t)===t){var l=s.destroy;s.destroy=void 0,l!==void 0&&dm(r,n,l)}s=s.next}while(s!==a)}}function yl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&t)===t){var a=n.create;n.destroy=a()}n=n.next}while(n!==r)}}function Yi(t){var r=t.ref;if(r!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof r=="function"?r(t):r.current=t}}function um(t){var r=t.alternate;r!==null&&(t.alternate=null,um(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[rr],delete r[Ra],delete r[Ri],delete r[Xh],delete r[ex])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mm(t){return t.tag===5||t.tag===3||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gi(t,r,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(t,n)):(r=n,r.appendChild(t)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=Us));else if(a!==4&&(t=t.child,t!==null))for(Gi(t,r,n),t=t.sibling;t!==null;)Gi(t,r,n),t=t.sibling}function Xi(t,r,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?n.insertBefore(t,r):n.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Xi(t,r,n),t=t.sibling;t!==null;)Xi(t,r,n),t=t.sibling}var rt=null,Bt=!1;function Er(t,r,n){for(n=n.child;n!==null;)pm(t,r,n),n=n.sibling}function pm(t,r,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(ml,n)}catch{}switch(n.tag){case 5:it||_n(n,r);case 6:var a=rt,s=Bt;rt=null,Er(t,r,n),rt=a,Bt=s,rt!==null&&(Bt?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(Bt?(t=rt,n=n.stateNode,t.nodeType===8?Xl(t.parentNode,n):t.nodeType===1&&Xl(t,n),La(t)):Xl(rt,n.stateNode));break;case 4:a=rt,s=Bt,rt=n.stateNode.containerInfo,Bt=!0,Er(t,r,n),rt=a,Bt=s;break;case 0:case 11:case 14:case 15:if(!it&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&dm(n,r,o),s=s.next}while(s!==a)}Er(t,r,n);break;case 1:if(!it&&(_n(n,r),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(p){Ue(n,r,p)}Er(t,r,n);break;case 21:Er(t,r,n);break;case 22:n.mode&1?(it=(a=it)||n.memoizedState!==null,Er(t,r,n),it=a):Er(t,r,n);break;default:Er(t,r,n)}}function wd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fx),r.forEach(function(a){var s=Cx.bind(null,t,a);n.has(a)||(n.add(a),a.then(s,s))})}}function Ft(t,r){var n=r.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];try{var l=t,o=r,p=o;e:for(;p!==null;){switch(p.tag){case 5:rt=p.stateNode,Bt=!1;break e;case 3:rt=p.stateNode.containerInfo,Bt=!0;break e;case 4:rt=p.stateNode.containerInfo,Bt=!0;break e}p=p.return}if(rt===null)throw Error(de(160));pm(l,o,s),rt=null,Bt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(f){Ue(s,r,f)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)hm(r,t),r=r.sibling}function hm(t,r){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(r,t),Xt(t),a&4){try{Ea(3,t,t.return),yl(3,t)}catch(y){Ue(t,t.return,y)}try{Ea(5,t,t.return)}catch(y){Ue(t,t.return,y)}}break;case 1:Ft(r,t),Xt(t),a&512&&n!==null&&_n(n,n.return);break;case 5:if(Ft(r,t),Xt(t),a&512&&n!==null&&_n(n,n.return),t.flags&32){var s=t.stateNode;try{Oa(s,"")}catch(y){Ue(t,t.return,y)}}if(a&4&&(s=t.stateNode,s!=null)){var l=t.memoizedProps,o=n!==null?n.memoizedProps:l,p=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{p==="input"&&l.type==="radio"&&l.name!=null&&Mu(s,l),ki(p,o);var f=ki(p,l);for(o=0;o<u.length;o+=2){var g=u[o],m=u[o+1];g==="style"?zu(s,m):g==="dangerouslySetInnerHTML"?Ru(s,m):g==="children"?Oa(s,m):wo(s,g,m,f)}switch(p){case"input":vi(s,l);break;case"textarea":qu(s,l);break;case"select":var i=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var d=l.value;d!=null?On(s,!!l.multiple,d,!1):i!==!!l.multiple&&(l.defaultValue!=null?On(s,!!l.multiple,l.defaultValue,!0):On(s,!!l.multiple,l.multiple?[]:"",!1))}s[Ra]=l}catch(y){Ue(t,t.return,y)}}break;case 6:if(Ft(r,t),Xt(t),a&4){if(t.stateNode===null)throw Error(de(162));s=t.stateNode,l=t.memoizedProps;try{s.nodeValue=l}catch(y){Ue(t,t.return,y)}}break;case 3:if(Ft(r,t),Xt(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{La(r.containerInfo)}catch(y){Ue(t,t.return,y)}break;case 4:Ft(r,t),Xt(t);break;case 13:Ft(r,t),Xt(t),s=t.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(rc=He())),a&4&&wd(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(it=(f=it)||g,Ft(r,t),it=f):Ft(r,t),Xt(t),a&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!g&&t.mode&1)for(fe=t,g=t.child;g!==null;){for(m=fe=g;fe!==null;){switch(i=fe,d=i.child,i.tag){case 0:case 11:case 14:case 15:Ea(4,i,i.return);break;case 1:_n(i,i.return);var j=i.stateNode;if(typeof j.componentWillUnmount=="function"){a=i,n=i.return;try{r=a,j.props=r.memoizedProps,j.state=r.memoizedState,j.componentWillUnmount()}catch(y){Ue(a,n,y)}}break;case 5:_n(i,i.return);break;case 22:if(i.memoizedState!==null){Ed(m);continue}}d!==null?(d.return=i,fe=d):Ed(m)}g=g.sibling}e:for(g=null,m=t;;){if(m.tag===5){if(g===null){g=m;try{s=m.stateNode,f?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(p=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,p.style.display=$u("display",o))}catch(y){Ue(t,t.return,y)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(y){Ue(t,t.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ft(r,t),Xt(t),a&4&&wd(t);break;case 21:break;default:Ft(r,t),Xt(t)}}function Xt(t){var r=t.flags;if(r&2){try{e:{for(var n=t.return;n!==null;){if(mm(n)){var a=n;break e}n=n.return}throw Error(de(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(Oa(s,""),a.flags&=-33);var l=Nd(t);Xi(t,l,s);break;case 3:case 4:var o=a.stateNode.containerInfo,p=Nd(t);Gi(t,p,o);break;default:throw Error(de(161))}}catch(u){Ue(t,t.return,u)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function gx(t,r,n){fe=t,xm(t)}function xm(t,r,n){for(var a=(t.mode&1)!==0;fe!==null;){var s=fe,l=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||bs;if(!o){var p=s.alternate,u=p!==null&&p.memoizedState!==null||it;p=bs;var f=it;if(bs=o,(it=u)&&!f)for(fe=s;fe!==null;)o=fe,u=o.child,o.tag===22&&o.memoizedState!==null?Cd(s):u!==null?(u.return=o,fe=u):Cd(s);for(;l!==null;)fe=l,xm(l),l=l.sibling;fe=s,bs=p,it=f}kd(t)}else s.subtreeFlags&8772&&l!==null?(l.return=s,fe=l):kd(t)}}function kd(t){for(;fe!==null;){var r=fe;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:it||yl(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!it)if(n===null)a.componentDidMount();else{var s=r.elementType===r.type?n.memoizedProps:Ut(r.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=r.updateQueue;l!==null&&od(r,l,a);break;case 3:var o=r.updateQueue;if(o!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}od(r,o,n)}break;case 5:var p=r.stateNode;if(n===null&&r.flags&4){n=p;var u=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var f=r.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&La(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}it||r.flags&512&&Yi(r)}catch(i){Ue(r,r.return,i)}}if(r===t){fe=null;break}if(n=r.sibling,n!==null){n.return=r.return,fe=n;break}fe=r.return}}function Ed(t){for(;fe!==null;){var r=fe;if(r===t){fe=null;break}var n=r.sibling;if(n!==null){n.return=r.return,fe=n;break}fe=r.return}}function Cd(t){for(;fe!==null;){var r=fe;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{yl(4,r)}catch(u){Ue(r,n,u)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var s=r.return;try{a.componentDidMount()}catch(u){Ue(r,s,u)}}var l=r.return;try{Yi(r)}catch(u){Ue(r,l,u)}break;case 5:var o=r.return;try{Yi(r)}catch(u){Ue(r,o,u)}}}catch(u){Ue(r,r.return,u)}if(r===t){fe=null;break}var p=r.sibling;if(p!==null){p.return=r.return,fe=p;break}fe=r.return}}var vx=Math.ceil,Xs=jr.ReactCurrentDispatcher,ec=jr.ReactCurrentOwner,qt=jr.ReactCurrentBatchConfig,_e=0,et=null,Qe=null,nt=0,kt=0,Sn=Qr(0),Ge=0,Ha=null,un=0,jl=0,tc=0,Ca=null,xt=null,rc=0,Vn=1/0,or=null,el=!1,eo=null,Fr=null,gs=!1,Lr=null,tl=0,_a=0,to=null,Ps=-1,Ts=0;function ut(){return _e&6?He():Ps!==-1?Ps:Ps=He()}function Ur(t){return t.mode&1?_e&2&&nt!==0?nt&-nt:rx.transition!==null?(Ts===0&&(Ts=Gu()),Ts):(t=Te,t!==0||(t=window.event,t=t===void 0?16:s0(t.type)),t):1}function Jt(t,r,n,a){if(50<_a)throw _a=0,to=null,Error(de(185));Wa(t,n,a),(!(_e&2)||t!==et)&&(t===et&&(!(_e&2)&&(jl|=n),Ge===4&&Pr(t,nt)),yt(t,a),n===1&&_e===0&&!(r.mode&1)&&(Vn=He()+500,bl&&Kr()))}function yt(t,r){var n=t.callbackNode;rh(t,r);var a=Rs(t,t===et?nt:0);if(a===0)n!==null&&Mc(n),t.callbackNode=null,t.callbackPriority=0;else if(r=a&-a,t.callbackPriority!==r){if(n!=null&&Mc(n),r===1)t.tag===0?tx(_d.bind(null,t)):k0(_d.bind(null,t)),Yh(function(){!(_e&6)&&Kr()}),n=null;else{switch(Xu(a)){case 1:n=So;break;case 4:n=Ku;break;case 16:n=Ds;break;case 536870912:n=Yu;break;default:n=Ds}n=wm(n,fm.bind(null,t))}t.callbackPriority=r,t.callbackNode=n}}function fm(t,r){if(Ps=-1,Ts=0,_e&6)throw Error(de(327));var n=t.callbackNode;if(In()&&t.callbackNode!==n)return null;var a=Rs(t,t===et?nt:0);if(a===0)return null;if(a&30||a&t.expiredLanes||r)r=rl(t,a);else{r=a;var s=_e;_e|=2;var l=gm();(et!==t||nt!==r)&&(or=null,Vn=He()+500,an(t,r));do try{Nx();break}catch(p){bm(t,p)}while(1);Fo(),Xs.current=l,_e=s,Qe!==null?r=0:(et=null,nt=0,r=Ge)}if(r!==0){if(r===2&&(s=Oi(t),s!==0&&(a=s,r=ro(t,s))),r===1)throw n=Ha,an(t,0),Pr(t,a),yt(t,He()),n;if(r===6)Pr(t,a);else{if(s=t.current.alternate,!(a&30)&&!yx(s)&&(r=rl(t,a),r===2&&(l=Oi(t),l!==0&&(a=l,r=ro(t,l))),r===1))throw n=Ha,an(t,0),Pr(t,a),yt(t,He()),n;switch(t.finishedWork=s,t.finishedLanes=a,r){case 0:case 1:throw Error(de(345));case 2:Gr(t,xt,or);break;case 3:if(Pr(t,a),(a&130023424)===a&&(r=rc+500-He(),10<r)){if(Rs(t,0)!==0)break;if(s=t.suspendedLanes,(s&a)!==a){ut(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Di(Gr.bind(null,t,xt,or),r);break}Gr(t,xt,or);break;case 4:if(Pr(t,a),(a&4194240)===a)break;for(r=t.eventTimes,s=-1;0<a;){var o=31-Wt(a);l=1<<o,o=r[o],o>s&&(s=o),a&=~l}if(a=s,a=He()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*vx(a/1960))-a,10<a){t.timeoutHandle=Di(Gr.bind(null,t,xt,or),a);break}Gr(t,xt,or);break;case 5:Gr(t,xt,or);break;default:throw Error(de(329))}}}return yt(t,He()),t.callbackNode===n?fm.bind(null,t):null}function ro(t,r){var n=Ca;return t.current.memoizedState.isDehydrated&&(an(t,r).flags|=256),t=rl(t,r),t!==2&&(r=xt,xt=n,r!==null&&no(r)),t}function no(t){xt===null?xt=t:xt.push.apply(xt,t)}function yx(t){for(var r=t;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var s=n[a],l=s.getSnapshot;s=s.value;try{if(!Qt(l(),s))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Pr(t,r){for(r&=~tc,r&=~jl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var n=31-Wt(r),a=1<<n;t[n]=-1,r&=~a}}function _d(t){if(_e&6)throw Error(de(327));In();var r=Rs(t,0);if(!(r&1))return yt(t,He()),null;var n=rl(t,r);if(t.tag!==0&&n===2){var a=Oi(t);a!==0&&(r=a,n=ro(t,a))}if(n===1)throw n=Ha,an(t,0),Pr(t,r),yt(t,He()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Gr(t,xt,or),yt(t,He()),null}function nc(t,r){var n=_e;_e|=1;try{return t(r)}finally{_e=n,_e===0&&(Vn=He()+500,bl&&Kr())}}function mn(t){Lr!==null&&Lr.tag===0&&!(_e&6)&&In();var r=_e;_e|=1;var n=qt.transition,a=Te;try{if(qt.transition=null,Te=1,t)return t()}finally{Te=a,qt.transition=n,_e=r,!(_e&6)&&Kr()}}function ac(){kt=Sn.current,qe(Sn)}function an(t,r){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Kh(n)),Qe!==null)for(n=Qe.return;n!==null;){var a=n;switch(Ro(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Bs();break;case 3:Bn(),qe(gt),qe(ct),Jo();break;case 5:Wo(a);break;case 4:Bn();break;case 13:qe($e);break;case 19:qe($e);break;case 10:Uo(a.type._context);break;case 22:case 23:ac()}n=n.return}if(et=t,Qe=t=Br(t.current,null),nt=kt=r,Ge=0,Ha=null,tc=jl=un=0,xt=Ca=null,rn!==null){for(r=0;r<rn.length;r++)if(n=rn[r],a=n.interleaved,a!==null){n.interleaved=null;var s=a.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,a.next=o}n.pending=a}rn=null}return t}function bm(t,r){do{var n=Qe;try{if(Fo(),_s.current=Gs,Ys){for(var a=ze.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Ys=!1}if(dn=0,Xe=Ye=ze=null,ka=!1,Fa=0,ec.current=null,n===null||n.return===null){Ge=1,Ha=r,Qe=null;break}e:{var l=t,o=n.return,p=n,u=r;if(r=nt,p.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,g=p,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var i=g.alternate;i?(g.updateQueue=i.updateQueue,g.memoizedState=i.memoizedState,g.lanes=i.lanes):(g.updateQueue=null,g.memoizedState=null)}var d=hd(o);if(d!==null){d.flags&=-257,xd(d,o,p,l,r),d.mode&1&&pd(l,f,r),r=d,u=f;var j=r.updateQueue;if(j===null){var y=new Set;y.add(u),r.updateQueue=y}else j.add(u);break e}else{if(!(r&1)){pd(l,f,r),sc();break e}u=Error(de(426))}}else if(De&&p.mode&1){var N=hd(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),xd(N,o,p,l,r),$o(Hn(u,p));break e}}l=u=Hn(u,p),Ge!==4&&(Ge=2),Ca===null?Ca=[l]:Ca.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,r&=-r,l.lanes|=r;var h=X0(l,u,r);id(l,h);break e;case 1:p=u;var c=l.type,b=l.stateNode;if(!(l.flags&128)&&(typeof c.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fr===null||!Fr.has(b)))){l.flags|=65536,r&=-r,l.lanes|=r;var x=em(l,p,r);id(l,x);break e}}l=l.return}while(l!==null)}ym(n)}catch(v){r=v,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(1)}function gm(){var t=Xs.current;return Xs.current=Gs,t===null?Gs:t}function sc(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),et===null||!(un&268435455)&&!(jl&268435455)||Pr(et,nt)}function rl(t,r){var n=_e;_e|=2;var a=gm();(et!==t||nt!==r)&&(or=null,an(t,r));do try{jx();break}catch(s){bm(t,s)}while(1);if(Fo(),_e=n,Xs.current=a,Qe!==null)throw Error(de(261));return et=null,nt=0,Ge}function jx(){for(;Qe!==null;)vm(Qe)}function Nx(){for(;Qe!==null&&!Jp();)vm(Qe)}function vm(t){var r=Nm(t.alternate,t,kt);t.memoizedProps=t.pendingProps,r===null?ym(t):Qe=r,ec.current=null}function ym(t){var r=t;do{var n=r.alternate;if(t=r.return,r.flags&32768){if(n=xx(n,r),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,Qe=null;return}}else if(n=hx(n,r,kt),n!==null){Qe=n;return}if(r=r.sibling,r!==null){Qe=r;return}Qe=r=t}while(r!==null);Ge===0&&(Ge=5)}function Gr(t,r,n){var a=Te,s=qt.transition;try{qt.transition=null,Te=1,wx(t,r,n,a)}finally{qt.transition=s,Te=a}return null}function wx(t,r,n,a){do In();while(Lr!==null);if(_e&6)throw Error(de(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(nh(t,l),t===et&&(Qe=et=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gs||(gs=!0,wm(Ds,function(){return In(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=qt.transition,qt.transition=null;var o=Te;Te=1;var p=_e;_e|=4,ec.current=null,bx(t,n),hm(n,t),Bh(Mi),$s=!!Ii,Mi=Ii=null,t.current=n,gx(n),Zp(),_e=p,Te=o,qt.transition=l}else t.current=n;if(gs&&(gs=!1,Lr=t,tl=s),l=t.pendingLanes,l===0&&(Fr=null),Yp(n.stateNode),yt(t,He()),r!==null)for(a=t.onRecoverableError,n=0;n<r.length;n++)s=r[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(el)throw el=!1,t=eo,eo=null,t;return tl&1&&t.tag!==0&&In(),l=t.pendingLanes,l&1?t===to?_a++:(_a=0,to=t):_a=0,Kr(),null}function In(){if(Lr!==null){var t=Xu(tl),r=qt.transition,n=Te;try{if(qt.transition=null,Te=16>t?16:t,Lr===null)var a=!1;else{if(t=Lr,Lr=null,tl=0,_e&6)throw Error(de(331));var s=_e;for(_e|=4,fe=t.current;fe!==null;){var l=fe,o=l.child;if(fe.flags&16){var p=l.deletions;if(p!==null){for(var u=0;u<p.length;u++){var f=p[u];for(fe=f;fe!==null;){var g=fe;switch(g.tag){case 0:case 11:case 15:Ea(8,g,l)}var m=g.child;if(m!==null)m.return=g,fe=m;else for(;fe!==null;){g=fe;var i=g.sibling,d=g.return;if(um(g),g===f){fe=null;break}if(i!==null){i.return=d,fe=i;break}fe=d}}}var j=l.alternate;if(j!==null){var y=j.child;if(y!==null){j.child=null;do{var N=y.sibling;y.sibling=null,y=N}while(y!==null)}}fe=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,fe=o;else e:for(;fe!==null;){if(l=fe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ea(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,fe=h;break e}fe=l.return}}var c=t.current;for(fe=c;fe!==null;){o=fe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,fe=b;else e:for(o=c;fe!==null;){if(p=fe,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:yl(9,p)}}catch(v){Ue(p,p.return,v)}if(p===o){fe=null;break e}var x=p.sibling;if(x!==null){x.return=p.return,fe=x;break e}fe=p.return}}if(_e=s,Kr(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(ml,t)}catch{}a=!0}return a}finally{Te=n,qt.transition=r}}return!1}function Sd(t,r,n){r=Hn(n,r),r=X0(t,r,1),t=zr(t,r,1),r=ut(),t!==null&&(Wa(t,1,r),yt(t,r))}function Ue(t,r,n){if(t.tag===3)Sd(t,t,n);else for(;r!==null;){if(r.tag===3){Sd(r,t,n);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Fr===null||!Fr.has(a))){t=Hn(n,t),t=em(r,t,1),r=zr(r,t,1),t=ut(),r!==null&&(Wa(r,1,t),yt(r,t));break}}r=r.return}}function kx(t,r,n){var a=t.pingCache;a!==null&&a.delete(r),r=ut(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(nt&n)===n&&(Ge===4||Ge===3&&(nt&130023424)===nt&&500>He()-rc?an(t,0):tc|=n),yt(t,r)}function jm(t,r){r===0&&(t.mode&1?(r=os,os<<=1,!(os&130023424)&&(os=4194304)):r=1);var n=ut();t=xr(t,r),t!==null&&(Wa(t,r,n),yt(t,n))}function Ex(t){var r=t.memoizedState,n=0;r!==null&&(n=r.retryLane),jm(t,n)}function Cx(t,r){var n=0;switch(t.tag){case 13:var a=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(de(314))}a!==null&&a.delete(r),jm(t,n)}var Nm;Nm=function(t,r,n){if(t!==null)if(t.memoizedProps!==r.pendingProps||gt.current)ft=!0;else{if(!(t.lanes&n)&&!(r.flags&128))return ft=!1,px(t,r,n);ft=!!(t.flags&131072)}else ft=!1,De&&r.flags&1048576&&E0(r,Ws,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;Os(t,r),t=r.pendingProps;var s=zn(r,ct.current);Ln(r,n),s=Qo(null,r,a,t,s,n);var l=Ko();return r.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,vt(a)?(l=!0,Hs(r)):l=!1,r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ho(r),s.updater=vl,r.stateNode=s,s._reactInternals=r,Hi(r,a,t,n),r=Ji(null,r,a,!0,l,n)):(r.tag=0,De&&l&&Do(r),dt(null,r,s,n),r=r.child),r;case 16:a=r.elementType;e:{switch(Os(t,r),t=r.pendingProps,s=a._init,a=s(a._payload),r.type=a,s=r.tag=Sx(a),t=Ut(a,t),s){case 0:r=Wi(null,r,a,t,n);break e;case 1:r=gd(null,r,a,t,n);break e;case 11:r=fd(null,r,a,t,n);break e;case 14:r=bd(null,r,a,Ut(a.type,t),n);break e}throw Error(de(306,a,""))}return r;case 0:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:Ut(a,s),Wi(t,r,a,s,n);case 1:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:Ut(a,s),gd(t,r,a,s,n);case 3:e:{if(am(r),t===null)throw Error(de(387));a=r.pendingProps,l=r.memoizedState,s=l.element,T0(t,r),Qs(r,a,null,n);var o=r.memoizedState;if(a=o.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=l,r.memoizedState=l,r.flags&256){s=Hn(Error(de(423)),r),r=vd(t,r,a,n,s);break e}else if(a!==s){s=Hn(Error(de(424)),r),r=vd(t,r,a,n,s);break e}else for(Ct=$r(r.stateNode.containerInfo.firstChild),_t=r,De=!0,Ht=null,n=O0(r,null,a,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fn(),a===s){r=fr(t,r,n);break e}dt(t,r,a,n)}r=r.child}return r;case 5:return A0(r),t===null&&Fi(r),a=r.type,s=r.pendingProps,l=t!==null?t.memoizedProps:null,o=s.children,qi(a,s)?o=null:l!==null&&qi(a,l)&&(r.flags|=32),nm(t,r),dt(t,r,o,n),r.child;case 6:return t===null&&Fi(r),null;case 13:return sm(t,r,n);case 4:return Vo(r,r.stateNode.containerInfo),a=r.pendingProps,t===null?r.child=Un(r,null,a,n):dt(t,r,a,n),r.child;case 11:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:Ut(a,s),fd(t,r,a,s,n);case 7:return dt(t,r,r.pendingProps,n),r.child;case 8:return dt(t,r,r.pendingProps.children,n),r.child;case 12:return dt(t,r,r.pendingProps.children,n),r.child;case 10:e:{if(a=r.type._context,s=r.pendingProps,l=r.memoizedProps,o=s.value,Le(Js,a._currentValue),a._currentValue=o,l!==null)if(Qt(l.value,o)){if(l.children===s.children&&!gt.current){r=fr(t,r,n);break e}}else for(l=r.child,l!==null&&(l.return=r);l!==null;){var p=l.dependencies;if(p!==null){o=l.child;for(var u=p.firstContext;u!==null;){if(u.context===a){if(l.tag===1){u=mr(-1,n&-n),u.tag=2;var f=l.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?u.next=u:(u.next=g.next,g.next=u),f.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Ui(l.return,n,r),p.lanes|=n;break}u=u.next}}else if(l.tag===10)o=l.type===r.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(de(341));o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Ui(o,n,r),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===r){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}dt(t,r,s.children,n),r=r.child}return r;case 9:return s=r.type,a=r.pendingProps.children,Ln(r,n),s=Rt(s),a=a(s),r.flags|=1,dt(t,r,a,n),r.child;case 14:return a=r.type,s=Ut(a,r.pendingProps),s=Ut(a.type,s),bd(t,r,a,s,n);case 15:return tm(t,r,r.type,r.pendingProps,n);case 17:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:Ut(a,s),Os(t,r),r.tag=1,vt(a)?(t=!0,Hs(r)):t=!1,Ln(r,n),G0(r,a,s),Hi(r,a,s,n),Ji(null,r,a,!0,t,n);case 19:return lm(t,r,n);case 22:return rm(t,r,n)}throw Error(de(156,r.tag))};function wm(t,r){return Qu(t,r)}function _x(t,r,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,r,n,a){return new _x(t,r,n,a)}function lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sx(t){if(typeof t=="function")return lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Eo)return 11;if(t===Co)return 14}return 2}function Br(t,r){var n=t.alternate;return n===null?(n=It(t.tag,r,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=r,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,r=t.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function As(t,r,n,a,s,l){var o=2;if(a=t,typeof t=="function")lc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gn:return sn(n.children,s,l,r);case ko:o=8,s|=8;break;case hi:return t=It(12,n,r,s|2),t.elementType=hi,t.lanes=l,t;case xi:return t=It(13,n,r,s),t.elementType=xi,t.lanes=l,t;case fi:return t=It(19,n,r,s),t.elementType=fi,t.lanes=l,t;case Au:return Nl(n,s,l,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pu:o=10;break e;case Tu:o=9;break e;case Eo:o=11;break e;case Co:o=14;break e;case _r:o=16,a=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return r=It(o,n,r,s),r.elementType=t,r.type=a,r.lanes=l,r}function sn(t,r,n,a){return t=It(7,t,a,r),t.lanes=n,t}function Nl(t,r,n,a){return t=It(22,t,a,r),t.elementType=Au,t.lanes=n,t.stateNode={isHidden:!1},t}function ii(t,r,n){return t=It(6,t,null,r),t.lanes=n,t}function oi(t,r,n){return r=It(4,t.children!==null?t.children:[],t.key,r),r.lanes=n,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Ox(t,r,n,a,s){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ic(t,r,n,a,s,l,o,p,u){return t=new Ox(t,r,n,p,u),r===1?(r=1,l===!0&&(r|=8)):r=0,l=It(3,null,null,r),t.current=l,l.stateNode=t,l.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ho(l),t}function Px(t,r,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bn,key:a==null?null:""+a,children:t,containerInfo:r,implementation:n}}function km(t){if(!t)return Wr;t=t._reactInternals;e:{if(hn(t)!==t||t.tag!==1)throw Error(de(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(vt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(vt(n))return w0(t,n,r)}return r}function Em(t,r,n,a,s,l,o,p,u){return t=ic(n,a,!0,t,s,l,o,p,u),t.context=km(null),n=t.current,a=ut(),s=Ur(n),l=mr(a,s),l.callback=r??null,zr(n,l,s),t.current.lanes=s,Wa(t,s,a),yt(t,a),t}function wl(t,r,n,a){var s=r.current,l=ut(),o=Ur(s);return n=km(n),r.context===null?r.context=n:r.pendingContext=n,r=mr(l,o),r.payload={element:t},a=a===void 0?null:a,a!==null&&(r.callback=a),t=zr(s,r,o),t!==null&&(Jt(t,s,o,l),Cs(t,s,o)),o}function nl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Od(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<r?n:r}}function oc(t,r){Od(t,r),(t=t.alternate)&&Od(t,r)}function Tx(){return null}var Cm=typeof reportError=="function"?reportError:function(t){console.error(t)};function cc(t){this._internalRoot=t}kl.prototype.render=cc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(de(409));wl(t,r,null,null)};kl.prototype.unmount=cc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;mn(function(){wl(null,t,null,null)}),r[hr]=null}};function kl(t){this._internalRoot=t}kl.prototype.unstable_scheduleHydration=function(t){if(t){var r=r0();t={blockedOn:null,target:t,priority:r};for(var n=0;n<Or.length&&r!==0&&r<Or[n].priority;n++);Or.splice(n,0,t),n===0&&a0(t)}};function dc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pd(){}function Ax(t,r,n,a,s){if(s){if(typeof a=="function"){var l=a;a=function(){var f=nl(o);l.call(f)}}var o=Em(r,a,t,0,null,!1,!1,"",Pd);return t._reactRootContainer=o,t[hr]=o.current,qa(t.nodeType===8?t.parentNode:t),mn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof a=="function"){var p=a;a=function(){var f=nl(u);p.call(f)}}var u=ic(t,0,!1,null,null,!1,!1,"",Pd);return t._reactRootContainer=u,t[hr]=u.current,qa(t.nodeType===8?t.parentNode:t),mn(function(){wl(r,u,n,a)}),u}function Cl(t,r,n,a,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var p=s;s=function(){var u=nl(o);p.call(u)}}wl(r,o,t,s)}else o=Ax(n,r,t,s,a);return nl(o)}e0=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var n=fa(r.pendingLanes);n!==0&&(Oo(r,n|1),yt(r,He()),!(_e&6)&&(Vn=He()+500,Kr()))}break;case 13:mn(function(){var a=xr(t,1);if(a!==null){var s=ut();Jt(a,t,1,s)}}),oc(t,1)}};Po=function(t){if(t.tag===13){var r=xr(t,134217728);if(r!==null){var n=ut();Jt(r,t,134217728,n)}oc(t,134217728)}};t0=function(t){if(t.tag===13){var r=Ur(t),n=xr(t,r);if(n!==null){var a=ut();Jt(n,t,r,a)}oc(t,r)}};r0=function(){return Te};n0=function(t,r){var n=Te;try{return Te=t,r()}finally{Te=n}};Ci=function(t,r,n){switch(r){case"input":if(vi(t,n),r=n.name,n.type==="radio"&&r!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var a=n[r];if(a!==t&&a.form===t.form){var s=fl(a);if(!s)throw Error(de(90));Iu(a),vi(a,s)}}}break;case"textarea":qu(t,n);break;case"select":r=n.value,r!=null&&On(t,!!n.multiple,r,!1)}};Bu=nc;Hu=mn;var Lx={usingClientEntryPoint:!1,Events:[Za,Nn,fl,Fu,Uu,nc]},ua={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ix={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ju(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||Tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{ml=vs.inject(Ix),ar=vs}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lx;Pt.createPortal=function(t,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dc(r))throw Error(de(200));return Px(t,r,null,n)};Pt.createRoot=function(t,r){if(!dc(t))throw Error(de(299));var n=!1,a="",s=Cm;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),r=ic(t,1,!1,null,null,n,!1,a,s),t[hr]=r.current,qa(t.nodeType===8?t.parentNode:t),new cc(r)};Pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=Ju(r),t=t===null?null:t.stateNode,t};Pt.flushSync=function(t){return mn(t)};Pt.hydrate=function(t,r,n){if(!El(r))throw Error(de(200));return Cl(null,t,r,!0,n)};Pt.hydrateRoot=function(t,r,n){if(!dc(t))throw Error(de(405));var a=n!=null&&n.hydratedSources||null,s=!1,l="",o=Cm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),r=Em(r,null,t,1,n??null,s,!1,l,o),t[hr]=r.current,qa(t),a)for(t=0;t<a.length;t++)n=a[t],s=n._getVersion,s=s(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,s]:r.mutableSourceEagerHydrationData.push(n,s);return new kl(r)};Pt.render=function(t,r,n){if(!El(r))throw Error(de(200));return Cl(null,t,r,!1,n)};Pt.unmountComponentAtNode=function(t){if(!El(t))throw Error(de(40));return t._reactRootContainer?(mn(function(){Cl(null,null,t,!1,function(){t._reactRootContainer=null,t[hr]=null})}),!0):!1};Pt.unstable_batchedUpdates=nc;Pt.unstable_renderSubtreeIntoContainer=function(t,r,n,a){if(!El(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return Cl(t,r,n,!1,a)};Pt.version="18.3.1-next-f1338f8080-20240426";function _m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_m)}catch(t){console.error(t)}}_m(),Cu.exports=Pt;var Sm=Cu.exports,Om,Td=Sm;Om=Td.createRoot,Td.hydrateRoot;var Mx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dx=(t,r)=>{const n=q.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:o,children:p,...u},f)=>q.createElement("svg",{ref:f,...Mx,width:s,height:s,stroke:a,strokeWidth:o?Number(l)*24/Number(s):l,className:`lucide lucide-${qx(t)}`,...u},[...r.map(([g,m])=>q.createElement(g,m)),...(Array.isArray(p)?p:[p])||[]]));return n.displayName=`${t}`,n};var oe=Dx;const Mn=oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Hr=oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zt=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Rx=oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Jr=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),$x=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),zx=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),jt=oe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Ad=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ot=oe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Pm=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Fx=oe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),tt=oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Ux=oe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Bx=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Hx=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),uc=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Vx=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Kt=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Wx=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Jx=oe("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),Ce=oe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),ga=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ls=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Tr=oe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),bt=oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Be=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zx=oe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),ao=oe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Qx=oe("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),so=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),lo=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Ld=oe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Kx=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),lr=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),io=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Yx=oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),al=oe("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),Id=oe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Gx=oe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Ir=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Mt=oe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),br=oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),qn=oe("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Xx=oe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),gr=oe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),ln=oe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),nr=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ef=oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),tf=oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),rf=oe("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]),Md=oe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),nf=oe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),ci=oe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),ir=oe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Tm=oe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),sl=oe("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),Ka=oe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Re=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),qd=oe("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Dn=oe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]),Dt=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Am=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),af=oe("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),We=oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Lm=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),oo=oe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Vt=oe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),vr=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),sf=oe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),ye=oe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Ve=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),lf=oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Dd=oe("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),of=oe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Ze=oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ot=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Im=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ne=oe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),cf=oe("Twitch",[["path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7",key:"c0yzno"}]]),df=oe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),mc=oe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),pc=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),co=oe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),uf=oe("UserCog",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["circle",{cx:"19",cy:"11",r:"2",key:"1rxg02"}],["path",{d:"M19 8v1",key:"1iffrw"}],["path",{d:"M19 13v1",key:"z4xc62"}],["path",{d:"m21.6 9.5-.87.5",key:"6lxupl"}],["path",{d:"m17.27 12-.87.5",key:"1rwhxx"}],["path",{d:"m21.6 12.5-.87-.5",key:"agvc9a"}],["path",{d:"m17.27 10-.87-.5",key:"12d57s"}]]),uo=oe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ll=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Mm=oe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),yr=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),je=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),mf=oe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),pf=oe("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Rd=oe("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),hf=oe("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),en=oe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ee=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mr=oe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Rn=oe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),qm=[{id:"tactical",name:"Azul",description:"Tema original con azules",preview:"from-slate-900 via-blue-900 to-slate-800",colors:{primary:"rgb(59, 130, 246)",secondary:"rgb(30, 64, 175)",accent:"rgb(147, 197, 253)",background:"from-slate-900 via-blue-900 to-slate-800",surface:"rgba(30, 41, 59, 0.4)",text:"rgb(255, 255, 255)",textSecondary:"rgb(191, 219, 254)",border:"rgba(59, 130, 246, 0.3)",success:"rgb(34, 197, 94)",warning:"rgb(251, 191, 36)",error:"rgb(239, 68, 68)",gradient:"from-blue-600 to-cyan-600",gradientHover:"from-blue-700 to-cyan-700"},effects:{blur:"backdrop-blur-lg",shadow:"shadow-2xl shadow-blue-500/10",glow:"shadow-lg shadow-blue-500/30"}},{id:"counter-strike",name:"Naranjo",description:"Tema con naranjas y grises",preview:"from-gray-900 via-orange-900 to-gray-800",colors:{primary:"rgb(251, 146, 60)",secondary:"rgb(194, 65, 12)",accent:"rgb(254, 215, 170)",background:"from-gray-900 via-orange-900 to-gray-800",surface:"rgba(55, 65, 81, 0.4)",text:"rgb(255, 255, 255)",textSecondary:"rgb(254, 215, 170)",border:"rgba(251, 146, 60, 0.3)",success:"rgb(34, 197, 94)",warning:"rgb(251, 191, 36)",error:"rgb(239, 68, 68)",gradient:"from-orange-600 to-red-600",gradientHover:"from-orange-700 to-red-700"},effects:{blur:"backdrop-blur-lg",shadow:"shadow-2xl shadow-orange-500/10",glow:"shadow-lg shadow-orange-500/30"}},{id:"metallic-orange",name:"Naranjo Metálico",description:"Negro intenso con detalles dorados",preview:"from-black via-zinc-950 to-black",colors:{primary:"rgb(234, 179, 8)",secondary:"rgb(161, 98, 7)",accent:"rgb(250, 204, 21)",background:"from-black via-zinc-950 to-black",surface:"rgba(9, 9, 11, 0.6)",text:"rgb(255, 255, 255)",textSecondary:"rgb(212, 212, 216)",border:"rgba(234, 179, 8, 0.3)",success:"rgb(34, 197, 94)",warning:"rgb(251, 191, 36)",error:"rgb(239, 68, 68)",gradient:"from-yellow-600 via-amber-600 to-yellow-700",gradientHover:"from-yellow-500 via-amber-500 to-yellow-600"},effects:{blur:"backdrop-blur-xl",shadow:"shadow-2xl shadow-black/50",glow:"shadow-lg shadow-yellow-600/30"}}],xf=qm.map(t=>({...t,colors:{...t.colors,background:t.id==="tactical"?"from-blue-50 via-indigo-50 to-blue-100":t.id==="counter-strike"?"from-orange-50 via-amber-50 to-orange-100":t.id==="metallic-orange"?"from-zinc-100 via-yellow-50 to-amber-50":"from-gray-50 via-slate-50 to-gray-100",surface:t.id==="tactical"?"rgba(255, 255, 255, 0.8)":t.id==="counter-strike"?"rgba(255, 251, 235, 0.8)":t.id==="metallic-orange"?"rgba(254, 252, 232, 0.8)":"rgba(249, 250, 251, 0.8)",text:"rgb(17, 24, 39)",textSecondary:t.id==="tactical"?"rgb(30, 64, 175)":t.id==="counter-strike"?"rgb(194, 65, 12)":t.id==="metallic-orange"?"rgb(161, 98, 7)":"rgb(75, 85, 99)",border:t.id==="tactical"?"rgba(59, 130, 246, 0.2)":t.id==="counter-strike"?"rgba(251, 146, 60, 0.2)":t.id==="metallic-orange"?"rgba(234, 179, 8, 0.2)":"rgba(156, 163, 175, 0.2)"},effects:{...t.effects,shadow:t.id==="tactical"?"shadow-xl shadow-blue-500/5":t.id==="counter-strike"?"shadow-xl shadow-orange-500/5":t.id==="metallic-orange"?"shadow-xl shadow-yellow-600/5":"shadow-xl shadow-gray-500/5"}})),Dm=q.createContext(void 0),Ya=()=>{const t=q.useContext(Dm);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},ff=({children:t})=>{const[r,n]=q.useState("dark"),[a,s]=q.useState("tactical");q.useEffect(()=>{const u=localStorage.getItem("theme-mode"),f=localStorage.getItem("game-theme");u&&n(u),f&&s(f)},[]),q.useEffect(()=>{localStorage.setItem("theme-mode",r),localStorage.setItem("game-theme",a)},[r,a]);const l=()=>{n(u=>u==="dark"?"light":"dark")},o=r==="dark"?qm:xf,p=o.find(u=>u.id===a)||o[0];return q.useEffect(()=>{const u=document.documentElement,f=p;u.style.setProperty("--color-primary",f.colors.primary),u.style.setProperty("--color-secondary",f.colors.secondary),u.style.setProperty("--color-accent",f.colors.accent),u.style.setProperty("--color-text",f.colors.text),u.style.setProperty("--color-text-secondary",f.colors.textSecondary),u.style.setProperty("--color-surface",f.colors.surface),u.style.setProperty("--color-border",f.colors.border),u.style.setProperty("--color-success",f.colors.success),u.style.setProperty("--color-warning",f.colors.warning),u.style.setProperty("--color-error",f.colors.error)},[p]),e.jsx(Dm.Provider,{value:{mode:r,theme:a,themeConfig:p,toggleMode:l,setTheme:s,themes:o},children:t})},bf=()=>{const t=window.location.protocol,r=window.location.hostname,n=window.location.port;return r==="localhost"&&n==="5173"?"http://localhost/api":r.includes("tacticalopschile.cl")?"https://tacticalopschile.cl/api":n&&n!=="80"&&n!=="443"?`${t}//${r}:${n}/api`:`${t}//${r}/api`},ue=bf(),gf=async(t,r={})=>{const n=`${ue}${t}`,a={credentials:"include",cache:"no-store",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0",...r.headers},...r};console.log(`🚀 API Request: ${r.method||"GET"} ${n}`),r.body&&console.log("📤 Request body:",r.body);try{const s=await fetch(n,a),l=await vf(s,t);return console.log(`✅ API Response for ${t}:`,l),l}catch(s){throw console.error(`❌ API Error for ${t}:`,s),s}},vf=async(t,r)=>{console.log(`Response status for ${r}:`,t.status,t.statusText);const n=await t.text();if(console.log(`Raw response for ${r}:`,n.substring(0,500)+(n.length>500?"...":"")),!n.trim())throw new Error(`El servidor devolvió una respuesta vacía para ${r}`);if(n.trim().startsWith("<")||n.includes("<br />")||n.includes("<b>"))throw console.error(`PHP Error detected in ${r}:`,n),new Error(`Error del servidor PHP en ${r}. Revisa los logs del servidor para más detalles.`);let a;try{a=JSON.parse(n)}catch(s){throw console.error(`JSON Parse Error for ${r}:`,s),console.error("Response text:",n),new Error(`Respuesta inválida del servidor para ${r}: ${s.message}`)}if(!t.ok){const s=(a==null?void 0:a.message)||(a==null?void 0:a.error)||`Error HTTP: ${t.status} ${t.statusText}`;throw new Error(s)}return a},Rm=q.createContext(void 0),ht=()=>{const t=q.useContext(Rm);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},yf=20*60*1e3,jf=2*60*1e3,Nf=30*1e3,wf=60*1e3,kf=30*1e3,Ae=gf,Ef=({children:t})=>{const[r,n]=q.useState(null),[a,s]=q.useState([]),[l,o]=q.useState([]),[p,u]=q.useState([]),[f,g]=q.useState([]),[m,i]=q.useState(!0),[d,j]=q.useState({isActive:!1,expiresAt:0,lastExtended:0}),y=ns.useRef(null),N=ns.useRef(null),h=ns.useRef(null),c=ns.useRef(null);q.useEffect(()=>{k()},[]);const b=()=>{localStorage.removeItem("rememberToken")},x=Z=>{localStorage.setItem("rememberToken",Z)},v=()=>localStorage.getItem("rememberToken");q.useEffect(()=>(r&&d.isActive?(E(),C(),O()):A(),()=>A()),[r,d.isActive]),q.useEffect(()=>{w()},[]),q.useEffect(()=>{const Z=()=>{if(r){const Q=new FormData;Q.append("action","offline"),navigator.sendBeacon(`${ue}/auth/logout.php`,Q)}},re=async()=>{if(!document.hidden&&r){console.log("👁️ Pestaña visible nuevamente, verificando sesión...");try{const Q=await Ae("/auth/check-session.php");Q.success&&Q.user?(await I(),console.log("✅ Sesión verificada y extendida")):(console.warn("🔒 Sesión expirada mientras la pestaña estaba oculta"),F())}catch(Q){console.error("Error al verificar sesión:",Q)}}};return window.addEventListener("beforeunload",Z),document.addEventListener("visibilitychange",re),()=>{window.removeEventListener("beforeunload",Z),document.removeEventListener("visibilitychange",re)}},[r]);const k=async()=>{try{const Z=v();let re;Z?re=await Ae("/auth/check-session.php",{method:"POST",body:JSON.stringify({rememberToken:Z})}):re=await Ae("/auth/check-session.php"),re.success&&re.user?(n(re.user),S(re.sessionTime)):Z&&b()}catch(Z){console.error("Error checking session:",Z),v()&&b()}finally{i(!1)}},w=async()=>{try{await Promise.all([z(),ee(),B(),M()])}catch(Z){console.error("Error loading public data:",Z)}},S=Z=>{const re=Z?Z*1e3:Date.now();j({isActive:!0,expiresAt:re+yf,lastExtended:re})},E=()=>{_(),y.current=setInterval(async()=>{r&&!document.hidden&&(console.log("🔄 Extendiendo sesión automáticamente..."),await I())},jf),N.current=setInterval(async()=>{if(r&&!document.hidden)try{const Z=await Ae("/auth/check-session.php");!Z.success||!Z.user?(console.warn("🔒 Sesión no válida en el servidor"),F()):S(Z.sessionTime)}catch(Z){console.error("Error verificando sesión:",Z)}},Nf)},C=()=>{h.current&&clearInterval(h.current),h.current=setInterval(async()=>{r&&!document.hidden&&await R()},wf)},O=()=>{c.current&&clearInterval(c.current),c.current=setInterval(async()=>{await z()},kf)},_=()=>{y.current&&(clearInterval(y.current),y.current=null),N.current&&(clearInterval(N.current),N.current=null)},A=()=>{_(),h.current&&(clearInterval(h.current),h.current=null),c.current&&(clearInterval(c.current),c.current=null)},R=async()=>{try{const Z=await Ae("/auth/extend-session.php",{method:"POST"});Z.success&&(S(Z.sessionTime),await z())}catch(Z){console.error("Error updating online status:",Z)}},I=async()=>{try{const Z=await Ae("/auth/extend-session.php",{method:"POST"});return Z.success?(S(Z.sessionTime),console.log("✅ Sesión extendida automáticamente"),!0):(console.warn("❌ No se pudo extender la sesión:",Z.message),!1)}catch(Z){return console.error("Error extending session:",Z),!1}},z=async()=>{try{const Z=await Ae("/users/get-all.php");Z.success&&s(Z.users)}catch(Z){console.error("Error loading users:",Z)}},ee=async()=>{try{const Z=await Ae("/news/get-all.php");Z.success&&o(Z.news)}catch(Z){console.error("Error loading news:",Z)}},B=async()=>{try{const Z=await Ae("/clans/get-all.php");Z.success&&u(Z.clans)}catch(Z){console.error("Error loading clans:",Z)}},M=async()=>{try{const Z=await Ae("/tournaments/get-all.php");Z.success&&g(Z.tournaments)}catch(Z){console.error("Error loading tournaments:",Z)}},P=async(Z,re,Q=!1)=>{try{const K=await Ae("/auth/login.php",{method:"POST",body:JSON.stringify({username:Z,password:re,remember:Q})});return K.success?(n(K.user),S(),Q&&K.rememberToken&&(x(K.rememberToken),console.log("💾 Token de recordar sesión guardado")),await z(),console.log("✅ Sesión iniciada correctamente"),!0):!1}catch(K){return console.error("Login error:",K),!1}},L=async(Z,re,Q)=>{try{const K=await Ae("/auth/register.php",{method:"POST",body:JSON.stringify({username:Z,email:re,password:Q})});return K.success?(n(K.user),S(),await w(),console.log("✅ Usuario registrado y sesión iniciada"),!0):!1}catch(K){return console.error("Register error:",K),!1}},F=async()=>{try{await Ae("/auth/logout.php",{method:"POST"})}catch(Z){console.error("Logout error:",Z)}finally{b(),n(null),j({isActive:!1,expiresAt:0,lastExtended:0}),A(),await z(),console.log("🔒 Sesión cerrada y token eliminado")}},W=async Z=>{try{return(await Ae("/news/create.php",{method:"POST",body:JSON.stringify(Z)})).success?(await ee(),!0):!1}catch(re){return console.error("Create news error:",re),!1}},G=async(Z,re)=>{try{return(await Ae("/news/update.php",{method:"POST",body:JSON.stringify({id:Z,...re})})).success?(await ee(),!0):!1}catch(Q){return console.error("Update news error:",Q),!1}},V=async Z=>{try{return(await Ae("/news/delete.php",{method:"POST",body:JSON.stringify({id:Z})})).success?(await ee(),!0):!1}catch(re){return console.error("Delete news error:",re),!1}},$=async Z=>{try{(await Ae("/news/like.php",{method:"POST",body:JSON.stringify({newsId:Z})})).success&&await ee()}catch(re){console.error("Like news error:",re)}},U=async(Z,re)=>{try{const Q=await Ae("/news/comment.php",{method:"POST",body:JSON.stringify({newsId:Z,content:re})});if(Q.success)await ee();else throw new Error(Q.message||"Error al agregar comentario")}catch(Q){throw console.error("Add comment error:",Q),Q}},X=async(Z,re)=>{try{const Q=await Ae("/users/update.php",{method:"POST",body:JSON.stringify({id:Z,...re})});if(Q.success){if(await z(),Z===(r==null?void 0:r.id)){const K=await Ae("/users/get-all.php");if(K.success){const H=K.users.find(he=>he.id===Z);H&&n(H)}}return!0}else throw new Error(Q.message||"Error al actualizar usuario")}catch(Q){throw console.error("Update user error:",Q),Q}},le=async Z=>{try{return(await Ae("/users/toggle-status.php",{method:"POST",body:JSON.stringify({id:Z})})).success?(await z(),!0):!1}catch(re){return console.error("Toggle user status error:",re),!1}},ae=async Z=>{try{return(await Ae("/users/delete.php",{method:"POST",body:JSON.stringify({id:Z})})).success?(await z(),!0):!1}catch(re){return console.error("Delete user error:",re),!1}},J=async Z=>{try{console.log("🏰 Enviando datos del clan al backend:",Z);const re=await Ae("/clans/create.php",{method:"POST",body:JSON.stringify(Z)});return console.log("🏰 Respuesta del backend:",re),re.success?(await B(),!0):(console.error("❌ Error del backend:",re.error||re.message),!1)}catch(re){return console.error("Create clan error:",re),!1}},ne=async(Z,re)=>{try{return(await Ae("/clans/update.php",{method:"POST",body:JSON.stringify({id:Z,...re})})).success?(await Promise.all([B(),z()]),!0):!1}catch(Q){return console.error("Update clan error:",Q),!1}},D=async Z=>{try{return(await Ae("/clans/delete.php",{method:"POST",body:JSON.stringify({id:Z})})).success?(await Promise.all([B(),z()]),!0):!1}catch(re){return console.error("Delete clan error:",re),!1}},ie=async(Z,re,Q)=>{try{console.log("🗑️ Eliminando comentario:",{newsId:Z,commentId:re,reason:Q});const K=await Ae("/news/delete-comment.php",{method:"POST",body:JSON.stringify({commentId:re,reason:Q})});return console.log("🗑️ Respuesta del backend:",K),K.success?(await ee(),!0):(console.error("❌ Error del backend:",K.error||K.message),!1)}catch(K){return console.error("Delete comment error:",K),!1}},me=async(Z,re)=>{try{return(await Ae("/news/restore-comment.php",{method:"POST",body:JSON.stringify({commentId:re})})).success?(await ee(),!0):!1}catch(Q){return console.error("Restore comment error:",Q),!1}},ge=async()=>{try{const Z=await Ae("/news/get-deleted-comments.php");return Z.success?Z.deletedComments:[]}catch(Z){return console.error("Get deleted comments error:",Z),[]}},pe=(Z,re)=>(console.log("Change password:",Z),!0),te=Z=>{console.log("Increment views:",Z)};return m?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium text-blue-200",children:"Cargando contenido..."})]})}):e.jsx(Rm.Provider,{value:{user:r,isLoggedIn:!!r,sessionInfo:d,login:P,logout:F,register:L,extendSession:I,users:a,updateUser:X,changeUserPassword:pe,toggleUserStatus:le,deleteUser:ae,news:l,createNews:W,updateNews:G,deleteNews:V,likeNews:$,addComment:U,incrementNewsViews:te,deleteComment:ie,restoreComment:me,getDeletedComments:ge,clans:p,createClan:J,updateClan:ne,deleteClan:D,tournaments:f},children:t})},Cf=()=>{const[t,r]=q.useState([]),[n,a]=q.useState(!1),[s,l]=q.useState(!1);q.useEffect(()=>{o();const i=setInterval(o,3e4);return()=>clearInterval(i)},[]);const o=async()=>{try{const i=await(await fetch(`${ue}/notifications/get-all.php`,{credentials:"include"})).json();i.success&&r(i.notifications)}catch(i){console.error("Error loading notifications:",i)}},p=async i=>{try{(await(await fetch(`${ue}/notifications/mark-read.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({notificationId:i})})).json()).success&&await o()}catch(d){console.error("Error marking notification as read:",d)}},u=async()=>{l(!0);try{(await(await fetch(`${ue}/notifications/mark-read.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({markAll:!0})})).json()).success&&await o()}catch(i){console.error("Error marking all as read:",i)}finally{l(!1)}},f=i=>{if(p(i.id),i.referenceType==="forum_topic"){const d=new CustomEvent("navigate-to-section",{detail:"forum"});window.dispatchEvent(d)}a(!1)},g=i=>{const d=new Date(i),j=Math.floor((new Date().getTime()-d.getTime())/(1e3*60));return j<1?"Ahora mismo":j<60?`Hace ${j} min`:j<1440?`Hace ${Math.floor(j/60)} h`:j<10080?`Hace ${Math.floor(j/1440)} d`:d.toLocaleDateString("es-CL",{month:"short",day:"numeric"})},m=t.filter(i=>!i.isRead).length;return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>a(!n),className:"relative p-3 rounded-xl bg-transparent hover:bg-blue-600/20 transition-all duration-300 border border-transparent hover:border-blue-500/30",title:"Notificaciones",children:[e.jsx(Ad,{className:"w-5 h-5 text-blue-300"}),m>0&&e.jsx("span",{className:"absolute -top-2 -right-2 min-w-[1.5rem] h-6 px-1.5 bg-red-500 rounded-full text-white text-xs flex items-center justify-center font-bold animate-pulse shadow-lg",children:m>9?"9+":m})]}),n&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-slate-800 rounded-xl border border-blue-700/30 shadow-2xl z-50 max-h-[500px] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-blue-700/30 flex items-center justify-between bg-slate-700/40",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Notificaciones"}),m>0&&e.jsxs("p",{className:"text-sm text-blue-300",children:[m," sin leer"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[m>0&&e.jsx("button",{onClick:u,disabled:s,className:"p-2 rounded-lg bg-blue-600/20 hover:bg-blue-600/40 text-blue-300 transition-colors disabled:opacity-50",title:"Marcar todas como leídas",children:e.jsx(Fx,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 rounded-lg bg-slate-600/40 hover:bg-slate-600/60 text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:t.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Ad,{className:"w-12 h-12 text-blue-400 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-blue-300",children:"No tienes notificaciones"})]}):e.jsx("div",{className:"divide-y divide-blue-700/20",children:t.map(i=>e.jsx("div",{onClick:()=>f(i),className:`p-4 cursor-pointer transition-colors ${i.isRead?"bg-slate-800/40 hover:bg-slate-800/60":"bg-blue-900/20 hover:bg-blue-900/30"}`,children:e.jsx("div",{className:"flex items-start space-x-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[!i.isRead&&e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsx("p",{className:"font-semibold text-white text-sm truncate",children:i.title})]}),e.jsx("p",{className:"text-blue-200 text-sm mb-2",children:i.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-blue-400 text-xs",children:g(i.createdAt)}),!i.isRead&&e.jsxs("button",{onClick:d=>{d.stopPropagation(),p(i.id)},className:"text-blue-400 hover:text-blue-300 text-xs flex items-center space-x-1",children:[e.jsx(Ux,{className:"w-3 h-3"}),e.jsx("span",{children:"Marcar leída"})]})]})]})})},i.id))})})]}),n&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)})]})},_f=({currentSection:t,onSectionChange:r})=>{const{themeConfig:n}=Ya(),{user:a}=ht(),s=[{id:"home",label:"Inicio",icon:Kx},{id:"players",label:"Comunidad",icon:je},{id:"servers",label:"Servidores",icon:Vt},{id:"ranking",label:"Ranking",icon:Ne},{id:"forum",label:"Foro",icon:nr},{id:"sponsors",label:"Sponsors",icon:jt},{id:"download",label:"Descarga",icon:Ls},{id:"user-panel",label:"Mi Perfil",icon:yr}];return e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 px-4 py-4",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex justify-center items-center gap-4",children:[e.jsx("div",{className:"flex flex-wrap justify-center gap-2 p-4 rounded-2xl border shadow-2xl",style:{backgroundColor:`${n.colors.surface}40`,backdropFilter:"blur(24px)",borderColor:n.colors.border},children:s.map(l=>{const o=l.icon,p=t===l.id;return e.jsxs("button",{onClick:()=>r(l.id),className:`
                    group relative px-6 py-3 rounded-xl font-medium transition-all duration-300 flex items-center space-x-2
                    backdrop-blur-sm border hover:scale-105
                  `,style:{backgroundColor:p?`${n.colors.primary}30`:`${n.colors.surface}40`,color:p?n.colors.primary:n.colors.textSecondary,borderColor:p?`${n.colors.primary}50`:`${n.colors.border}30`,boxShadow:p?`0 8px 32px ${n.colors.primary}20`:"none"},onMouseEnter:u=>{p||(u.currentTarget.style.backgroundColor=`${n.colors.primary}20`,u.currentTarget.style.color=n.colors.primary)},onMouseLeave:u=>{p||(u.currentTarget.style.backgroundColor=`${n.colors.surface}40`,u.currentTarget.style.color=n.colors.textSecondary)},children:[e.jsx(o,{className:`w-4 h-4 transition-transform duration-300 ${p?"scale-110":"group-hover:scale-105"}`}),e.jsx("span",{className:"text-sm hidden sm:inline",children:l.label}),p&&e.jsx("div",{className:"absolute inset-0 rounded-xl animate-pulse",style:{background:`linear-gradient(135deg, ${n.colors.primary}10, ${n.colors.accent}10)`}})]},l.id)})}),a&&e.jsx("div",{className:"p-2 rounded-2xl border shadow-2xl",style:{backgroundColor:`${n.colors.surface}40`,backdropFilter:"blur(24px)",borderColor:n.colors.border},children:e.jsx(Cf,{})})]})})})},Sf=({bannerItems:t,isEnabled:r=!0})=>{const[n,a]=q.useState(0),[s,l]=q.useState(!0),[o,p]=q.useState(!0),[u,f]=q.useState(0),g=q.useRef(null),m=q.useRef(null),i=t[n],d=b=>{const x=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,v=b.match(x);return v&&v[2].length===11?v[2]:null},j=b=>{const x=d(b);if(!x)return"";const v=new URLSearchParams({autoplay:i!=null&&i.autoplay?"1":"0",mute:o?"1":"0",controls:"0",showinfo:"0",rel:"0",loop:"1",playlist:x,modestbranding:"1",iv_load_policy:"3"});return`https://www.youtube.com/embed/${x}?${v.toString()}`},y=b=>b?{objectFit:b.objectFit,objectPosition:b.objectPosition,transform:`scale(${b.scale/100})`,filter:`brightness(${b.brightness}%) contrast(${b.contrast}%) blur(${b.blur}px)`}:{objectFit:"cover",objectPosition:"center center",transform:"scale(1)",filter:"brightness(100%) contrast(100%) blur(0px)"},N=()=>{a(b=>(b+1)%t.length),f(0)},h=()=>{a(b=>(b-1+t.length)%t.length),f(0)};if(q.useEffect(()=>{if(!s||t.length<=1)return;const b=(i==null?void 0:i.type)==="image"?(i.duration||5)*1e3:3e4;return g.current=setInterval(N,b),()=>{g.current&&clearInterval(g.current)}},[n,s,t.length,i]),q.useEffect(()=>{if(!s||t.length<=1)return;const b=(i==null?void 0:i.type)==="image"?(i.duration||5)*1e3:3e4,x=50,v=x/b*100;return m.current=setInterval(()=>{f(k=>k>=100?0:k+v)},x),()=>{m.current&&clearInterval(m.current)}},[n,s,t.length,i]),q.useEffect(()=>()=>{g.current&&clearInterval(g.current),m.current&&clearInterval(m.current)},[]),q.useEffect(()=>{f(0)},[n]),!r||!t||t.length===0)return null;const c=()=>{i!=null&&i.link&&window.open(i.link,"_blank","noopener,noreferrer")};return e.jsx("div",{className:"relative w-full px-4 py-6 md:px-6 lg:px-8",children:e.jsx("div",{className:"relative h-64 md:h-80 lg:h-96 overflow-hidden rounded-3xl bg-slate-900/40 backdrop-blur-xl border border-blue-500/30 shadow-2xl shadow-blue-500/10",children:e.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[(i==null?void 0:i.type)==="image"?e.jsxs("div",{className:`w-full h-full transition-all duration-1000 overflow-hidden ${i.link?"cursor-pointer group":""}`,onClick:c,children:[e.jsx("img",{src:i.url,alt:i.title||"Banner image",className:"w-full h-full transition-all duration-500 group-hover:scale-105",style:y(i.imageSettings),onError:b=>{const x=b.target;x.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyMCIgaGVpZ2h0PSI2MDAiIHZpZXdCb3g9IjAgMCAxOTIwIDYwMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE5MjAiIGhlaWdodD0iNjAwIiBmaWxsPSIjMzc0MTUxIi8+CjxwYXRoIGQ9Ik05NjAgMzAwSDEwNDBWMzYwSDk2MFYzMDBaIiBmaWxsPSIjNjM3NDhCIi8+Cjx0ZXh0IHg9Ijk2MCIgeT0iNDIwIiBmaWxsPSIjOTQ5NEE0IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkltYWdlbiBubyBkaXNwb25pYmxlPC90ZXh0Pgo8L3N2Zz4="}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"})]}):e.jsxs("div",{className:"w-full h-full relative",children:[e.jsx("iframe",{src:j(i.url),className:"w-full h-full object-cover",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:i.title||"Video Banner"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent pointer-events-none"}),i.link&&e.jsx("div",{className:"absolute inset-0 cursor-pointer hover:bg-black/10 transition-colors flex items-center justify-center group",onClick:c,children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-black/70 rounded-full p-3",children:e.jsx(Tr,{className:"w-6 h-6 text-white"})})})]}),((i==null?void 0:i.title)||(i==null?void 0:i.description))&&e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8 bg-gradient-to-t from-black/90 via-black/60 to-transparent",children:[i.title&&e.jsx("h3",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-2 drop-shadow-2xl",children:i.title}),i.description&&e.jsx("p",{className:"text-blue-200 text-base md:text-lg lg:text-xl drop-shadow-lg",children:i.description})]}),t.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:h,className:"absolute left-4 md:left-6 top-1/2 transform -translate-y-1/2 p-3 md:p-4 bg-slate-800/60 hover:bg-slate-800/80 backdrop-blur-xl border border-blue-500/30 rounded-full text-white transition-all duration-300 hover:scale-110 shadow-lg shadow-blue-500/20",children:e.jsx(Hx,{className:"w-5 h-5 md:w-6 md:h-6"})}),e.jsx("button",{onClick:N,className:"absolute right-4 md:right-6 top-1/2 transform -translate-y-1/2 p-3 md:p-4 bg-slate-800/60 hover:bg-slate-800/80 backdrop-blur-xl border border-blue-500/30 rounded-full text-white transition-all duration-300 hover:scale-110 shadow-lg shadow-blue-500/20",children:e.jsx(uc,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),e.jsxs("div",{className:"absolute top-4 md:top-6 right-4 md:right-6 flex space-x-2",children:[t.length>1&&e.jsx("button",{onClick:()=>l(!s),className:"p-2 md:p-3 bg-slate-800/60 hover:bg-slate-800/80 backdrop-blur-xl border border-blue-500/30 rounded-full text-white transition-all duration-300 hover:scale-110 shadow-lg shadow-blue-500/20",title:s?"Pausar":"Reproducir",children:s?e.jsx(nf,{className:"w-4 h-4"}):e.jsx(Ka,{className:"w-4 h-4"})}),(i==null?void 0:i.type)==="video"&&e.jsx("button",{onClick:()=>p(!o),className:"p-2 md:p-3 bg-slate-800/60 hover:bg-slate-800/80 backdrop-blur-xl border border-blue-500/30 rounded-full text-white transition-all duration-300 hover:scale-110 shadow-lg shadow-blue-500/20",title:o?"Activar sonido":"Silenciar",children:o?e.jsx(pf,{className:"w-4 h-4"}):e.jsx(mf,{className:"w-4 h-4"})})]}),t.length>1&&e.jsx("div",{className:"absolute bottom-6 md:bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-2 bg-slate-800/60 backdrop-blur-xl border border-blue-500/30 rounded-full px-4 py-2 shadow-lg shadow-blue-500/20",children:t.map((b,x)=>e.jsx("button",{onClick:()=>{a(x),f(0)},className:`w-2.5 h-2.5 md:w-3 md:h-3 rounded-full transition-all duration-300 ${x===n?"bg-blue-400 shadow-lg shadow-blue-400/50 scale-125":"bg-white/40 hover:bg-white/70"}`},x))}),t.length>1&&s&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 rounded-b-3xl overflow-hidden bg-black/30",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-blue-400 to-blue-500 shadow-lg shadow-blue-500/50 transition-all duration-100 ease-linear",style:{width:`${u}%`}})})]})})})},Of=({streamUrl:t,isActive:r,descriptiveText:n="Vuelve pronto para ver contenido en vivo",offlineUrl:a="",offlineText:s="",showOffline:l=!1})=>{const o=p=>{if(!p)return"";if(p.includes("twitch.tv")){const u=p.match(/twitch\.tv\/([^\/\?]+)/);if(u)return`https://player.twitch.tv/?channel=${u[1]}&parent=${window.location.hostname}`}if(p.includes("youtube.com")||p.includes("youtu.be")){const u=p.match(/(?:youtube\.com\/(?:embed\/|watch\?v=)|youtu\.be\/)([^\/\?&]+)/);if(u)return`https://www.youtube.com/embed/${u[1]}?autoplay=1`}if(p.includes("kick.com")){const u=p.match(/kick\.com\/([^\/\?]+)/);if(u)return`https://player.kick.com/${u[1]}`}return p};if(l&&a&&a.trim()!==""){const p=o(a);return e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-3 flex items-center space-x-2",children:[e.jsx(Dn,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"text-white font-medium",children:s||"Contenido Offline"})]}),e.jsx("div",{className:"aspect-video bg-black",children:e.jsx("iframe",{src:p,className:"w-full h-full",frameBorder:"0",allowFullScreen:!0,allow:"autoplay; encrypted-media; picture-in-picture"})})]})}if(r&&t&&t.trim()!==""){const p=o(t);return e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-500 px-4 py-3 flex items-center space-x-2",children:[e.jsx(Dn,{className:"w-5 h-5 text-white animate-pulse"}),e.jsx("span",{className:"text-white font-bold",children:"EN VIVO"})]}),e.jsx("div",{className:"aspect-video bg-black",children:e.jsx("iframe",{src:p,className:"w-full h-full",frameBorder:"0",allowFullScreen:!0,allow:"autoplay; encrypted-media; picture-in-picture"})})]})}return null},Pf=({tournaments:t,onViewTournament:r})=>{const n=t.filter(l=>l.status==="draft"||l.status==="active"||l.status==="registration"),a=l=>new Date(l).toLocaleDateString("es-CL",{day:"numeric",month:"short",year:"numeric"}),s=l=>{switch(l){case"draft":return{label:"Borrador",classes:"bg-gray-500/20 text-gray-300 border border-gray-500/30"};case"active":return{label:"Activo",classes:"bg-green-500/20 text-green-300 border border-green-500/30"};case"registration":return{label:"Registro Abierto",classes:"bg-blue-500/20 text-blue-300 border border-blue-500/30"};default:return{label:l,classes:"bg-gray-500/20 text-gray-300 border border-gray-500/30"}}};return e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(Ne,{className:"w-6 h-6 text-yellow-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Torneos"})]}),n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ne,{className:"w-12 h-12 text-blue-400 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-blue-300 text-sm",children:"No hay torneos activos"}),e.jsx("p",{className:"text-blue-400 text-xs mt-1",children:"Próximamente habrá nuevos torneos"})]}):e.jsx("div",{className:"space-y-4",children:n.map(l=>{const o=s(l.status);return e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-blue-600/20 hover:border-blue-500/40 transition-all duration-300 group",children:[e.jsx("div",{className:"mb-3",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${o.classes}`,children:o.label})}),e.jsx("h4",{className:"text-white font-bold mb-3 group-hover:text-blue-300 transition-colors",children:l.name}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-300",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:a(l.startDate)})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-blue-300",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsxs("span",{children:[l.participantCount," participantes"]})]})]}),e.jsxs("button",{onClick:()=>r(l.id),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 hover:border-blue-400/50 rounded-lg text-blue-300 hover:text-blue-200 text-sm font-medium transition-all duration-300 group-hover:scale-105",children:[e.jsx("span",{children:"Más detalles"}),e.jsx($x,{className:"w-4 h-4"})]})]},l.id)})})]})},$d=()=>{const{news:t,user:r,likeNews:n,addComment:a,incrementNewsViews:s,deleteComment:l,restoreComment:o,tournaments:p}=ht(),[u,f]=q.useState(null),[g,m]=q.useState(""),[i,d]=q.useState(new Set),[j,y]=q.useState(!1),[N,h]=q.useState(null),[c,b]=q.useState(""),[x,v]=q.useState(!1),[k,w]=q.useState(!1),[S,E]=q.useState({stream_url:"",is_active:!1,descriptive_text:"Vuelve pronto para ver contenido en vivo",offline_url:"",offline_text:"",show_offline:!1}),C=M=>new Date(M).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),O=async M=>{if(!r){v(!0);return}if(g.trim()&&!k){w(!0);try{await a(M,g),m("")}catch(P){console.error("Error adding comment:",P),alert("Error al enviar el comentario. Intenta nuevamente.")}finally{w(!1)}}},_=M=>{if(!r){v(!0);return}n(M)},A=M=>{navigator.share?navigator.share({title:M.title,text:M.content,url:window.location.href}):(navigator.clipboard.writeText(`${M.title}

${M.content}

${window.location.href}`),alert("Enlace copiado al portapapeles"))},R=(M,P,L)=>{h({newsId:M,commentId:P,author:L}),y(!0)},I=async()=>{if(N)try{await l(N.newsId,N.commentId,c||"Moderación administrativa")?(y(!1),h(null),b("")):alert("Error al eliminar el comentario. Intenta nuevamente.")}catch(M){console.error("Error deleting comment:",M),alert("Error al eliminar el comentario. Intenta nuevamente.")}},z=async(M,P)=>{try{await o(M,P)||alert("Error al restaurar el comentario")}catch(L){console.error("Error restoring comment:",L),alert("Error al restaurar el comentario")}},ee=()=>{v(!1);const M=new CustomEvent("navigate-to-section",{detail:"user-panel"});window.dispatchEvent(M)};q.useEffect(()=>{(async()=>{try{const M=await(await fetch(`${ue}/streaming/get-config.php`,{credentials:"include"})).json();M.success&&M.config&&E({stream_url:M.config.stream_url||"",is_active:M.config.is_active||!1,descriptive_text:M.config.descriptive_text||"Vuelve pronto para ver contenido en vivo",offline_url:M.config.offline_url||"",offline_text:M.config.offline_text||"",show_offline:M.config.show_offline||!1})}catch(M){console.error("Error fetching stream config:",M)}})()},[]),q.useEffect(()=>{t.forEach(M=>{i.has(M.id)||(s(M.id),d(P=>new Set([...P,M.id])))})},[t,s,i]);const B=M=>{const P=new CustomEvent("navigate-to-section",{detail:"players"});window.dispatchEvent(P),setTimeout(()=>{const L=new CustomEvent("set-players-view-mode",{detail:"tournaments"});window.dispatchEvent(L),setTimeout(()=>{const F=document.getElementById(`tournament-${M}`);F&&(F.scrollIntoView({behavior:"smooth",block:"center"}),F.classList.add("ring-4","ring-yellow-400/50"),setTimeout(()=>{F.classList.remove("ring-4","ring-yellow-400/50")},2e3))},300)},100)};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Noticias de la Comunidad"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"Mantente al día con las últimas novedades de Tactical Ops 3.5 Chile"}),!r&&e.jsx("div",{className:"mt-4 p-4 bg-blue-600/10 border border-blue-500/30 rounded-xl",children:e.jsxs("p",{className:"text-blue-300 text-sm",children:["💡 ",e.jsx("strong",{children:"¿Quieres participar?"})," Inicia sesión para comentar y dar like a las noticias"]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-8",children:t.length===0?e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8",children:[e.jsx(ln,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-3 text-center",children:"¡Bienvenido a la Comunidad!"}),e.jsx("p",{className:"text-blue-300 text-center mb-6",children:"Aún no hay noticias publicadas. Los administradores pueden crear las primeras noticias desde el panel de administración para mantener informada a la comunidad."}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4",children:[e.jsx(sl,{className:"w-6 h-6 text-yellow-400 mx-auto mb-2"}),e.jsx("h3",{className:"text-base font-bold text-white mb-1 text-center",children:"Noticias Importantes"}),e.jsx("p",{className:"text-blue-300 text-xs text-center",children:"Las noticias fijadas aparecerán destacadas para toda la comunidad"})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4",children:[e.jsx(lo,{className:"w-6 h-6 text-red-400 mx-auto mb-2"}),e.jsx("h3",{className:"text-base font-bold text-white mb-1 text-center",children:"Interacción"}),e.jsx("p",{className:"text-blue-300 text-xs text-center",children:"Los usuarios podrán comentar y reaccionar a las publicaciones"})]})]})]}):e.jsx("div",{className:"space-y-8",children:t.sort((M,P)=>M.isPinned&&!P.isPinned?-1:!M.isPinned&&P.isPinned?1:new Date(P.date).getTime()-new Date(M.date).getTime()).map(M=>{const P=r&&M.likedBy.includes(r.id);return e.jsxs("article",{className:`
                    relative bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 
                    overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-blue-500/10
                    ${M.isPinned?"ring-2 ring-yellow-400/50":""}
                  `,children:[M.isPinned&&e.jsxs("div",{className:"absolute top-4 right-4 z-10 bg-yellow-500/90 backdrop-blur-sm px-3 py-1 rounded-full flex items-center space-x-1",children:[e.jsx(sl,{className:"w-4 h-4 text-yellow-900"}),e.jsx("span",{className:"text-yellow-900 text-sm font-medium",children:"Fijado"})]}),e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:w-2/5 md:max-w-md",children:e.jsx("div",{className:"w-full h-64 md:h-80 bg-slate-700/40 rounded-t-2xl md:rounded-l-2xl md:rounded-tr-none overflow-hidden",children:e.jsx("img",{src:M.image,alt:M.title,className:"w-full h-full object-contain bg-slate-900/50",style:{objectFit:"contain",objectPosition:"center"},onError:L=>{const F=L.target;F.src="/Logo-Comunidad.png"}})})}),e.jsxs("div",{className:"md:w-3/5 p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-blue-300",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(yr,{className:"w-4 h-4"}),e.jsx("span",{children:M.author})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:C(M.date)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:M.views})]})]})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4 hover:text-blue-300 transition-colors",children:M.title}),e.jsx("p",{className:"text-blue-100 mb-6 leading-relaxed",children:M.content}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>_(M.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-300 ${P?"bg-red-500/30 text-red-200 border border-red-400/30":"bg-red-500/20 hover:bg-red-500/30 text-red-300 hover:text-red-200"} ${r?"":"opacity-75"}`,title:r?"":"Inicia sesión para dar like",children:[e.jsx(lo,{className:`w-4 h-4 ${P?"fill-current":""}`}),e.jsx("span",{children:M.likes})]}),e.jsxs("button",{onClick:()=>f(u===M.id?null:M.id),className:"flex items-center space-x-2 px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 rounded-lg transition-colors text-blue-300 hover:text-blue-200",children:[e.jsx(ln,{className:"w-4 h-4"}),e.jsx("span",{children:M.comments.filter(L=>!L.isDeleted).length})]}),e.jsxs("button",{onClick:()=>A(M),className:"flex items-center space-x-2 px-4 py-2 bg-green-500/20 hover:bg-green-500/30 rounded-lg transition-colors text-green-300 hover:text-green-200",children:[e.jsx(sf,{className:"w-4 h-4"}),e.jsx("span",{children:"Compartir"})]})]})}),u===M.id&&e.jsxs("div",{className:"mt-6 border-t border-blue-700/30 pt-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-4",children:["Comentarios (",M.comments.filter(L=>!L.isDeleted).length,")"]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[M.comments.filter(L=>!L.isDeleted).length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(ln,{className:"w-8 h-8 text-blue-400 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-blue-400",children:"No hay comentarios aún"}),e.jsx("p",{className:"text-blue-500 text-sm",children:"¡Sé el primero en comentar!"})]}):M.comments.filter(L=>!L.isDeleted).map(L=>e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("img",{src:L.avatar,alt:L.author,className:"w-8 h-8 rounded-full border border-blue-500/30"}),e.jsxs("div",{className:"flex-1 bg-slate-700/40 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-blue-300",children:L.author}),e.jsx("span",{className:"text-xs text-blue-400",children:C(L.date)})]}),(r==null?void 0:r.role)==="admin"&&e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("button",{onClick:()=>R(M.id,L.id,L.author),className:"p-1 hover:bg-red-500/20 rounded text-red-400 hover:text-red-300 transition-colors",title:"Eliminar comentario",children:e.jsx(ot,{className:"w-3 h-3"})})})]}),e.jsx("p",{className:"text-blue-100",children:L.content})]})]},L.id)),(r==null?void 0:r.role)==="admin"&&M.comments.some(L=>L.isDeleted)&&e.jsxs("div",{className:"border-t border-red-700/30 pt-4",children:[e.jsxs("h5",{className:"text-sm font-medium text-red-300 mb-3 flex items-center space-x-2",children:[e.jsx(ye,{className:"w-4 h-4"}),e.jsx("span",{children:"Comentarios Eliminados (Solo Admins)"})]}),M.comments.filter(L=>L.isDeleted).map(L=>e.jsxs("div",{className:"flex space-x-3 mb-3",children:[e.jsx("img",{src:L.avatar,alt:L.author,className:"w-8 h-8 rounded-full border border-red-500/30 opacity-50"}),e.jsxs("div",{className:"flex-1 bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-red-300",children:L.author}),e.jsx("span",{className:"text-xs text-red-400",children:C(L.date)}),e.jsx("span",{className:"text-xs bg-red-500/20 text-red-300 px-2 py-1 rounded",children:"ELIMINADO"})]}),e.jsx("button",{onClick:()=>z(M.id,L.id),className:"p-1 hover:bg-green-500/20 rounded text-green-400 hover:text-green-300 transition-colors",title:"Restaurar comentario",children:e.jsx(Am,{className:"w-3 h-3"})})]}),e.jsx("p",{className:"text-red-200 opacity-75",children:L.content}),L.deletionReason&&e.jsxs("p",{className:"text-xs text-red-400 mt-2 italic",children:["Razón: ",L.deletionReason]})]})]},L.id))]})]}),r?e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("img",{src:r.avatar||"/Logo-Comunidad.png",alt:r.username,className:"w-8 h-8 rounded-full border border-blue-500/30"}),e.jsxs("div",{className:"flex-1 flex space-x-2",children:[e.jsx("input",{type:"text",value:g,onChange:L=>m(L.target.value),placeholder:"Escribe tu comentario...",className:"flex-1 px-4 py-2 bg-slate-700/40 border border-blue-600/30 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",onKeyPress:L=>L.key==="Enter"&&!k&&O(M.id),disabled:k}),e.jsx("button",{onClick:()=>O(M.id),disabled:!g.trim()||k,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 rounded-lg text-white font-medium transition-colors flex items-center space-x-2",children:k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Enviando..."})]}):e.jsx("span",{children:"Enviar"})})]})]}):e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"bg-blue-600/10 border border-blue-500/30 rounded-xl p-6",children:[e.jsx(Mt,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),e.jsx("p",{className:"text-blue-300 mb-4 font-medium",children:"¿Quieres unirte a la conversación?"}),e.jsx("p",{className:"text-blue-400 text-sm mb-4",children:"Inicia sesión para comentar y participar en la comunidad"}),e.jsxs("button",{onClick:ee,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-all duration-300 flex items-center space-x-2 mx-auto",children:[e.jsx(Mt,{className:"w-4 h-4"}),e.jsx("span",{children:"Iniciar Sesión"})]})]})})]})]})]})]},M.id)})})}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(Of,{streamUrl:S.stream_url,isActive:S.is_active,descriptiveText:S.descriptive_text,offlineUrl:S.offline_url,offlineText:S.offline_text,showOffline:S.show_offline}),e.jsx(Pf,{tournaments:p||[],onViewTournament:B})]})]}),j&&N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-red-500/30 p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Zt,{className:"w-8 h-8 text-red-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Eliminar Comentario"}),e.jsx("p",{className:"text-red-300 text-sm",children:"Esta acción se puede revertir"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-blue-200 mb-4",children:["¿Estás seguro de que quieres eliminar el comentario de ",e.jsx("strong",{children:N.author}),"?"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Razón de eliminación (opcional)"}),e.jsx("textarea",{value:c,onChange:M=>b(M.target.value),placeholder:"Ej: Contenido inapropiado, spam, etc.",rows:3,className:"w-full px-3 py-2 bg-slate-700/40 border border-blue-600/30 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:I,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 rounded-xl text-white font-medium transition-colors",children:"Eliminar Comentario"}),e.jsx("button",{onClick:()=>{y(!1),h(null),b("")},className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-slate-800 rounded-2xl border border-blue-500/30 p-6 max-w-md w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mt,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Inicia Sesión"}),e.jsx("p",{className:"text-blue-300 mb-6",children:"Para interactuar con las noticias necesitas tener una cuenta"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:ee,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Mt,{className:"w-4 h-4"}),e.jsx("span",{children:"Ir a Login"})]}),e.jsx("button",{onClick:()=>v(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})})})]})},$m=({userId:t,isOwnProfile:r=!1})=>{const{user:n}=ht(),[a,s]=q.useState([]),[l,o]=q.useState(!0),[p,u]=q.useState(!1),[f,g]=q.useState(!1),[m,i]=q.useState({type:"image",url:"",title:"",description:""});q.useEffect(()=>{d()},[t]);const d=async()=>{try{const k=await(await fetch(`${ue}/posts/get-user-posts.php?userId=${t}`,{credentials:"include"})).json();k.success&&s(k.posts)}catch(k){console.error("Error loading posts:",k)}finally{o(!1)}},j=async()=>{if(m.url.trim()){g(!0);try{const k=await(await fetch(`${ue}/posts/create.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(m)})).json();k.success?(u(!1),i({type:"image",url:"",title:"",description:""}),d()):alert(k.message||"Error al crear la publicación")}catch(k){console.error("Error creating post:",k),alert("Error al crear la publicación")}finally{g(!1)}}},y=async k=>{if(n)try{const w=await(await fetch(`${ue}/posts/like.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({postId:k})})).json();w.success&&s(S=>S.map(E=>E.id===k?{...E,likes:w.likes,likedBy:w.action==="liked"?[...E.likedBy,n.id]:E.likedBy.filter(C=>C!==n.id)}:E))}catch(w){console.error("Error liking post:",w)}},N=async k=>{if(confirm("¿Estás seguro de que quieres eliminar esta publicación?"))try{const w=await(await fetch(`${ue}/posts/delete.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({postId:k})})).json();w.success?s(S=>S.filter(E=>E.id!==k)):alert(w.message||"Error al eliminar la publicación")}catch(w){console.error("Error deleting post:",w),alert("Error al eliminar la publicación")}},h=k=>{const w=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,S=k.match(w);return S&&S[2].length===11?S[2]:null},c=k=>{const w=h(k);return w?`https://img.youtube.com/vi/${w}/maxresdefault.jpg`:""},b=k=>new Date(k).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=k=>{const w=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,S=k.match(w);return!!(S&&S[2].length===11)},v=k=>/\.(jpg|jpeg|png|gif|webp)$/i.test(k)||k.includes("pexels.com")||k.includes("unsplash.com");return l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(lr,{className:"w-6 h-6 text-blue-400"}),e.jsx("span",{children:"Muro de Publicaciones"})]}),r&&n&&e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Nueva Publicación"})]})]}),a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(lr,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:r?"No has subido publicaciones aún":"No hay publicaciones"}),e.jsx("p",{className:"text-blue-300",children:r?"Comparte tus mejores jugadas con la comunidad":"Este jugador no ha compartido publicaciones aún"})]}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:a.map(k=>{const w=n&&k.likedBy.includes(n.id);return e.jsxs("div",{className:"bg-slate-700/40 rounded-xl overflow-hidden border border-blue-600/20 hover:border-blue-500/40 transition-all duration-300",children:[e.jsxs("div",{className:"relative",children:[k.type==="image"?e.jsx("div",{className:"aspect-video bg-slate-900/50 overflow-hidden",children:e.jsx("img",{src:k.url,alt:k.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:S=>{const E=S.target;E.src="https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=400&h=300&fit=crop"}})}):e.jsxs("div",{className:"aspect-video bg-slate-900/50 relative overflow-hidden group cursor-pointer",children:[e.jsx("img",{src:c(k.url),alt:k.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(Ka,{className:"w-8 h-8 text-white ml-1"})})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(Mr,{className:"w-6 h-6 text-red-500"})})]}),n&&(r||n.role==="admin")&&e.jsx("button",{onClick:()=>N(k.id),className:"absolute top-3 left-3 p-2 bg-red-600/80 hover:bg-red-600 rounded-full text-white transition-colors",title:"Eliminar publicación",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4",children:[k.title&&e.jsx("h4",{className:"font-bold text-white mb-2",children:k.title}),k.description&&e.jsx("p",{className:"text-blue-200 text-sm mb-3",children:k.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>y(k.id),disabled:!n,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-300 ${w?"bg-red-500/30 text-red-200 border border-red-400/30":"bg-red-500/20 hover:bg-red-500/30 text-red-300 hover:text-red-200"} ${n?"":"opacity-50 cursor-not-allowed"}`,title:n?"":"Inicia sesión para dar like",children:[e.jsx(lo,{className:`w-4 h-4 ${w?"fill-current":""}`}),e.jsx("span",{children:k.likes})]}),k.type==="video"&&e.jsxs("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-3 py-2 bg-blue-600/20 hover:bg-blue-600/30 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Tr,{className:"w-4 h-4"}),e.jsx("span",{children:"Ver en YouTube"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-blue-400 text-xs",children:[e.jsx(Ot,{className:"w-3 h-3"}),e.jsx("span",{children:b(k.createdAt)})]})]})]})]},k.id)})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Nueva Publicación"}),e.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-3",children:"Tipo de Contenido"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>i({...m,type:"image"}),className:`flex items-center space-x-3 p-4 rounded-xl border transition-all ${m.type==="image"?"bg-blue-600/20 border-blue-500/30 text-blue-300":"bg-slate-700/40 border-slate-600/30 text-slate-400 hover:bg-slate-700/60"}`,children:[e.jsx(lr,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Imagen"}),e.jsx("div",{className:"text-xs opacity-75",children:"JPG, PNG, GIF"})]})]}),e.jsxs("button",{onClick:()=>i({...m,type:"video"}),className:`flex items-center space-x-3 p-4 rounded-xl border transition-all ${m.type==="video"?"bg-red-600/20 border-red-500/30 text-red-300":"bg-slate-700/40 border-slate-600/30 text-slate-400 hover:bg-slate-700/60"}`,children:[e.jsx(Mr,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Video"}),e.jsx("div",{className:"text-xs opacity-75",children:"YouTube"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:m.type==="image"?"URL de la Imagen":"URL del Video de YouTube"}),e.jsx("input",{type:"url",value:m.url,onChange:k=>i({...m,url:k.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:m.type==="image"?"https://ejemplo.com/imagen.jpg":"https://www.youtube.com/watch?v=..."}),m.url&&m.type==="video"&&!x(m.url)&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:"URL de YouTube inválida"}),m.url&&m.type==="image"&&!v(m.url)&&e.jsx("p",{className:"text-yellow-400 text-sm mt-1",children:"Asegúrate de que sea una URL de imagen válida"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Título (Opcional)"}),e.jsx("input",{type:"text",value:m.title,onChange:k=>i({...m,title:k.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Título de tu publicación"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Descripción (Opcional)"}),e.jsx("textarea",{value:m.description,onChange:k=>i({...m,description:k.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Describe tu jugada o imagen..."})]}),m.url&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Vista Previa"}),e.jsx("div",{className:"w-full h-32 bg-slate-700/40 rounded-xl overflow-hidden",children:m.type==="image"?e.jsx("img",{src:m.url,alt:"Preview",className:"w-full h-full object-cover",onError:k=>{const w=k.target;w.style.display="none"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center relative",children:x(m.url)?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:c(m.url),alt:"YouTube Preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:e.jsx(Mr,{className:"w-8 h-8 text-red-400"})})]}):e.jsxs("div",{className:"text-center",children:[e.jsx(Mr,{className:"w-8 h-8 text-red-400 mx-auto mb-2"}),e.jsx("span",{className:"text-red-300 text-sm",children:"URL de YouTube inválida"})]})})})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:j,disabled:!m.url||f||m.type==="video"&&!x(m.url),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-xl text-white font-medium transition-colors",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Publicando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Publicar"})]})}),e.jsx("button",{onClick:()=>u(!1),disabled:f,className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-600/50 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})})]})},Tf=({userId:t,onBack:r})=>{const{users:n,user:a}=ht(),[s,l]=q.useState(null),[o,p]=q.useState(!0);q.useEffect(()=>{const E=n.find(C=>C.id===t);l(E),p(!1)},[t,n]);const u=E=>new Date(E).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),f=E=>{if(!E)return"Nunca";const C=new Date(E),O=Math.floor((new Date().getTime()-C.getTime())/(1e3*60));return O<1?"Ahora mismo":O<60?`Hace ${O} min`:O<1440?`Hace ${Math.floor(O/60)} h`:C.toLocaleDateString("es-CL")},g=(E,C)=>C?E?"bg-green-500 shadow-lg shadow-green-500/30":"bg-gray-500":"bg-red-500 shadow-lg shadow-red-500/30",m=(E,C)=>C?E?"En línea":"Desconectado":"Suspendido",i=E=>E==="admin"?e.jsx(ye,{className:"w-4 h-4 text-yellow-400"}):e.jsx(Ve,{className:"w-4 h-4 text-blue-400"}),d=E=>E==="admin"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":"bg-blue-500/20 text-blue-300 border-blue-500/30",[j,y]=q.useState(null),[N,h]=q.useState([]),[c,b]=q.useState(null);q.useEffect(()=>{s&&(x(),k(),v())},[s]);const x=async()=>{try{const E=await(await fetch(`${ue}/stats/get-all.php`,{credentials:"include",cache:"no-store"})).json();if(E.success){const C=E.stats.find(O=>String(O.user_id)===String(t));C&&y(C)}}catch(E){console.error("Error loading player stats:",E)}},v=async()=>{try{const E=await(await fetch(`${ue}/users/get-player-stats.php?user_id=${t}`,{credentials:"include",cache:"no-store"})).json();E.success&&E.hasPlayerName&&E.stats&&b(E)}catch(E){console.error("Error loading ranking stats:",E)}},k=async()=>{try{const E=await(await fetch(`${ue}/stats/get-all.php`,{credentials:"include",cache:"no-store"})).json();if(E.success){const C=E.titles.filter(O=>String(O.user_id)===String(t));h(C||[])}}catch(E){console.error("Error loading player titles:",E)}},w=c!=null&&c.stats?[{label:"Total Kills",value:c.stats.total_kills||0,icon:Ne,color:"text-yellow-400"},{label:"Total Muertes",value:c.stats.total_deaths||0,icon:ye,color:"text-red-400"},{label:"K/D Ratio",value:c.stats.kd_ratio||0,icon:Ve,color:"text-blue-400"}]:[{label:"Mejor Racha",value:(j==null?void 0:j.best_streak)||0,icon:Ve,color:"text-yellow-400"},{label:"Total Kills",value:(j==null?void 0:j.total_kills)||0,icon:Ne,color:"text-blue-400"},{label:"Total Muertes",value:(j==null?void 0:j.total_deaths)||0,icon:ye,color:"text-red-400"}];if(o)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})})});if(!s)return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:r,className:"flex items-center space-x-2 mb-6 px-4 py-2 bg-slate-700/40 hover:bg-slate-700/60 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Jr,{className:"w-4 h-4"}),e.jsx("span",{children:"Volver"})]}),e.jsxs("div",{className:"text-center py-20",children:[e.jsx(yr,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Usuario no encontrado"}),e.jsx("p",{className:"text-blue-300",children:"El perfil que buscas no existe o no está disponible"})]})]});const S=(a==null?void 0:a.id)===t;return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:r,className:"flex items-center space-x-2 mb-6 px-4 py-2 bg-slate-700/40 hover:bg-slate-700/60 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Jr,{className:"w-4 h-4"}),e.jsx("span",{children:"Volver a Jugadores"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:s.avatar||"/Logo-Comunidad.png",alt:s.username,className:`w-24 h-24 rounded-full border-4 mx-auto object-cover ${s.isActive?"border-blue-500/30":"border-red-500/30"}`}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full ${g(s.isOnline,s.isActive)} border-2 border-slate-800`})]}),e.jsx("h2",{className:"text-2xl font-bold text-white mt-4",children:s.username}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-2",children:[e.jsx("p",{className:"text-blue-300",children:s.hideEmail?"••••••@••••••.com":s.email}),s.hideEmail&&e.jsx(bt,{className:"w-4 h-4 text-blue-400",title:"Email oculto"})]}),s.clan&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"px-3 py-1 bg-blue-600/20 text-blue-300 rounded-full text-sm font-medium",children:["[",s.clan,"]"]})}),s.playerName&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"px-3 py-1 bg-green-600/20 text-green-300 rounded-full text-sm font-medium border border-green-500/30",children:s.playerName}),e.jsx("p",{className:"text-xs text-blue-400 mt-1",children:"Nombre de Jugador"})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center justify-center space-x-1 ${d(s.role)}`,children:[i(s.role),e.jsx("span",{children:s.role==="admin"?"Administrador":"Jugador"})]})}),e.jsx("div",{className:"mt-4 p-3 bg-slate-700/40 rounded-lg",children:e.jsx("div",{className:"flex items-center justify-center space-x-2 text-sm",children:e.jsx("span",{className:`font-medium ${s.isActive?s.isOnline?"text-green-300":"text-gray-300":"text-red-300"}`,children:m(s.isOnline,s.isActive)})})}),s.status&&e.jsx("div",{className:"mt-4 p-3 bg-slate-700/40 rounded-lg",children:e.jsxs("p",{className:"text-blue-200 italic text-sm",children:['"',s.status,'"']})})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Último acceso:"}),e.jsx("span",{className:"text-white",children:f(s.lastLogin)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Miembro desde:"}),e.jsx("span",{className:"text-white",children:u(s.createdAt)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Ubicación:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(br,{className:"w-3 h-3 text-blue-400"}),e.jsx("span",{className:"text-white",children:"Chile"})]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx($m,{userId:t,isOwnProfile:S}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Estadísticas de Juego"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:w.map((E,C)=>{const O=E.icon;return e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(O,{className:`w-8 h-8 ${E.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:E.value}),e.jsx("p",{className:"text-blue-300 text-sm",children:E.label})]})]})},C)})})]}),c&&c.stats&&e.jsxs(e.Fragment,{children:[c.serverStats&&c.serverStats.length>0&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(Vt,{className:"w-6 h-6 text-blue-400"}),e.jsx("span",{children:"Estadísticas por Servidor"})]})}),e.jsxs("div",{className:"mb-4 p-3 bg-slate-700/40 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-400 mb-1",children:"Nombre de Jugador"}),e.jsx("p",{className:"text-lg font-bold text-white",children:c.playerName})]}),e.jsx("div",{className:"space-y-4",children:c.serverStats.map((E,C)=>e.jsxs("div",{className:"bg-slate-700/30 rounded-xl border border-blue-600/20 p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h4",{className:"text-lg font-bold text-blue-300 flex items-center space-x-2",children:[e.jsx(Vt,{className:"w-5 h-5"}),e.jsxs("span",{children:["Servidor ",E.server_id]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[e.jsx("div",{className:"bg-slate-800/40 rounded-lg p-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Ne,{className:"w-6 h-6 text-yellow-400 mb-1"}),e.jsx("p",{className:"text-xl font-bold text-white",children:E.total_kills||0}),e.jsx("p",{className:"text-blue-300 text-xs",children:"Kills"})]})}),e.jsx("div",{className:"bg-slate-800/40 rounded-lg p-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(ye,{className:"w-6 h-6 text-red-400 mb-1"}),e.jsx("p",{className:"text-xl font-bold text-white",children:E.total_deaths||0}),e.jsx("p",{className:"text-blue-300 text-xs",children:"Deaths"})]})}),e.jsx("div",{className:"bg-slate-800/40 rounded-lg p-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Ve,{className:"w-6 h-6 text-blue-400 mb-1"}),e.jsx("p",{className:"text-xl font-bold text-white",children:E.kd_ratio||0}),e.jsx("p",{className:"text-blue-300 text-xs",children:"K/D"})]})}),e.jsx("div",{className:"bg-slate-800/40 rounded-lg p-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(jt,{className:"w-6 h-6 text-green-400 mb-1"}),e.jsx("p",{className:"text-xl font-bold text-white",children:E.total_score||0}),e.jsx("p",{className:"text-blue-300 text-xs",children:"Score"})]})}),e.jsx("div",{className:"bg-slate-800/40 rounded-lg p-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Kt,{className:"w-6 h-6 text-purple-400 mb-1"}),e.jsx("p",{className:"text-xl font-bold text-white",children:E.games_played||0}),e.jsx("p",{className:"text-blue-300 text-xs",children:"Partidas"})]})})]})]},C))})]}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-yellow-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(Im,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{children:"Estadísticas Totales del Ranking"})]}),e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-lg border border-yellow-500/30",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-bold",children:["Rank #",c.stats.rank]})]})]}),e.jsxs("div",{className:"mb-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[e.jsx("p",{className:"text-sm text-yellow-400 mb-1",children:"Suma de todos los servidores"}),e.jsx("p",{className:"text-xs text-yellow-500",children:"Estas estadísticas combinan tu desempeño en todos los servidores"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-yellow-500/20",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:c.stats.total_kills||0}),e.jsx("p",{className:"text-yellow-300 text-sm font-medium",children:"Total Kills"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-red-500/20",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ye,{className:"w-8 h-8 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:c.stats.total_deaths||0}),e.jsx("p",{className:"text-red-300 text-sm font-medium",children:"Total Deaths"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-blue-500/20",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ve,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:c.stats.kd_ratio||0}),e.jsx("p",{className:"text-blue-300 text-sm font-medium",children:"K/D Ratio"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-green-500/20",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(jt,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:c.stats.total_score||0}),e.jsx("p",{className:"text-green-300 text-sm font-medium",children:"Total Score"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-purple-500/20",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Kt,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:c.stats.games_played||0}),e.jsx("p",{className:"text-purple-300 text-sm font-medium",children:"Partidas Jugadas"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-cyan-500/20",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ot,{className:"w-8 h-8 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white",children:f(c.stats.last_seen)}),e.jsx("p",{className:"text-cyan-300 text-sm font-medium",children:"Última Partida"})]})]})})]})]})]}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(jt,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{children:"Títulos y Logros"})]}),(j==null?void 0:j.is_champion)&&e.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-yellow-500/20 border border-yellow-500/30 rounded-xl",children:[e.jsx(Ce,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-300 font-bold",children:"CAMPEÓN"})]})]}),N.length>0?e.jsx("div",{className:"grid gap-4",children:N.map(E=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl border bg-gradient-to-r from-yellow-600/10 to-orange-600/10 border-yellow-500/30",children:[e.jsx("div",{className:"p-2 rounded-lg bg-yellow-600/20",children:e.jsx(Ne,{className:"w-6 h-6 text-yellow-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-yellow-300",children:E.title}),e.jsx("p",{className:"text-sm text-yellow-400",children:E.tournament_name}),e.jsx("p",{className:"text-xs text-yellow-500 mt-1",children:u(E.awarded_date)})]}),e.jsx("div",{className:"text-yellow-400 font-bold text-sm",children:"🏆"})]},E.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ne,{className:"w-12 h-12 text-slate-400 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-slate-400",children:"Sin títulos todavía"})]})]})]})]})]})},Af=({clanId:t,clanTag:r,isLeader:n})=>{const{user:a,users:s}=ht(),[l,o]=q.useState([]),[p,u]=q.useState(!0),[f,g]=q.useState(!1),[m,i]=q.useState(!1),[d,j]=q.useState(null),[y,N]=q.useState(!1),[h,c]=q.useState({action:"add",targetUserId:"",reason:""}),[b,x]=q.useState({decision:"approved",adminNotes:""});q.useEffect(()=>{v()},[]);const v=async()=>{try{u(!0);const I=await(await fetch(`${ue}/clans/get-member-requests.php`,{credentials:"include"})).json();I.success&&o(I.requests)}catch(I){console.error("Error loading requests:",I)}finally{u(!1)}},k=async()=>{if(h.targetUserId){N(!0);try{const I=await(await fetch(`${ue}/clans/request-member-action.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({clanId:t,action:h.action,targetUserId:h.targetUserId,reason:h.reason})})).json();I.success?(g(!1),c({action:"add",targetUserId:"",reason:""}),v(),alert(I.message)):alert(I.message||"Error al enviar la solicitud")}catch(I){console.error("Error submitting request:",I),alert("Error al enviar la solicitud")}finally{N(!1)}}},w=async()=>{if(d){N(!0);try{const I=await(await fetch(`${ue}/clans/review-member-request.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({requestId:d.id,decision:b.decision,adminNotes:b.adminNotes})})).json();I.success?(i(!1),j(null),x({decision:"approved",adminNotes:""}),v(),alert(I.message)):alert(I.message||"Error al procesar la solicitud")}catch(I){console.error("Error reviewing request:",I),alert("Error al procesar la solicitud")}finally{N(!1)}}},S=I=>new Date(I).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=I=>{switch(I){case"pending":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"approved":return"bg-green-500/20 text-green-300 border-green-500/30";case"rejected":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},C=I=>{switch(I){case"pending":return Kt;case"approved":return tt;case"rejected":return en;default:return Zt}},O=I=>I==="add"?"Agregar":"Expulsar",_=I=>I==="add"?"text-green-400":"text-red-400",A=I=>I==="add"?Re:uo,R=()=>h.action==="add"?s.filter(I=>!I.clan&&I.isActive&&I.id!==(a==null?void 0:a.id)):s.filter(I=>I.clan===r&&I.isActive&&I.id!==(a==null?void 0:a.id));return n||(a==null?void 0:a.role)==="admin"?e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(je,{className:"w-6 h-6 text-blue-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Gestión de Miembros"}),e.jsx("p",{className:"text-blue-300",children:"Solicitudes para agregar o expulsar miembros del clan"})]})]}),n&&e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Nueva Solicitud"})]})]}),p?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(je,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No hay solicitudes"}),e.jsx("p",{className:"text-blue-300",children:n?"Puedes crear una nueva solicitud para gestionar miembros":"No hay solicitudes pendientes de revisión"})]}):e.jsx("div",{className:"space-y-4",children:l.map(I=>{const z=C(I.status),ee=A(I.action);return e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-6 border border-blue-600/20 hover:border-blue-500/40 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("img",{src:I.targetUser.avatar||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=48&h=48&fit=crop",alt:I.targetUser.username,className:"w-12 h-12 rounded-full border-2 border-blue-500/30"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(ee,{className:`w-5 h-5 ${_(I.action)}`}),e.jsxs("h4",{className:"text-lg font-bold text-white",children:[O(I.action)," a ",I.targetUser.username]}),e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium border ${E(I.status)}`,children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:I.status==="pending"?"Pendiente":I.status==="approved"?"Aprobada":"Rechazada"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(yr,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-blue-400",children:"Solicitado por:"}),e.jsx("span",{className:"text-white font-medium",children:I.requestedBy.username})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ye,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-blue-400",children:"Clan:"}),e.jsxs("span",{className:"text-purple-300 font-mono",children:["[",I.clanTag,"] ",I.clanName]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-blue-400",children:"Fecha:"}),e.jsx("span",{className:"text-white",children:S(I.createdAt)})]})]}),e.jsxs("div",{children:[I.reason&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(nr,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-blue-400",children:"Razón:"})]}),e.jsx("p",{className:"text-blue-200 text-sm bg-slate-600/40 p-2 rounded",children:I.reason})]}),I.reviewedBy&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(ye,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-blue-400",children:"Revisado por:"}),e.jsx("span",{className:"text-white font-medium",children:I.reviewedBy})]}),I.reviewedAt&&e.jsx("p",{className:"text-blue-400 text-xs",children:S(I.reviewedAt)})]}),I.adminNotes&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(ao,{className:"w-4 h-4 text-orange-400"}),e.jsx("span",{className:"text-blue-400",children:"Notas del admin:"})]}),e.jsx("p",{className:"text-blue-200 text-sm bg-slate-600/40 p-2 rounded",children:I.adminNotes})]})]})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2 ml-4",children:(a==null?void 0:a.role)==="admin"&&I.status==="pending"&&e.jsx("button",{onClick:()=>{j(I),i(!0)},className:"p-2 bg-blue-600/20 hover:bg-blue-600/40 rounded-lg text-blue-300 transition-colors",title:"Revisar solicitud",children:e.jsx(Be,{className:"w-4 h-4"})})})]})},I.id)})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Nueva Solicitud de Gestión"}),e.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(en,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-3",children:"Acción a Realizar"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>c({...h,action:"add",targetUserId:""}),className:`flex items-center space-x-3 p-4 rounded-xl border transition-all ${h.action==="add"?"bg-green-600/20 border-green-500/30 text-green-300":"bg-slate-700/40 border-slate-600/30 text-slate-400 hover:bg-slate-700/60"}`,children:[e.jsx(Re,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Agregar Miembro"}),e.jsx("div",{className:"text-xs opacity-75",children:"Invitar usuario al clan"})]})]}),e.jsxs("button",{onClick:()=>c({...h,action:"remove",targetUserId:""}),className:`flex items-center space-x-3 p-4 rounded-xl border transition-all ${h.action==="remove"?"bg-red-600/20 border-red-500/30 text-red-300":"bg-slate-700/40 border-slate-600/30 text-slate-400 hover:bg-slate-700/60"}`,children:[e.jsx(uo,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Expulsar Miembro"}),e.jsx("div",{className:"text-xs opacity-75",children:"Remover usuario del clan"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:["Usuario ",h.action==="add"?"a Agregar":"a Expulsar"]}),e.jsxs("select",{value:h.targetUserId,onChange:I=>c({...h,targetUserId:I.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Seleccionar usuario"}),R().map(I=>e.jsxs("option",{value:I.id,children:[I.username," (",I.email,")"]},I.id))]}),R().length===0&&e.jsx("p",{className:"text-yellow-400 text-sm mt-2",children:h.action==="add"?"No hay usuarios disponibles para agregar (sin clan)":"No hay miembros del clan para expulsar"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Razón (Opcional)"}),e.jsx("textarea",{value:h.reason,onChange:I=>c({...h,reason:I.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Explica la razón de esta solicitud..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:k,disabled:!h.targetUserId||y,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-xl text-white font-medium transition-colors",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Enviando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(nr,{className:"w-4 h-4"}),e.jsx("span",{children:"Enviar Solicitud"})]})}),e.jsx("button",{onClick:()=>g(!1),disabled:y,className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-600/50 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),m&&d&&(a==null?void 0:a.role)==="admin"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Revisar Solicitud"}),e.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(en,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4",children:[e.jsx("h4",{className:"text-lg font-bold text-white mb-3",children:"Detalles de la Solicitud"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-blue-400",children:["Acción: ",e.jsx("span",{className:"text-white font-medium",children:O(d.action)})]}),e.jsxs("p",{className:"text-blue-400",children:["Usuario objetivo: ",e.jsx("span",{className:"text-white font-medium",children:d.targetUser.username})]}),e.jsxs("p",{className:"text-blue-400",children:["Clan: ",e.jsxs("span",{className:"text-purple-300 font-mono",children:["[",d.clanTag,"] ",d.clanName]})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-blue-400",children:["Solicitado por: ",e.jsx("span",{className:"text-white font-medium",children:d.requestedBy.username})]}),e.jsxs("p",{className:"text-blue-400",children:["Fecha: ",e.jsx("span",{className:"text-white",children:S(d.createdAt)})]})]})]}),d.reason&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-blue-400 mb-1",children:"Razón:"}),e.jsx("p",{className:"text-blue-200 bg-slate-600/40 p-2 rounded",children:d.reason})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-3",children:"Decisión"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>x({...b,decision:"approved"}),className:`flex items-center space-x-3 p-4 rounded-xl border transition-all ${b.decision==="approved"?"bg-green-600/20 border-green-500/30 text-green-300":"bg-slate-700/40 border-slate-600/30 text-slate-400 hover:bg-slate-700/60"}`,children:[e.jsx(tt,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Aprobar"}),e.jsx("div",{className:"text-xs opacity-75",children:"Ejecutar la acción"})]})]}),e.jsxs("button",{onClick:()=>x({...b,decision:"rejected"}),className:`flex items-center space-x-3 p-4 rounded-xl border transition-all ${b.decision==="rejected"?"bg-red-600/20 border-red-500/30 text-red-300":"bg-slate-700/40 border-slate-600/30 text-slate-400 hover:bg-slate-700/60"}`,children:[e.jsx(en,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Rechazar"}),e.jsx("div",{className:"text-xs opacity-75",children:"Denegar la solicitud"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Notas del Administrador (Opcional)"}),e.jsx("textarea",{value:b.adminNotes,onChange:I=>x({...b,adminNotes:I.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Comentarios adicionales sobre la decisión..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:w,disabled:y,className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-xl text-white font-medium transition-colors ${b.decision==="approved"?"bg-green-600 hover:bg-green-700 disabled:bg-green-600/50":"bg-red-600 hover:bg-red-700 disabled:bg-red-600/50"}`,children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Procesando..."})]}):e.jsxs(e.Fragment,{children:[b.decision==="approved"?e.jsx(tt,{className:"w-4 h-4"}):e.jsx(en,{className:"w-4 h-4"}),e.jsxs("span",{children:[b.decision==="approved"?"Aprobar":"Rechazar"," Solicitud"]})]})}),e.jsx("button",{onClick:()=>i(!1),disabled:y,className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-600/50 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})})]}):null},Lf=({clanId:t,onBack:r})=>{const{clans:n,users:a,user:s,updateClan:l}=ht(),[o,p]=q.useState(null),[u,f]=q.useState([]),[g,m]=q.useState(!1),[i,d]=q.useState("info"),[j,y]=q.useState({name:"",description:"",icon:"crown",logo:""});q.useEffect(()=>{const _=n.find(A=>A.id===t);if(_){p(_),y({name:_.name,description:_.description||"",icon:_.icon||"crown",logo:_.logo||""});const A=a.filter(R=>R.clan===_.tag&&R.isActive);f(A)}},[t,n,a]);const N=async()=>{o&&(await l(o.id,j)?m(!1):alert("Error al actualizar el clan"))},h=_=>{const A=[{id:"crown",icon:Ce,name:"Corona",color:"text-yellow-400"},{id:"sword",icon:ye,name:"Espada",color:"text-red-400"},{id:"shield",icon:ye,name:"Escudo",color:"text-blue-400"},{id:"star",icon:Ve,name:"Estrella",color:"text-purple-400"},{id:"zap",icon:ye,name:"Rayo",color:"text-green-400"},{id:"target",icon:ye,name:"Diana",color:"text-orange-400"}];return A.find(R=>R.id===_)||A[0]},c=_=>new Date(_).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),b=()=>u.find(_=>_.id===(o==null?void 0:o.leaderId)),x=()=>u.filter(_=>_.isOnline).length,v=()=>(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.id)===(o==null?void 0:o.leaderId),k=()=>(s==null?void 0:s.id)===(o==null?void 0:o.leaderId),w=()=>(s==null?void 0:s.role)==="admin"||k();if(!o)return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:r,className:"flex items-center space-x-2 mb-6 px-4 py-2 bg-slate-700/40 hover:bg-slate-700/60 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Jr,{className:"w-4 h-4"}),e.jsx("span",{children:"Volver"})]}),e.jsxs("div",{className:"text-center py-20",children:[e.jsx(ye,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Clan no encontrado"}),e.jsx("p",{className:"text-blue-300",children:"El clan que buscas no existe o no está disponible"})]})]});const S=h(o.icon).icon,E=h(o.icon).color,C=b(),O=[{id:"info",label:"Información",icon:ye},{id:"members",label:"Miembros",icon:je}];return w()&&O.push({id:"management",label:"Gestión",icon:Ce}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:r,className:"flex items-center space-x-2 mb-6 px-4 py-2 bg-slate-700/40 hover:bg-slate-700/60 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Jr,{className:"w-4 h-4"}),e.jsx("span",{children:"Volver a Clanes"})]}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl mb-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"relative inline-block mb-4",children:o.logo?e.jsx("img",{src:o.logo,alt:`Logo de ${o.name}`,className:"w-24 h-24 rounded-full border-4 border-blue-500/30 mx-auto object-cover",onError:_=>{const A=_.target;A.style.display="none";const R=A.parentElement;R&&(R.innerHTML=`
                      <div class="w-24 h-24 rounded-full border-4 border-blue-500/30 mx-auto bg-slate-700/40 flex items-center justify-center">
                        <svg class="w-12 h-12 ${E}" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/>
                        </svg>
                      </div>
                    `)}}):e.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-blue-500/30 mx-auto bg-slate-700/40 flex items-center justify-center",children:e.jsx(S,{className:`w-12 h-12 ${E}`})})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:o.name}),e.jsx("div",{className:"flex items-center justify-center space-x-2 mb-3",children:e.jsxs("span",{className:"px-3 py-1 bg-blue-600/20 text-blue-300 rounded-full text-lg font-mono font-bold",children:["[",o.tag,"]"]})}),o.description&&e.jsxs("p",{className:"text-blue-200 text-sm italic mb-4",children:['"',o.description,'"']})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 text-center",children:[e.jsx(je,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:u.length}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Miembros"})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 text-center",children:[e.jsx(Mn,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:x()}),e.jsx("p",{className:"text-green-300 text-sm",children:"En Línea"})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 text-center",children:[e.jsx(Ot,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),e.jsx("p",{className:"text-lg font-bold text-white",children:c(o.createdAt)}),e.jsx("p",{className:"text-purple-300 text-sm",children:"Fundado"})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 text-center",children:[e.jsx(Ce,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),e.jsx("p",{className:"text-lg font-bold text-white",children:(C==null?void 0:C.username)||"Sin líder"}),e.jsx("p",{className:"text-yellow-300 text-sm",children:"Líder"})]})]}),v()&&e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:()=>m(!g),className:"flex items-center space-x-2 px-6 py-3 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-xl text-blue-300 hover:text-blue-200 font-medium transition-all duration-300 mx-auto",children:[e.jsx(ir,{className:"w-4 h-4"}),e.jsx("span",{children:g?"Cancelar Edición":"Editar Clan"})]})})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex space-x-2 bg-slate-800/40 backdrop-blur-lg rounded-xl p-2 border border-blue-700/30",children:O.map(_=>{const A=_.icon;return e.jsxs("button",{onClick:()=>d(_.id),className:`
                  flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all duration-300
                  ${i===_.id?"bg-blue-600 text-white shadow-lg":"text-blue-300 hover:bg-blue-600/20 hover:text-blue-200"}
                `,children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("span",{children:_.label})]},_.id)})})}),i==="info"&&e.jsxs("div",{className:"space-y-8",children:[g&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(ir,{className:"w-6 h-6 text-blue-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Información del Clan"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Clan"}),e.jsx("input",{type:"text",value:j.name,onChange:_=>y({...j,name:_.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Descripción"}),e.jsx("textarea",{value:j.description,onChange:_=>y({...j,description:_.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Descripción del clan..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"URL del Logo (Opcional)"}),e.jsx("input",{type:"url",value:j.logo,onChange:_=>y({...j,logo:_.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"https://ejemplo.com/logo.png"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:N,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Guardar Cambios"})]}),e.jsx("button",{onClick:()=>m(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:e.jsx(Ee,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{children:"Estadísticas del Clan"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:"0"}),e.jsx("div",{className:"text-blue-300 text-sm",children:"Partidas Jugadas"})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400 mb-1",children:"0"}),e.jsx("div",{className:"text-blue-300 text-sm",children:"Victorias"})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-400 mb-1",children:"0.00"}),e.jsx("div",{className:"text-blue-300 text-sm",children:"K/D Promedio"})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:"0h"}),e.jsx("div",{className:"text-blue-300 text-sm",children:"Horas Jugadas"})]})]})]})]}),i==="members"&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center space-x-2",children:[e.jsx(je,{className:"w-6 h-6 text-blue-400"}),e.jsxs("span",{children:["Miembros del Clan (",u.length,")"]})]}),u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(je,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sin miembros activos"}),e.jsx("p",{className:"text-blue-300",children:"Este clan no tiene miembros activos en este momento"})]}):e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:u.map(_=>e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-blue-600/20 hover:border-blue-500/40 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:_.avatar||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=48&h=48&fit=crop",alt:_.username,className:"w-12 h-12 rounded-full border-2 border-blue-500/30"}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-slate-800 ${_.isOnline?"bg-green-500":"bg-gray-500"}`}),_.id===o.leaderId&&e.jsx("div",{className:"absolute -top-1 -left-1 w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center border-2 border-slate-800",children:e.jsx(Ce,{className:"w-2.5 h-2.5 text-yellow-900"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-bold text-white",children:_.username}),_.id===o.leaderId&&e.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-xs font-medium",children:"Líder"}),_.role==="admin"&&e.jsxs("span",{className:"px-2 py-1 bg-red-500/20 text-red-300 rounded-full text-xs font-medium flex items-center space-x-1",children:[e.jsx(ye,{className:"w-3 h-3"}),e.jsx("span",{children:"Admin"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-blue-400 mt-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Mn,{className:"w-3 h-3"}),e.jsx("span",{children:_.isOnline?"En línea":"Desconectado"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(br,{className:"w-3 h-3"}),e.jsx("span",{children:"Chile"})]})]}),_.status&&e.jsxs("p",{className:"text-blue-200 text-xs italic mt-1",children:['"',_.status,'"']})]})]})},_.id))})]}),i==="management"&&w()&&e.jsx(Af,{clanId:o.id,clanTag:o.tag,isLeader:k()})]})},zm=({tournamentId:t,tournamentType:r,teamSize:n,participants:a,matches:s,bracketType:l,isAdmin:o,onMatchUpdate:p,onBracketRegenerate:u,onRefreshData:f})=>{const[g,m]=q.useState(null);q.useState(!1);const[i,d]=q.useState(!1),[j,y]=q.useState(!1),[N,h]=q.useState(!1),[c,b]=q.useState(!1),[x,v]=q.useState(!1),[k,w]=q.useState(null),[S,E]=q.useState(null),[C,O]=q.useState(null),[_,A]=q.useState({}),[R,I]=q.useState(!1),[z,ee]=q.useState(null),[B,M]=q.useState(!1),[P,L]=q.useState(!1),[F,W]=q.useState(null),G=q.useRef(null),[V,$]=q.useState({round:1,matchNumber:1,participant1Id:"",participant2Id:"",team1Participants:[],team2Participants:[],mapPlayed:"",scheduledAt:"",notes:""}),[U,X]=q.useState({score1:0,score2:0,winnerId:"",winnerTeam:0,status:"pending",mapPlayed:"",notes:"",participant1Id:"",participant2Id:"",team1Participants:[],team2Participants:[]});q.useEffect(()=>{le(),ae()},[t]);const le=async()=>{try{const Y=await(await fetch(`${ue}/tournaments/get-round-titles.php?tournamentId=${t}`,{credentials:"include",cache:"no-store"})).json();Y.success&&A(Y.roundTitles)}catch(Y){console.error("Error loading round titles:",Y)}},ae=async()=>{try{const Y=await(await fetch(`${ue}/tournaments/get-champion.php?tournamentId=${t}`,{credentials:"include",cache:"no-store"})).json();Y.success&&Y.champion&&W(Y.champion)}catch(Y){console.error("Error loading manual champion:",Y)}},J=()=>{console.log("🎯 Botón Crear Partida Manual clickeado"),d(!0)},ne=async()=>{try{I(!0);const Y={tournamentId:t,round:V.round,matchNumber:V.matchNumber,mapPlayed:V.mapPlayed||null,scheduledAt:V.scheduledAt||null,notes:V.notes||null};n>1?(Y.team1Participants=V.team1Participants.length>0?V.team1Participants:null,Y.team2Participants=V.team2Participants.length>0?V.team2Participants:null):(Y.participant1Id=V.participant1Id||null,Y.participant2Id=V.participant2Id||null),console.log("🎯 Enviando datos de partida:",Y);const ce=await(await fetch(`${ue}/tournaments/create-match.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Y)})).json();ce.success?($({round:1,matchNumber:1,participant1Id:"",participant2Id:"",team1Participants:[],team2Participants:[],mapPlayed:"",scheduledAt:"",notes:""}),d(!1),f(),alert("Partida creada exitosamente")):alert(ce.message||"Error al crear la partida")}catch(Y){console.error("Error creating match:",Y),alert("Error al crear la partida")}finally{I(!1)}},D=async(Y,ce)=>{try{I(!0);const be=await(await fetch(`${ue}/tournaments/update-match.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({matchId:Y,...ce})})).json();return be.success?(p(Y,ce),f(),b(!1),w(null),!0):(alert(be.message||"Error al actualizar la partida"),!1)}catch(be){return console.error("Error updating match:",be),alert("Error al actualizar la partida"),!1}finally{I(!1)}},ie=async Y=>{if(confirm("¿Estás seguro de que quieres eliminar esta partida? Esta acción no se puede deshacer."))try{I(!0);const ce=await(await fetch(`${ue}/tournaments/delete-match.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({matchId:Y})})).json();ce.success?(f(),alert("Partida eliminada exitosamente")):alert(ce.message||"Error al eliminar la partida")}catch(ce){console.error("Error deleting match:",ce),alert("Error al eliminar la partida")}finally{I(!1)}},me=async Y=>{const ce=s.filter(be=>be.round===Y);if(ce.length===0){alert("No hay partidas en esta ronda para eliminar");return}if(confirm(`¿Estás seguro de que quieres eliminar toda la ronda ${Y}? Se eliminarán ${ce.length} partida(s). Esta acción no se puede deshacer.`))try{I(!0);for(const be of ce){const Je=await(await fetch(`${ue}/tournaments/delete-match.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({matchId:be.id})})).json();Je.success||console.error(`Error deleting match ${be.id}:`,Je.message)}f(),alert(`Ronda ${Y} eliminada exitosamente`)}catch(be){console.error("Error deleting round:",be),alert("Error al eliminar la ronda")}finally{I(!1)}},ge=async Y=>{try{I(!0);const ce=await(await fetch(`${ue}/tournaments/set-champion.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tournamentId:t,...Y})})).json();ce.success?(W(Y),v(!1),f(),alert("Campeón designado exitosamente")):alert(ce.message||"Error al designar campeón")}catch(ce){console.error("Error setting champion:",ce),alert("Error al designar campeón")}finally{I(!1)}},pe=async()=>{if(confirm("¿Estás seguro de que quieres quitar la designación manual del campeón?"))try{I(!0);const Y=await(await fetch(`${ue}/tournaments/clear-champion.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tournamentId:t})})).json();Y.success?(W(null),f(),alert("Designación de campeón eliminada")):alert(Y.message||"Error al quitar designación de campeón")}catch(Y){console.error("Error clearing champion:",Y),alert("Error al quitar designación de campeón")}finally{I(!1)}},te=async(Y,ce,be)=>{try{I(!0);const Je=await(await fetch(`${ue}/tournaments/update-match-teams.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({matchId:Y,team1Name:ce,team2Name:be})})).json();Je.success?(p(Y,{team1CustomName:ce,team2CustomName:be}),f(),y(!1),E(null)):alert(Je.message||"Error al actualizar nombres de equipos")}catch(Je){console.error("Error updating team names:",Je),alert("Error al actualizar nombres de equipos")}finally{I(!1)}},Z=async(Y,ce)=>{try{I(!0);const be=await(await fetch(`${ue}/tournaments/update-round-title.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tournamentId:t,round:Y,title:ce})})).json();be.success?(A(Je=>({...Je,[Y]:ce})),h(!1),O(null)):alert(be.message||"Error al actualizar título de ronda")}catch(be){console.error("Error updating round title:",be),alert("Error al actualizar título de ronda")}finally{I(!1)}},re=Y=>{var ce,be,Je,Oe;w(Y),X({score1:Y.score1,score2:Y.score2,winnerId:Y.winnerId||"",winnerTeam:Y.winnerTeam||0,status:Y.status,mapPlayed:Y.mapPlayed||"",notes:Y.notes||"",participant1Id:((ce=Y.participant1)==null?void 0:ce.id)||"",participant2Id:((be=Y.participant2)==null?void 0:be.id)||"",team1Participants:((Je=Y.team1Participants)==null?void 0:Je.map(Yt=>Yt.id))||[],team2Participants:((Oe=Y.team2Participants)==null?void 0:Oe.map(Yt=>Yt.id))||[]}),b(!0)},Q=Y=>{E({matchId:Y.id,team1Name:Y.team1CustomName||he(Y,1),team2Name:Y.team2CustomName||he(Y,2)}),y(!0)},K=Y=>{O({round:Y,title:_[Y]||`Ronda ${Y}`}),h(!0)},H=async()=>{var Y,ce;if(!k)return;const be={score1:U.score1,score2:U.score2,status:U.status,mapPlayed:U.mapPlayed,notes:U.notes};U.status==="completed"?n>1?(U.score1>U.score2?be.winnerTeam=1:U.score2>U.score1?be.winnerTeam=2:be.winnerTeam=null,be.winnerId=null):(U.score1>U.score2?be.winnerId=((Y=k.participant1)==null?void 0:Y.id)||null:U.score2>U.score1?be.winnerId=((ce=k.participant2)==null?void 0:ce.id)||null:be.winnerId=null,be.winnerTeam=null):(be.winnerId=null,be.winnerTeam=null),n>1?(U.team1Participants.length>0&&(be.team1Participants=U.team1Participants),U.team2Participants.length>0&&(be.team2Participants=U.team2Participants)):(U.participant1Id&&(be.participant1Id=U.participant1Id),U.participant2Id&&(be.participant2Id=U.participant2Id)),await D(k.id,be)},he=(Y,ce)=>{if(ce===1){if(Y.team1CustomName)return Y.team1CustomName;if(n>1&&Y.team1Participants&&Y.team1Participants.length>0){const be=Y.team1Participants[0];return r==="clan"&&be.clanTag?`Equipo [${be.clanTag}]`:be.teamName||`Equipo ${be.participantName}`}return Y.participant1?Y.participant1.clanTag?`[${Y.participant1.clanTag}] ${Y.participant1.participantName}`:Y.participant1.teamName||Y.participant1.participantName:"Equipo 1"}else{if(Y.team2CustomName)return Y.team2CustomName;if(n>1&&Y.team2Participants&&Y.team2Participants.length>0){const be=Y.team2Participants[0];return r==="clan"&&be.clanTag?`Equipo [${be.clanTag}]`:be.teamName||`Equipo ${be.participantName}`}return Y.participant2?Y.participant2.clanTag?`[${Y.participant2.clanTag}] ${Y.participant2.participantName}`:Y.participant2.teamName||Y.participant2.participantName:"Equipo 2"}},ve=(Y,ce)=>n===1?null:ce===1&&Y.team1Participants&&Y.team1Participants.length>0?Y.team1Participants.map(be=>be.participantName).join(", "):ce===2&&Y.team2Participants&&Y.team2Participants.length>0?Y.team2Participants.map(be=>be.participantName).join(", "):null,Se=()=>n===1?"1v1":`${n}v${n}`,ke=Y=>_[Y]||`Ronda ${Y}`,xn=Y=>{switch(Y){case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"in_progress":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-blue-500/20 text-blue-300 border-blue-500/30"}},Pe=Y=>{switch(Y){case"completed":return tt;case"in_progress":return Kt;case"cancelled":return Zt;default:return Ze}},Ke=Y=>new Date(Y).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ta=s.reduce((Y,ce)=>(Y[ce.round]||(Y[ce.round]=[]),Y[ce.round].push(ce),Y),{}),ra=Object.keys(ta).map(Number).sort((Y,ce)=>Y-ce),Nt=(()=>{var Y,ce;if(F)return{...F,isManual:!0};if(l==="single_elimination"&&ra.length>0){const be=Math.max(...ra),Je=ta[be],Oe=Je==null?void 0:Je.find(Yt=>Yt.status==="completed");if(Oe)if(n>1){if(Oe.winnerTeam===1)return{type:"team",name:he(Oe,1),participants:Oe.team1Participants||[],score:`${Oe.score1} - ${Oe.score2}`,isManual:!1};if(Oe.winnerTeam===2)return{type:"team",name:he(Oe,2),participants:Oe.team2Participants||[],score:`${Oe.score1} - ${Oe.score2}`,isManual:!1}}else{if(Oe.winnerId===((Y=Oe.participant1)==null?void 0:Y.id))return{type:"individual",name:he(Oe,1),participant:Oe.participant1,score:`${Oe.score1} - ${Oe.score2}`,isManual:!1};if(Oe.winnerId===((ce=Oe.participant2)==null?void 0:ce.id))return{type:"individual",name:he(Oe,2),participant:Oe.participant2,score:`${Oe.score1} - ${Oe.score2}`,isManual:!1}}}return null})();return s.length===0?e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Bracket no generado"}),e.jsx("p",{className:"text-blue-300 mb-6",children:l==="round_robin"?"Las partidas se generarán automáticamente cuando haya suficientes participantes":"El bracket se generará automáticamente cuando comience el torneo"}),o&&e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(Dt,{className:"w-5 h-5"}),e.jsx("span",{children:"Generar Bracket"})]}),e.jsxs("button",{onClick:J,className:"flex items-center space-x-2 px-6 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-5 h-5"}),e.jsx("span",{children:"Crear Partida Manual"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 px-6 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(Ce,{className:"w-5 h-5"}),e.jsx("span",{children:"Designar Campeón"})]})]})]})}):e.jsxs("div",{className:"space-y-8",children:[Nt&&e.jsx("div",{className:"bg-gradient-to-r from-yellow-600/20 via-yellow-500/20 to-yellow-600/20 backdrop-blur-lg rounded-2xl border border-yellow-500/30 p-8 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[e.jsx(Ce,{className:"w-12 h-12 text-yellow-400"}),e.jsxs("h2",{className:"text-3xl font-bold text-yellow-300",children:["¡CAMPEÓN",Nt.isManual?" (DESIGNADO)":"","!"]}),e.jsx(Ce,{className:"w-12 h-12 text-yellow-400"})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-6 max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:Nt.name}),Nt.type==="team"&&Nt.participants&&Nt.participants.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-yellow-300 text-sm mb-2",children:"Miembros del equipo:"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:Nt.participants.map((Y,ce)=>e.jsx("span",{className:"px-3 py-1 bg-yellow-600/20 text-yellow-200 rounded-lg text-sm",children:Y.participantName},ce))})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx(gr,{className:"w-8 h-8 text-yellow-400"}),Nt.score&&e.jsxs("span",{className:"text-xl font-bold text-yellow-300",children:["Resultado Final: ",Nt.score]}),e.jsx(gr,{className:"w-8 h-8 text-yellow-400"})]}),Nt.isManual&&e.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:e.jsxs("p",{className:"text-blue-300 text-sm",children:[e.jsx(co,{className:"w-4 h-4 inline mr-2"}),"Campeón designado manualmente por un administrador"]})})]}),o&&e.jsxs("div",{className:"flex justify-center space-x-3 mt-6",children:[e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600/20 hover:bg-blue-600/30 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(ir,{className:"w-4 h-4"}),e.jsx("span",{children:"Cambiar Campeón"})]}),Nt.isManual&&e.jsxs("button",{onClick:pe,className:"flex items-center space-x-2 px-4 py-2 bg-red-600/20 hover:bg-red-600/30 rounded-lg text-red-300 hover:text-red-200 transition-colors",children:[e.jsx(Ee,{className:"w-4 h-4"}),e.jsx("span",{children:"Quitar Designación"})]})]})]})}),o&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(vr,{className:"w-6 h-6 text-orange-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Controles de Administrador"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>L(!P),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${P?"bg-orange-600 text-white":"bg-orange-600/20 text-orange-300 hover:bg-orange-600/30"}`,children:[P?e.jsx(Ir,{className:"w-4 h-4"}):e.jsx(mc,{className:"w-4 h-4"}),e.jsx("span",{children:P?"Bloquear Posiciones":"Editar Posiciones"})]}),e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600/20 hover:bg-blue-600/30 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Dt,{className:"w-4 h-4"}),e.jsx("span",{children:"Actualizar"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:J,className:"flex items-center space-x-3 p-4 bg-green-600/20 hover:bg-green-600/30 border border-green-500/30 rounded-xl text-green-300 hover:text-green-200 transition-all duration-300",children:[e.jsx(Re,{className:"w-5 h-5"}),e.jsx("span",{children:"Crear Partida"})]}),e.jsxs("button",{onClick:u,className:"flex items-center space-x-3 p-4 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-xl text-blue-300 hover:text-blue-200 transition-all duration-300",children:[e.jsx(Dt,{className:"w-5 h-5"}),e.jsx("span",{children:"Regenerar Bracket"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-3 p-4 bg-yellow-600/20 hover:bg-yellow-600/30 border border-yellow-500/30 rounded-xl text-yellow-300 hover:text-yellow-200 transition-all duration-300",children:[e.jsx(Ce,{className:"w-5 h-5"}),e.jsx("span",{children:"Designar Campeón"})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-purple-600/20 border border-purple-500/30 rounded-xl text-purple-300",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsxs("span",{children:["Formato: ",Se()]})]})]})]}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bracket del Torneo"}),e.jsxs("p",{className:"text-blue-300",children:["Formato: ",Se()," • ",s.length," partidas"]})]})]})}),e.jsx("div",{ref:G,className:"relative overflow-x-auto",children:e.jsx("div",{className:"flex space-x-12 min-w-max py-8",children:ra.map(Y=>e.jsxs("div",{className:"flex flex-col space-y-6 min-w-[300px]",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:ke(Y)}),e.jsx("span",{className:"px-2 py-1 bg-orange-600/20 text-orange-300 rounded text-sm font-bold",children:Se()}),o&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>K(Y),className:"p-1 bg-blue-600/20 hover:bg-blue-600/40 rounded text-blue-300 hover:text-blue-200 transition-colors",title:"Editar título de ronda",children:e.jsx(df,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>me(Y),className:"p-1 bg-red-600/20 hover:bg-red-600/40 rounded text-red-300 hover:text-red-200 transition-colors",title:"Eliminar toda la ronda",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-blue-500 to-transparent rounded"})]}),e.jsx("div",{className:"space-y-6",children:ta[Y].sort((ce,be)=>ce.matchNumber-be.matchNumber).map(ce=>{var be,Je,Oe,Yt;const Il=Pe(ce.status),Ml=he(ce,1),ql=he(ce,2),Ga=ve(ce,1),Xa=ve(ce,2);return e.jsxs("div",{className:`bg-slate-700/40 rounded-xl border border-blue-600/30 p-4 transition-all duration-300 hover:border-blue-500/50 ${P?"cursor-move":"cursor-pointer"} ${z===ce.id?"opacity-50 scale-95":""}`,onClick:()=>!P&&m(ce),draggable:P,onDragStart:Gt=>{ee(ce.id),M(!0),Gt.dataTransfer.effectAllowed="move"},onDragEnd:()=>{ee(null),M(!1)},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-blue-400 font-medium",children:["Partida #",ce.matchNumber]}),e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium border ${xn(ce.status)}`,children:[e.jsx(Il,{className:"w-3 h-3"}),e.jsx("span",{children:ce.status==="completed"?"Completada":ce.status==="in_progress"?"En Progreso":ce.status==="cancelled"?"Cancelada":"Pendiente"})]})]}),o&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:Gt=>{Gt.stopPropagation(),re(ce)},className:"p-1 bg-green-600/20 hover:bg-green-600/40 rounded text-green-300 hover:text-green-200 transition-colors",title:"Editar partida completa",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx("button",{onClick:Gt=>{Gt.stopPropagation(),Q(ce)},className:"p-1 bg-purple-600/20 hover:bg-purple-600/40 rounded text-purple-300 hover:text-purple-200 transition-colors",title:"Editar nombres de equipos",children:e.jsx(of,{className:"w-4 h-4"})}),e.jsx("button",{onClick:Gt=>{Gt.stopPropagation(),ie(ce.id)},className:"p-1 bg-red-600/20 hover:bg-red-600/40 rounded text-red-300 hover:text-red-200 transition-colors",title:"Eliminar partida",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${ce.winnerId===((be=ce.participant1)==null?void 0:be.id)||ce.winnerTeam===1?"bg-green-500/20 border border-green-500/30":"bg-slate-600/40"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-white",children:Ml}),Ga&&e.jsx("div",{className:"text-blue-300 text-sm mt-1",children:Ga})]}),e.jsx("div",{className:`text-2xl font-bold ${ce.winnerId===((Je=ce.participant1)==null?void 0:Je.id)||ce.winnerTeam===1?"text-green-400":"text-white"}`,children:ce.score1})]}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-blue-400 font-bold text-lg",children:Se()})}),e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${ce.winnerId===((Oe=ce.participant2)==null?void 0:Oe.id)||ce.winnerTeam===2?"bg-green-500/20 border border-green-500/30":"bg-slate-600/40"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-white",children:ql}),Xa&&e.jsx("div",{className:"text-blue-300 text-sm mt-1",children:Xa})]}),e.jsx("div",{className:`text-2xl font-bold ${ce.winnerId===((Yt=ce.participant2)==null?void 0:Yt.id)||ce.winnerTeam===2?"text-green-400":"text-white"}`,children:ce.score2})]})]}),(ce.mapPlayed||ce.scheduledAt)&&e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[ce.mapPlayed&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(br,{className:"w-4 h-4 text-orange-400"}),e.jsx("span",{className:"text-orange-300",children:ce.mapPlayed})]}),ce.scheduledAt&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ot,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-blue-300",children:Ke(ce.scheduledAt)})]})]})})]},ce.id)})})]},Y))})})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(Re,{className:"w-6 h-6 text-green-400"}),e.jsx("span",{children:"Crear Nueva Partida"})]}),e.jsx("button",{onClick:()=>{console.log("🎯 Cerrando modal de crear partida"),d(!1)},className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Ronda"}),e.jsx("input",{type:"number",min:"1",value:V.round,onChange:Y=>$({...V,round:parseInt(Y.target.value)||1}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Número de Partida"}),e.jsx("input",{type:"number",min:"1",value:V.matchNumber,onChange:Y=>$({...V,matchNumber:parseInt(Y.target.value)||1}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors"})]})]}),n===1?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Participante 1 (Opcional)"}),e.jsxs("select",{value:V.participant1Id,onChange:Y=>$({...V,participant1Id:Y.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Sin participante asignado"}),a.map(Y=>e.jsxs("option",{value:Y.id,children:[Y.participantName,Y.clanTag&&` [${Y.clanTag}]`]},Y.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Participante 2 (Opcional)"}),e.jsxs("select",{value:V.participant2Id,onChange:Y=>$({...V,participant2Id:Y.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Sin participante asignado"}),a.map(Y=>e.jsxs("option",{value:Y.id,children:[Y.participantName,Y.clanTag&&` [${Y.clanTag}]`]},Y.id))]})]})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:["Equipo 1 (Opcional - Máximo ",n," participantes)"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-blue-600/30 rounded-xl p-3 bg-slate-700/20",children:a.map(Y=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V.team1Participants.includes(Y.id),onChange:ce=>{ce.target.checked?V.team1Participants.length<n&&$({...V,team1Participants:[...V.team1Participants,Y.id]}):$({...V,team1Participants:V.team1Participants.filter(be=>be!==Y.id)})},disabled:!V.team1Participants.includes(Y.id)&&V.team1Participants.length>=n,className:"rounded border-blue-600/30"}),e.jsxs("span",{className:"text-white text-sm",children:[Y.participantName,Y.clanTag&&` [${Y.clanTag}]`]})]},Y.id))}),e.jsxs("p",{className:"text-blue-400 text-xs mt-1",children:["Seleccionados: ",V.team1Participants.length,"/",n]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:["Equipo 2 (Opcional - Máximo ",n," participantes)"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-blue-600/30 rounded-xl p-3 bg-slate-700/20",children:a.map(Y=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V.team2Participants.includes(Y.id),onChange:ce=>{ce.target.checked?V.team2Participants.length<n&&$({...V,team2Participants:[...V.team2Participants,Y.id]}):$({...V,team2Participants:V.team2Participants.filter(be=>be!==Y.id)})},disabled:!V.team2Participants.includes(Y.id)&&V.team2Participants.length>=n,className:"rounded border-blue-600/30"}),e.jsxs("span",{className:"text-white text-sm",children:[Y.participantName,Y.clanTag&&` [${Y.clanTag}]`]})]},Y.id))}),e.jsxs("p",{className:"text-blue-400 text-xs mt-1",children:["Seleccionados: ",V.team2Participants.length,"/",n]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Mapa (Opcional)"}),e.jsx("input",{type:"text",value:V.mapPlayed,onChange:Y=>$({...V,mapPlayed:Y.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Ej: de_dust2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Fecha Programada (Opcional)"}),e.jsx("input",{type:"datetime-local",value:V.scheduledAt,onChange:Y=>$({...V,scheduledAt:Y.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Notas (Opcional)"}),e.jsx("textarea",{value:V.notes,onChange:Y=>$({...V,notes:Y.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Notas adicionales sobre la partida..."})]}),e.jsx("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-xl p-4",children:e.jsxs("p",{className:"text-orange-300 text-sm",children:[e.jsx(Ze,{className:"w-4 h-4 inline mr-2"}),"Esta partida se jugará en formato ",e.jsx("strong",{children:Se()}),n>1&&` (${n} jugadores por equipo)`]})}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:e.jsxs("p",{className:"text-blue-300 text-sm",children:[e.jsx(je,{className:"w-4 h-4 inline mr-2"}),e.jsx("strong",{children:"Nota:"})," Los participantes son opcionales. Puedes crear la partida sin asignar participantes y agregarlos después."]})}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:()=>{console.log("🎯 Botón Crear Partida clickeado"),ne()},disabled:R,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-xl text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:R?"Creando...":"Crear Partida"})]}),e.jsx("button",{onClick:()=>{console.log("🎯 Botón Cancelar clickeado"),d(!1)},className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(Ce,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{children:"Designar Campeón"})]}),e.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4",children:e.jsxs("p",{className:"text-yellow-300 text-sm",children:[e.jsx(Ce,{className:"w-4 h-4 inline mr-2"}),"Designa manualmente el campeón del torneo. Esta designación tendrá prioridad sobre los resultados automáticos."]})}),n===1?e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-3",children:"Seleccionar Campeón Individual"}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.map(Y=>e.jsxs("button",{onClick:()=>W({type:"individual",participantId:Y.id,name:Y.participantName}),className:`w-full flex items-center space-x-3 p-3 rounded-lg border transition-all ${(F==null?void 0:F.participantId)===Y.id?"bg-yellow-600/20 border-yellow-500/30 text-yellow-300":"bg-slate-700/40 border-slate-600/30 text-slate-300 hover:bg-slate-700/60"}`,children:[Y.participantAvatar?e.jsx("img",{src:Y.participantAvatar,alt:Y.participantName,className:"w-10 h-10 rounded-full border border-blue-500/30"}):e.jsx("div",{className:"w-10 h-10 rounded-full border border-blue-500/30 bg-slate-600/40 flex items-center justify-center",children:e.jsx(je,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:Y.participantName}),Y.clanTag&&e.jsxs("div",{className:"text-sm opacity-75",children:["[",Y.clanTag,"]"]})]})]},Y.id))})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-3",children:"Seleccionar Equipo Campeón"}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.map(Y=>{var ce;return e.jsxs("button",{onClick:()=>W({type:"team",teamParticipants:[Y.id],name:Y.teamName||Y.participantName}),className:`w-full flex items-center space-x-3 p-3 rounded-lg border transition-all ${(ce=F==null?void 0:F.teamParticipants)!=null&&ce.includes(Y.id)?"bg-yellow-600/20 border-yellow-500/30 text-yellow-300":"bg-slate-700/40 border-slate-600/30 text-slate-300 hover:bg-slate-700/60"}`,children:[Y.participantAvatar?e.jsx("img",{src:Y.participantAvatar,alt:Y.participantName,className:"w-10 h-10 rounded-full border border-blue-500/30"}):e.jsx("div",{className:"w-10 h-10 rounded-full border border-blue-500/30 bg-slate-600/40 flex items-center justify-center",children:e.jsx(je,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:Y.teamName||Y.participantName}),Y.teamMembers.length>0&&e.jsx("div",{className:"text-sm opacity-75",children:Y.teamMembers.join(", ")}),Y.clanTag&&e.jsxs("div",{className:"text-sm opacity-75",children:["[",Y.clanTag,"]"]})]})]},Y.id)})})]}),F&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-green-300 font-medium mb-2 flex items-center space-x-2",children:[e.jsx(tt,{className:"w-4 h-4"}),e.jsx("span",{children:"Campeón Seleccionado"})]}),e.jsx("p",{className:"text-green-200 font-bold text-lg",children:F.name})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:()=>F&&ge(F),disabled:!F||R,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-600/50 rounded-xl text-white font-medium transition-colors",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:R?"Designando...":"Designar Campeón"})]}),e.jsx("button",{onClick:()=>v(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),c&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Editar Partida #",k.matchNumber]}),e.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium",children:[he(k,1)," - Puntaje"]}),e.jsx("input",{type:"number",min:"0",value:U.score1,onChange:Y=>X({...U,score1:parseInt(Y.target.value)||0}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white text-center text-2xl font-bold focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium",children:[he(k,2)," - Puntaje"]}),e.jsx("input",{type:"number",min:"0",value:U.score2,onChange:Y=>X({...U,score2:parseInt(Y.target.value)||0}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white text-center text-2xl font-bold focus:outline-none focus:border-blue-500 transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Estado de la Partida"}),e.jsxs("select",{value:U.status,onChange:Y=>X({...U,status:Y.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"pending",children:"Pendiente"}),e.jsx("option",{value:"in_progress",children:"En Progreso"}),e.jsx("option",{value:"completed",children:"Completada"}),e.jsx("option",{value:"cancelled",children:"Cancelada"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Mapa Jugado"}),e.jsx("input",{type:"text",value:U.mapPlayed,onChange:Y=>X({...U,mapPlayed:Y.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Ej: de_dust2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Notas"}),e.jsx("textarea",{value:U.notes,onChange:Y=>X({...U,notes:Y.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Notas adicionales sobre la partida..."})]}),U.status==="completed"&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-4",children:[e.jsx("h4",{className:"text-green-300 font-medium mb-2",children:"Ganador Automático"}),e.jsx("p",{className:"text-green-200 text-sm",children:U.score1>U.score2?`${he(k,1)} gana con ${U.score1} - ${U.score2}`:U.score2>U.score1?`${he(k,2)} gana con ${U.score2} - ${U.score1}`:`Empate ${U.score1} - ${U.score2}`})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:H,disabled:R,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:R?"Guardando...":"Guardar Cambios"})]}),e.jsx("button",{onClick:()=>b(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),j&&S&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Nombres de Equipos"}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Equipo 1"}),e.jsx("input",{type:"text",value:S.team1Name,onChange:Y=>E({...S,team1Name:Y.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Ej: Equipo Alpha"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Equipo 2"}),e.jsx("input",{type:"text",value:S.team2Name,onChange:Y=>E({...S,team2Name:Y.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Ej: Equipo Beta"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:()=>te(S.matchId,S.team1Name,S.team2Name),disabled:R,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:R?"Guardando...":"Guardar"})]}),e.jsx("button",{onClick:()=>y(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),N&&C&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Título de Ronda"}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:["Título de la Ronda ",C.round]}),e.jsx("input",{type:"text",value:C.title,onChange:Y=>O({...C,title:Y.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Ej: Final, Semifinal, Cuartos de Final"})]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:e.jsxs("p",{className:"text-blue-300 text-sm",children:[e.jsx("strong",{children:"Ejemplos de títulos:"}),e.jsx("br",{}),"• Final (",Se(),")",e.jsx("br",{}),"• Semifinal (",Se(),")",e.jsx("br",{}),"• Cuartos de Final (",Se(),")",e.jsx("br",{}),"• Octavos de Final (",Se(),")"]})}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:()=>Z(C.round,C.title),disabled:R,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:R?"Guardando...":"Guardar"})]}),e.jsx("button",{onClick:()=>h(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})})]})},If=({tournamentId:t,onBack:r})=>{const[n,a]=q.useState(null),[s,l]=q.useState([]),[o,p]=q.useState([]),[u,f]=q.useState({}),[g,m]=q.useState(!0),[i,d]=q.useState(!1),[j,y]=q.useState("bracket"),[N,h]=q.useState(new Date),[c,b]=q.useState(null);q.useEffect(()=>{const J=ne=>{ne.key==="Escape"&&c&&b(null)};return document.addEventListener("keydown",J),()=>{document.removeEventListener("keydown",J)}},[c]),q.useEffect(()=>{x()},[t]),q.useEffect(()=>{if(j!=="bracket")return;const J=setInterval(()=>{console.log("🔄 Auto-refresh del torneo"),v()},3e4);return()=>clearInterval(J)},[j,t]);const x=async()=>{try{m(!0);const J=await(await fetch(`${ue}/tournaments/get-all.php`,{credentials:"include",cache:"no-store"})).json();if(J.success){const ne=J.tournaments.find(D=>D.id===t);ne&&(a(ne),await Promise.all([k(t),w(t)]))}}catch(J){console.error("Error loading tournament data:",J)}finally{m(!1),h(new Date)}},v=async()=>{try{d(!0),await Promise.all([k(t),w(t)]),h(new Date),console.log("✅ Datos del torneo actualizados")}catch(J){console.error("Error refreshing tournament data:",J)}finally{d(!1)}},k=async J=>{try{const ne=await(await fetch(`${ue}/tournaments/get-participants.php?tournamentId=${J}`,{credentials:"include",cache:"no-store"})).json();ne.success&&(l(ne.participants),console.log("📊 Participantes cargados:",ne.participants.length))}catch(ne){console.error("Error loading participants:",ne)}},w=async J=>{try{const ne=await(await fetch(`${ue}/tournaments/get-matches.php?tournamentId=${J}`,{credentials:"include",cache:"no-store"})).json();ne.success&&(p(ne.matches),console.log("🎯 Partidas cargadas:",ne.matches.length),await S(ne.matches))}catch(ne){console.error("Error loading matches:",ne)}},S=async J=>{try{const ne=J.map(async me=>{try{const ge=await(await fetch(`${ue}/tournaments/get-match-images.php?matchId=${me.id}`,{credentials:"include",cache:"no-store"})).json();return ge.success?{matchId:me.id,images:ge.images}:{matchId:me.id,images:[]}}catch(ge){return console.error(`Error loading images for match ${me.id}:`,ge),{matchId:me.id,images:[]}}}),D=await Promise.all(ne),ie={};D.forEach(({matchId:me,images:ge})=>{ie[me]=ge}),f(ie),console.log("🖼️ Imágenes de partidas cargadas:",Object.keys(ie).length)}catch(ne){console.error("Error loading match images:",ne)}},E=(J,ne)=>{p(D=>D.map(ie=>ie.id===J?{...ie,...ne}:ie)),setTimeout(()=>{v()},1e3)},C=()=>{console.log("🔄 Regenerando bracket del torneo"),v()},O=J=>{switch(J){case"draft":return"bg-gray-500/20 text-gray-300 border-gray-500/30";case"registration":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"active":return"bg-green-500/20 text-green-300 border-green-500/30";case"completed":return"bg-purple-500/20 text-purple-300 border-purple-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},_=J=>{switch(J){case"draft":return vr;case"registration":return je;case"active":return Ka;case"completed":return tt;case"cancelled":return Zt;default:return vr}},A=J=>{const ne=[{id:"crown",icon:Ce,color:"text-yellow-400"},{id:"sword",icon:ye,color:"text-red-400"},{id:"shield",icon:ye,color:"text-blue-400"},{id:"star",icon:Ve,color:"text-purple-400"},{id:"zap",icon:Rn,color:"text-green-400"},{id:"target",icon:Ze,color:"text-orange-400"}];return ne.find(D=>D.id===J)||ne[0]},R=J=>new Date(J).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),I=J=>{switch(J){case"draft":return"Borrador";case"registration":return"Registro Abierto";case"active":return"En Progreso";case"completed":return"Finalizado";case"cancelled":return"Cancelado";default:return J}},z=J=>{switch(J){case"single_elimination":return"Eliminación Simple";case"double_elimination":return"Eliminación Doble";case"round_robin":return"Round Robin";case"swiss":return"Sistema Suizo";default:return J}},ee=(J,ne)=>{switch(J){case"individual":return ne>1?`Individual (${ne}v${ne})`:"Individual (1v1)";case"clan":return ne>1?`Por Clanes (${ne}v${ne})`:"Por Clanes (1v1)";case"team":return`Por Equipos (${ne}v${ne})`;default:return J}},B=J=>J===1?"1v1":`${J}v${J}`,M=J=>{switch(J){case"ida":return"Ida";case"vuelta":return"Vuelta";case"general":return"General";default:return J}},P=J=>{switch(J){case"ida":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"vuelta":return"bg-green-500/20 text-green-300 border-green-500/30";case"general":return"bg-purple-500/20 text-purple-300 border-purple-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},L=(J,ne)=>J.participantType==="team"&&J.teamName?J.teamName:J.participantType==="clan"&&J.clanTag?`[${J.clanTag}] ${J.participantName}`:ne.teamSize>1?J.participantType==="clan"?J.clanTag?`Equipo [${J.clanTag}]`:`Equipo ${J.participantName}`:J.participantType==="user"?`Equipo ${J.participantName}`:J.teamName||`Equipo ${J.participantName}`:J.participantName,F=(J,ne,D)=>{if(!J&&(!ne||ne.length===0))return"Por definir";if(D.teamSize>1&&ne&&ne.length>0)if(D.type==="clan"){const ie=ne[0];return ie.clanTag?`Equipo [${ie.clanTag}]`:`Equipo ${ie.name}`}else{const ie=ne[0];return ie.teamName||`Equipo ${ie.name}`}return J?J.type==="clan"&&J.clanTag?`[${J.clanTag}] ${J.name}`:J.teamName?J.teamName:J.name:"Por definir"},W=(J,ne,D)=>D.teamSize>1&&ne&&ne.length>0?ne.map(ie=>ie.name).join(", "):J&&D.teamSize>1?`Jugador en formato ${B(D.teamSize)}`:null,G=()=>{const J=new Map;return s.forEach(ne=>{J.set(ne.id,ne)}),J},V=(J,ne)=>{if(!J)return null;const D=ne.get(J.id);return D?{id:D.id,participantType:D.participantType,participantId:D.participantId,participantName:D.participantName,participantAvatar:D.participantAvatar,clanTag:D.clanTag,teamName:D.teamName,teamMembers:D.teamMembers}:{id:J.id,participantType:J.type,participantId:J.id,participantName:J.name,participantAvatar:J.avatar,clanTag:J.clanTag,teamName:J.teamName,teamMembers:[]}},$=(J,ne)=>!J||J.length===0?[]:J.map(D=>{const ie=ne.get(D.id);return ie?{id:ie.id,participantType:ie.participantType,participantId:ie.participantId,participantName:ie.participantName,participantAvatar:ie.participantAvatar,clanTag:ie.clanTag,teamName:ie.teamName,teamMembers:ie.teamMembers}:{id:D.id,participantType:D.type,participantId:D.id,participantName:D.name,participantAvatar:D.avatar,clanTag:D.clanTag,teamName:D.teamName,teamMembers:[]}}),U=s.map(J=>({id:J.id,participantType:J.participantType,participantId:J.participantId,participantName:J.participantName,participantAvatar:J.participantAvatar,clanTag:J.clanTag,teamName:J.teamName,teamMembers:J.teamMembers})),X=G(),le=o.map(J=>{const ne=V(J.participant1,X),D=V(J.participant2,X),ie=$(J.team1Participants||[],X),me=$(J.team2Participants||[],X);return{id:J.id,round:J.round,matchNumber:J.matchNumber,participant1:ne,participant2:D,team1Participants:ie,team2Participants:me,winnerId:J.winnerId,winnerTeam:J.winnerTeam,score1:J.score1,score2:J.score2,status:J.status,scheduledAt:J.scheduledAt,completedAt:J.completedAt,mapPlayed:J.mapPlayed,notes:J.notes,position:{x:0,y:0}}});if(g)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})})});if(!n)return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:r,className:"flex items-center space-x-2 mb-6 px-4 py-2 bg-slate-700/40 hover:bg-slate-700/60 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Jr,{className:"w-4 h-4"}),e.jsx("span",{children:"Volver"})]}),e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Ne,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Torneo no encontrado"}),e.jsx("p",{className:"text-blue-300",children:"El torneo que buscas no existe o no está disponible"})]})]});const ae=_(n.status);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:r,className:"flex items-center space-x-2 mb-6 px-4 py-2 bg-slate-700/40 hover:bg-slate-700/60 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Jr,{className:"w-4 h-4"}),e.jsx("span",{children:"Volver a Torneos"})]}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl mb-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Ne,{className:"w-8 h-8 text-yellow-400"}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:n.name}),e.jsxs("div",{className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium border ${O(n.status)}`,children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:I(n.status)})]})]}),n.description&&e.jsx("p",{className:"text-blue-200 text-lg mb-4",children:n.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-300",children:[n.participantCount,"/",n.maxParticipants," participantes"]})]}),e.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-full text-xs font-medium ${n.type==="individual"?"bg-blue-500/20 text-blue-300":n.type==="clan"?"bg-purple-500/20 text-purple-300":"bg-green-500/20 text-green-300"}`,children:[n.type==="individual"?e.jsxs(e.Fragment,{children:[e.jsx(yr,{className:"w-3 h-3"}),e.jsx("span",{children:"Individual"})]}):n.type==="clan"?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-3 h-3"}),e.jsx("span",{children:"Por Clanes"})]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{children:"Por Equipos"})]}),e.jsxs("span",{className:"text-orange-400 font-bold",children:["(",B(n.teamSize),")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"w-4 h-4 text-orange-400"}),e.jsx("span",{className:"text-blue-300",children:z(n.bracketType)})]}),n.prizePool&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-yellow-300 font-medium",children:n.prizePool})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right text-xs text-blue-400",children:[e.jsx("div",{children:"Última actualización:"}),e.jsx("div",{children:N.toLocaleTimeString("es-CL")})]}),e.jsx("button",{onClick:v,disabled:i,className:`p-3 rounded-lg transition-all duration-300 ${i?"bg-blue-600/20 text-blue-400 cursor-not-allowed":"bg-blue-600/20 hover:bg-blue-600/30 text-blue-300 hover:text-blue-200"}`,title:"Actualizar datos del torneo",children:e.jsx(Dt,{className:`w-5 h-5 ${i?"animate-spin":""}`})})]})]}),e.jsx("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ze,{className:"w-5 h-5 text-orange-400"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-orange-300 font-medium",children:"Formato de Partidas"}),e.jsxs("p",{className:"text-orange-400 text-sm mt-1",children:["Todas las partidas de este torneo se juegan en formato ",e.jsx("strong",{children:B(n.teamSize)}),n.teamSize>1&&` (${n.teamSize} jugadores por equipo)`]})]})]})}),(n.startDate||n.endDate)&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[n.startDate&&e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ot,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Fecha de Inicio"})]}),e.jsx("p",{className:"text-white text-lg",children:R(n.startDate)})]}),n.endDate&&e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Kt,{className:"w-5 h-5 text-red-400"}),e.jsx("span",{className:"text-red-300 font-medium",children:"Fecha de Fin"})]}),e.jsx("p",{className:"text-white text-lg",children:R(n.endDate)})]})]}),n.maps.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(br,{className:"w-5 h-5 text-orange-400"}),e.jsx("span",{className:"text-orange-300 font-medium",children:"Mapas del Torneo"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.maps.map((J,ne)=>e.jsx("span",{className:"px-3 py-1 bg-orange-500/20 text-orange-300 rounded-lg text-sm font-medium",children:J},ne))})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex space-x-2 bg-slate-800/40 backdrop-blur-lg rounded-xl p-2 border border-blue-700/30",children:[{id:"bracket",label:"Bracket",icon:Ne},{id:"participants",label:`Participantes (${s.length})`,icon:je},{id:"matches",label:`Partidas (${o.length})`,icon:Ze},{id:"info",label:"Información",icon:Be}].map(J=>{const ne=J.icon;return e.jsxs("button",{onClick:()=>y(J.id),className:`
                  flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all duration-300
                  ${j===J.id?"bg-blue-600 text-white shadow-lg":"text-blue-300 hover:bg-blue-600/20 hover:text-blue-200"}
                `,children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsx("span",{children:J.label}),J.id==="bracket"&&i&&e.jsx(Dt,{className:"w-4 h-4 animate-spin"})]},J.id)})})}),j==="bracket"&&e.jsx(zm,{tournamentId:t,tournamentType:n.type,teamSize:n.teamSize,participants:U,matches:le,bracketType:n.bracketType,isAdmin:!1,onMatchUpdate:E,onBracketRegenerate:C,onRefreshData:v}),j==="participants"&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Participantes (",s.length,")"]}),s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(je,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sin participantes"}),e.jsx("p",{className:"text-blue-300",children:"Aún no hay participantes registrados en este torneo"})]}):e.jsx("div",{className:"space-y-4",children:s.sort((J,ne)=>ne.points-J.points||ne.wins-J.wins).map((J,ne)=>{const D=J.clanIcon?A(J.clanIcon).icon:je,ie=J.clanIcon?A(J.clanIcon).color:"text-blue-400",me=L(J,n);return e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-6 border border-blue-600/20 hover:border-blue-500/40 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-blue-400 font-bold text-xl",children:["#",ne+1]}),ne<3&&e.jsx(gr,{className:`w-6 h-6 ${ne===0?"text-yellow-400":ne===1?"text-gray-300":"text-amber-600"}`})]}),J.participantAvatar?e.jsx("img",{src:J.participantAvatar,alt:me,className:"w-12 h-12 rounded-full border-2 border-blue-500/30"}):e.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-blue-500/30 bg-slate-600/40 flex items-center justify-center",children:e.jsx(D,{className:`w-6 h-6 ${ie}`})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-bold text-white text-lg",children:me}),e.jsx("span",{className:"px-2 py-1 bg-orange-600/20 text-orange-300 rounded text-sm font-bold",children:B(n.teamSize)}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${J.status==="winner"?"bg-yellow-500/20 text-yellow-300":J.status==="eliminated"?"bg-red-500/20 text-red-300":J.status==="active"?"bg-green-500/20 text-green-300":"bg-blue-500/20 text-blue-300"}`,children:J.status==="winner"?"Ganador":J.status==="eliminated"?"Eliminado":J.status==="active"?"Activo":"Registrado"})]}),J.teamMembers.length>0&&e.jsxs("p",{className:"text-blue-300 text-sm mt-1",children:[e.jsx("span",{className:"text-blue-400 font-medium",children:"Miembros:"})," ",J.teamMembers.join(", ")]}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-blue-400 mt-1",children:[e.jsxs("span",{children:["Registrado: ",R(J.registeredAt)]}),J.participantType==="user"&&e.jsx("span",{children:"Jugador Individual"}),J.participantType==="clan"&&J.clanTag&&e.jsxs("span",{children:["Clan: [",J.clanTag,"]"]}),J.participantType==="team"&&e.jsx("span",{children:"Equipo Personalizado"})]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-400",children:J.points}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Puntos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-green-400",children:J.wins}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Victorias"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-red-400",children:J.losses}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Derrotas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-yellow-400",children:J.draws}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Empates"})]})]})]})},J.id)})})]}),j==="matches"&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Partidas (",o.length,") - Formato ",B(n.teamSize)]}),o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ze,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sin partidas"}),e.jsx("p",{className:"text-blue-300",children:"Las partidas se generarán cuando comience el torneo"})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(o.reduce((J,ne)=>{const D=n.bracketType==="round_robin"?"Round Robin":`Ronda ${ne.round}`;return J[D]||(J[D]=[]),J[D].push(ne),J},{})).map(([J,ne])=>e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[e.jsx(Ze,{className:"w-5 h-5 text-orange-400"}),e.jsx("span",{children:J}),e.jsxs("span",{className:"text-orange-400 text-sm",children:["(",B(n.teamSize),")"]})]}),e.jsx("div",{className:"space-y-4",children:ne.map(D=>{var ie,me,ge,pe;const te=F(D.participant1,D.team1Participants,n),Z=F(D.participant2,D.team2Participants,n),re=W(D.participant1,D.team1Participants,n),Q=W(D.participant2,D.team2Participants,n),K=u[D.id]||[];return e.jsxs("div",{className:"bg-slate-600/40 rounded-lg p-4 border border-blue-600/20",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[((ie=D.participant1)==null?void 0:ie.avatar)&&e.jsx("img",{src:D.participant1.avatar,alt:D.participant1.name,className:"w-10 h-10 rounded-full border border-blue-500/30"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-white font-medium block",children:te}),re&&e.jsx("span",{className:"text-blue-300 text-sm",children:re})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 px-4",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{className:`text-2xl font-bold ${D.winnerId===((me=D.participant1)==null?void 0:me.id)||D.winnerTeam===1?"text-green-400":"text-white"}`,children:D.score1})}),e.jsx("div",{className:"text-blue-400 text-xl font-bold",children:B(n.teamSize)}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:`text-2xl font-bold ${D.winnerId===((ge=D.participant2)==null?void 0:ge.id)||D.winnerTeam===2?"text-green-400":"text-white"}`,children:D.score2})})]}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1 justify-end",children:[e.jsxs("div",{className:"flex-1 text-right",children:[e.jsx("span",{className:"text-white font-medium block",children:Z}),Q&&e.jsx("span",{className:"text-blue-300 text-sm",children:Q})]}),((pe=D.participant2)==null?void 0:pe.avatar)&&e.jsx("img",{src:D.participant2.avatar,alt:D.participant2.name,className:"w-10 h-10 rounded-full border border-blue-500/30"})]})]}),e.jsx("div",{className:"ml-6",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${D.status==="completed"?"bg-green-500/20 text-green-300":D.status==="in_progress"?"bg-yellow-500/20 text-yellow-300":D.status==="cancelled"?"bg-red-500/20 text-red-300":"bg-blue-500/20 text-blue-300"}`,children:D.status==="completed"?"Completada":D.status==="in_progress"?"En Progreso":D.status==="cancelled"?"Cancelada":"Pendiente"})})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[D.mapPlayed&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(br,{className:"w-4 h-4 text-orange-400"}),e.jsx("span",{className:"text-orange-300",children:D.mapPlayed})]}),D.scheduledAt&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ot,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-300",children:["Programada: ",R(D.scheduledAt)]})]})]}),D.completedAt&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(tt,{className:"w-4 h-4 text-green-400"}),e.jsxs("span",{className:"text-green-300",children:["Finalizada: ",R(D.completedAt)]})]})]}),K.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-700/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(lr,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-purple-300 font-medium text-sm",children:"Imágenes de la partida"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:K.map(H=>e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>b(H.imageUrl),children:[e.jsx("img",{src:H.imageUrl,alt:H.description||`Imagen ${M(H.imageType)}`,className:"w-full h-24 object-cover rounded-lg border border-blue-600/30 hover:border-blue-500/50 transition-all duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg flex items-center justify-center",children:e.jsx(Be,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:`absolute top-2 left-2 px-2 py-1 rounded text-xs font-medium border ${P(H.imageType)}`,children:M(H.imageType)})]},H.id))})]}),D.notes&&e.jsx("div",{className:"mt-3 p-3 bg-slate-500/20 rounded-lg",children:e.jsx("p",{className:"text-blue-200 text-sm italic",children:D.notes})})]},D.id)})})]},J))})]}),j==="info"&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Información Detallada"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-300 mb-3",children:"Detalles del Torneo"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Tipo:"}),e.jsx("span",{className:"text-white font-medium",children:ee(n.type,n.teamSize)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Formato de Partidas:"}),e.jsx("span",{className:"text-orange-300 font-bold",children:B(n.teamSize)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Bracket:"}),e.jsx("span",{className:"text-white font-medium",children:z(n.bracketType)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Participantes:"}),e.jsxs("span",{className:"text-white font-medium",children:[n.participantCount," / ",n.maxParticipants]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Creado:"}),e.jsx("span",{className:"text-white font-medium",children:R(n.createdAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Organizador:"}),e.jsx("span",{className:"text-white font-medium",children:n.createdBy})]})]})]}),n.prizePool&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-yellow-300 mb-3",children:"Premio"}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(jt,{className:"w-8 h-8 text-yellow-400"}),e.jsx("span",{className:"text-2xl font-bold text-yellow-300",children:n.prizePool})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[n.rules&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-300 mb-3",children:"Reglas del Torneo"}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsx("p",{className:"text-blue-100 whitespace-pre-wrap leading-relaxed",children:n.rules})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-300 mb-3",children:"Progreso del Torneo"}),e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-blue-400",children:"Participantes Registrados"}),e.jsxs("span",{className:"text-white font-medium",children:[Math.round(n.participantCount/n.maxParticipants*100),"%"]})]}),e.jsx("div",{className:"w-full bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${n.participantCount/n.maxParticipants*100}%`}})})]})]})]})]})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>b(null),children:e.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[e.jsx("button",{onClick:()=>b(null),className:"absolute -top-12 right-0 z-10 p-3 bg-black/60 hover:bg-black/80 rounded-full text-white transition-colors",title:"Cerrar (Esc)",children:e.jsx(Ee,{className:"w-6 h-6"})}),e.jsx("img",{src:c,alt:"Imagen ampliada",className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onClick:J=>J.stopPropagation()}),e.jsx("div",{className:"absolute top-4 left-4 bg-black/60 backdrop-blur-sm rounded-lg px-3 py-2",children:e.jsxs("span",{className:"text-white text-sm",children:["Presiona ",e.jsx("kbd",{className:"px-2 py-1 bg-white/20 rounded text-xs",children:"Esc"})," para cerrar"]})})]})})]})},Mf=()=>{const{users:t,user:r,clans:n}=ht(),[a,s]=q.useState("players"),[l,o]=q.useState(""),[p,u]=q.useState("all"),[f,g]=q.useState("all"),[m,i]=q.useState("all"),[d,j]=q.useState(!1),[y,N]=q.useState(null),[h,c]=q.useState(null),[b,x]=q.useState(null),[v,k]=q.useState([]),[w,S]=q.useState(!1);q.useEffect(()=>{E()},[]),q.useEffect(()=>{const D=ie=>{const me=ie.detail;s(me)};return window.addEventListener("set-players-view-mode",D),()=>{window.removeEventListener("set-players-view-mode",D)}},[]);const E=async()=>{try{S(!0);const D=await(await fetch(`${ue}/tournaments/get-all.php`,{credentials:"include",cache:"no-store"})).json();D.success&&k(D.tournaments)}catch(D){console.error("Error loading tournaments:",D)}finally{S(!1)}},C=t.filter(D=>{const ie=D.username.toLowerCase().includes(l.toLowerCase())||D.email.toLowerCase().includes(l.toLowerCase()),me=p==="all"||p==="online"&&D.isOnline&&D.isActive||p==="offline"&&(!D.isOnline||!D.isActive),ge=f==="all"||D.role===f,pe=m==="all"||(m===""?!D.clan||D.clan==="":D.clan===m);return ie&&me&&ge&&pe}),O=n.filter(D=>D.name.toLowerCase().includes(l.toLowerCase())||D.tag.toLowerCase().includes(l.toLowerCase())||D.description&&D.description.toLowerCase().includes(l.toLowerCase())),_=v.filter(D=>D.name.toLowerCase().includes(l.toLowerCase())||D.description.toLowerCase().includes(l.toLowerCase())),A=(D,ie)=>ie?D?"bg-green-500 shadow-lg shadow-green-500/30":"bg-gray-500":"bg-red-500 shadow-lg shadow-red-500/30",R=(D,ie)=>ie?D?"En línea":"Desconectado":"Suspendido",I=(D,ie)=>ie?D?hf:Rd:Mm,z=D=>D==="admin"?e.jsx(ye,{className:"w-4 h-4 text-yellow-400"}):e.jsx(Ve,{className:"w-4 h-4 text-blue-400"}),ee=D=>D==="admin"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":"bg-blue-500/20 text-blue-300 border-blue-500/30",B=D=>{const ie=[{id:"crown",icon:Ce,name:"Corona",color:"text-yellow-400"},{id:"sword",icon:ye,name:"Espada",color:"text-red-400"},{id:"shield",icon:ye,name:"Escudo",color:"text-blue-400"},{id:"star",icon:Ve,name:"Estrella",color:"text-purple-400"},{id:"zap",icon:ye,name:"Rayo",color:"text-green-400"},{id:"target",icon:ye,name:"Diana",color:"text-orange-400"}];return ie.find(me=>me.id===D)||ie[0]},M=D=>{switch(D){case"draft":return"bg-gray-500/20 text-gray-300 border-gray-500/30";case"registration":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"active":return"bg-green-500/20 text-green-300 border-green-500/30";case"completed":return"bg-purple-500/20 text-purple-300 border-purple-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},P=D=>{switch(D){case"draft":return Ze;case"registration":return je;case"active":return Ne;case"completed":return gr;case"cancelled":return Ee;default:return Ze}},L=D=>{switch(D){case"draft":return"Borrador";case"registration":return"Registro Abierto";case"active":return"En Progreso";case"completed":return"Finalizado";case"cancelled":return"Cancelado";default:return D}},F=D=>{if(!D.clan)return!1;const ie=n.find(me=>me.tag===D.clan);return ie&&ie.leaderId===D.id},W=D=>{if(!r){j(!0);return}N(D.id)},G=D=>{c(D.id)},V=D=>{x(D.id)},$=()=>{j(!1);const D=new CustomEvent("navigate-to-section",{detail:"user-panel"});window.dispatchEvent(D)},U=D=>{if(!D)return"Nunca";const ie=new Date(D),me=Math.floor((new Date().getTime()-ie.getTime())/(1e3*60));return me<1?"Ahora mismo":me<60?`Hace ${me} min`:me<1440?`Hace ${Math.floor(me/60)} h`:ie.toLocaleDateString("es-CL")},X=D=>new Date(D).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric"}),le=D=>new Date(D).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ae=t.filter(D=>D.isOnline&&D.isActive).length,J=t.filter(D=>!D.isOnline||!D.isActive).length;if(t.filter(D=>!D.isActive).length,y)return e.jsx(Tf,{userId:y,onBack:()=>N(null)});if(h)return e.jsx(Lf,{clanId:h,onBack:()=>c(null)});if(b)return e.jsx(If,{tournamentId:b,onBack:()=>x(null)});const ne=[{id:"players",label:"Jugadores",icon:je},{id:"clans",label:"Clanes",icon:ye}];return v.length>0&&ne.push({id:"tournaments",label:"Torneos",icon:Ne}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Comunidad"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"Conoce a los miembros, clanes y torneos de nuestra comunidad"}),!r&&e.jsx("div",{className:"mt-4 p-4 bg-blue-600/10 border border-blue-500/30 rounded-xl",children:e.jsxs("p",{className:"text-blue-300 text-sm",children:["💡 ",e.jsx("strong",{children:"¿Quieres ver más detalles?"})," Inicia sesión para acceder a los perfiles completos de los jugadores y clanes"]})})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex flex-wrap space-x-2 bg-slate-800/40 backdrop-blur-lg rounded-xl p-2 border border-blue-700/30 max-w-fit",children:ne.map(D=>{const ie=D.icon;return e.jsxs("button",{onClick:()=>s(D.id),className:`
                  flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all duration-300
                  ${a===D.id?"bg-blue-600 text-white shadow-lg":"text-blue-300 hover:bg-blue-600/20 hover:text-blue-200"}
                `,children:[e.jsx(ie,{className:"w-5 h-5"}),e.jsx("span",{children:D.label})]},D.id)})})}),e.jsx("div",{className:"mb-8 bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-blue-400"}),e.jsx("input",{type:"text",placeholder:a==="players"?"Buscar jugadores...":a==="clans"?"Buscar clanes...":"Buscar torneos...",value:l,onChange:D=>o(D.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),a==="players"&&e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{value:p,onChange:D=>u(D.target.value),className:"px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"all",children:"Todos los estados"}),e.jsx("option",{value:"online",children:"En línea"}),e.jsx("option",{value:"offline",children:"Desconectados"})]}),e.jsxs("select",{value:f,onChange:D=>g(D.target.value),className:"px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"all",children:"Todos los roles"}),e.jsx("option",{value:"admin",children:"Administradores"}),e.jsx("option",{value:"player",children:"Jugadores"})]}),e.jsxs("select",{value:m,onChange:D=>i(D.target.value),className:"px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"all",children:"Todos los clanes"}),e.jsx("option",{value:"",children:"Sin clan"}),n.map(D=>e.jsxs("option",{value:D.tag,children:["[",D.tag,"] ",D.name]},D.id))]})]})]})}),a==="players"?e.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(je,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t.length}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Total Jugadores"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Mn,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:ae}),e.jsx("p",{className:"text-green-300 text-sm",children:"En Línea Ahora"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Rd,{className:"w-8 h-8 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:J}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Desconectados"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ye,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t.filter(D=>D.role==="admin").length}),e.jsx("p",{className:"text-yellow-300 text-sm",children:"Administradores"})]})]})})]}):a==="clans"?e.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ye,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:n.length}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Total Clanes"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(je,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t.filter(D=>D.clan).length}),e.jsx("p",{className:"text-green-300 text-sm",children:"Jugadores en Clanes"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ce,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(D=>D.leaderId).length}),e.jsx("p",{className:"text-yellow-300 text-sm",children:"Clanes con Líder"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Mn,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:Math.round(t.filter(D=>D.clan).length/Math.max(n.length,1))}),e.jsx("p",{className:"text-purple-300 text-sm",children:"Promedio Miembros"})]})]})})]}):e.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:v.length}),e.jsx("p",{className:"text-yellow-300 text-sm",children:"Total Torneos"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Mn,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:v.filter(D=>D.status==="active").length}),e.jsx("p",{className:"text-green-300 text-sm",children:"Activos"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(je,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:v.filter(D=>D.status==="registration").length}),e.jsx("p",{className:"text-blue-300 text-sm",children:"En Registro"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(gr,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:v.filter(D=>D.status==="completed").length}),e.jsx("p",{className:"text-purple-300 text-sm",children:"Completados"})]})]})})]}),e.jsx("div",{className:"mb-6 bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-blue-300 text-sm",children:"Estado actualizado en tiempo real"})]}),e.jsxs("div",{className:"text-blue-400 text-xs",children:["Última actualización: ",new Date().toLocaleTimeString("es-CL")]})]})}),a==="players"?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(D=>{const ie=I(D.isOnline,D.isActive),me=F(D);return e.jsxs("div",{className:`bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl hover:shadow-blue-500/10 transition-all duration-300 hover:transform hover:scale-105 ${D.isActive?"":"opacity-75 border-red-500/30"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D.avatar||"/Logo-Comunidad.png",alt:D.username,className:`w-16 h-16 rounded-full border-4 object-cover ${D.isActive?"border-blue-500/30":"border-red-500/30"}`}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full ${A(D.isOnline,D.isActive)} border-2 border-slate-800`}),me&&e.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center border-2 border-slate-800",children:e.jsx(Ce,{className:"w-3 h-3 text-yellow-900"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:D.username}),me&&e.jsx(Ce,{className:"w-4 h-4 text-yellow-400",title:"Líder de Clan"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-blue-300 text-sm",children:D.hideEmail?"••••••@••••••.com":D.email}),D.hideEmail&&e.jsx(bt,{className:"w-3 h-3 text-blue-400",title:"Email oculto"})]})]})]}),e.jsxs("div",{className:`px-3 py-1 rounded-full border text-xs font-medium flex items-center space-x-1 ${ee(D.role)}`,children:[z(D.role),e.jsx("span",{children:D.role==="admin"?"Admin":"Jugador"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Estado:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:`w-4 h-4 ${D.isActive?D.isOnline?"text-green-400":"text-gray-400":"text-red-400"}`}),e.jsx("span",{className:`font-medium ${D.isActive?D.isOnline?"text-green-300":"text-gray-300":"text-red-300"}`,children:R(D.isOnline,D.isActive)})]})]}),D.status&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Estado personalizado:"}),e.jsxs("p",{className:"text-white italic mt-1",children:['"',D.status,'"']})]}),D.clan&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Clan:"}),e.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const ge=n.find(pe=>pe.tag===D.clan);if(ge){const pe=B(ge.icon).icon;return e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:`w-4 h-4 ${B(ge.icon).color}`}),e.jsxs("span",{className:"text-blue-300 font-mono",children:["[",D.clan,"]"]}),me&&e.jsx(Ce,{className:"w-3 h-3 text-yellow-400",title:"Líder"})]})}return e.jsxs("span",{className:"text-blue-200 font-mono",children:["[",D.clan,"]"]})})()})]}),D.playerName&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Jugador:"}),e.jsx("span",{className:"text-green-300 font-mono",children:D.playerName})]}),e.jsx("div",{className:"pt-3 border-t border-blue-700/30",children:e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-blue-400",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Kt,{className:"w-3 h-3"}),e.jsx("span",{children:U(D.lastLogin)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(br,{className:"w-3 h-3"}),e.jsx("span",{children:"Chile"})]})]})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-700/30",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:()=>W(D),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 ${r?"bg-blue-600/20 hover:bg-blue-600/30 text-blue-300 hover:text-blue-200":"bg-slate-600/20 text-slate-400 cursor-not-allowed"}`,title:r?"Ver perfil completo":"Inicia sesión para ver perfiles",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:"Ver Perfil Completo"})]})})})]},D.id)})}):a==="clans"?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(D=>{const ie=B(D.icon).icon,me=B(D.icon).color,ge=t.find(te=>te.id===D.leaderId),pe=t.filter(te=>te.clan===D.tag&&te.isOnline&&te.isActive).length;return e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl hover:shadow-blue-500/10 transition-all duration-300 hover:transform hover:scale-105 cursor-pointer",onClick:()=>G(D),children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"relative inline-block mb-3",children:D.logo?e.jsx("img",{src:D.logo,alt:`Logo de ${D.name}`,className:"w-16 h-16 rounded-full border-4 border-blue-500/30 mx-auto object-cover",onError:te=>{const Z=te.target;Z.style.display="none";const re=Z.parentElement;re&&(re.innerHTML=`
                              <div class="w-16 h-16 rounded-full border-4 border-blue-500/30 mx-auto bg-slate-700/40 flex items-center justify-center">
                                <svg class="w-8 h-8 ${me}" fill="currentColor" viewBox="0 0 24 24">
                                  <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/>
                                </svg>
                              </div>
                            `)}}):e.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-blue-500/30 mx-auto bg-slate-700/40 flex items-center justify-center",children:e.jsx(ie,{className:`w-8 h-8 ${me}`})})}),e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:D.name}),e.jsx("div",{className:"flex items-center justify-center space-x-2 mb-2",children:e.jsxs("span",{className:"px-3 py-1 bg-blue-600/20 text-blue-300 rounded-full text-sm font-mono font-bold",children:["[",D.tag,"]"]})}),D.description&&e.jsxs("p",{className:"text-blue-200 text-sm italic mb-3 line-clamp-2",children:['"',D.description,'"']})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Miembros:"}),e.jsx("span",{className:"text-white font-medium",children:D.members})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"En línea:"}),e.jsx("span",{className:"text-green-300 font-medium",children:pe})]}),ge&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Líder:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:ge.avatar||"/Logo-Comunidad.png",alt:ge.username,className:"w-5 h-5 rounded-full border border-yellow-500/30 object-cover"}),e.jsx("span",{className:"text-white font-medium",children:ge.username})]})]}),e.jsx("div",{className:"pt-3 border-t border-blue-700/30",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-blue-400",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ot,{className:"w-3 h-3"}),e.jsx("span",{children:"Fundado"})]}),e.jsx("span",{children:X(D.createdAt)})]})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-700/30",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600/20 rounded-lg text-blue-300 font-medium",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:"Ver Perfil del Clan"})]})})})]},D.id)})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:w?e.jsx("div",{className:"col-span-full flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):_.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Ne,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No hay torneos disponibles"}),e.jsx("p",{className:"text-blue-300",children:"Los administradores pueden crear torneos desde el panel de administración"})]}):_.map(D=>{const ie=P(D.status);return e.jsxs("div",{id:`tournament-${D.id}`,className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl hover:shadow-blue-500/10 transition-all duration-300 hover:transform hover:scale-105 cursor-pointer",onClick:()=>V(D),children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:D.name}),e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium border ${M(D.status)}`,children:[e.jsx(ie,{className:"w-3 h-3"}),e.jsx("span",{children:L(D.status)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.type==="individual"?"bg-blue-500/20 text-blue-300":"bg-purple-500/20 text-purple-300"}`,children:D.type==="individual"?"Individual":"Por Clanes"}),e.jsx("div",{className:"px-2 py-1 bg-gray-500/20 text-gray-300 rounded-full text-xs font-medium",children:D.bracketType.replace("_"," ")})]}),D.description&&e.jsx("p",{className:"text-blue-200 text-sm mb-3 line-clamp-2",children:D.description})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Participantes:"}),e.jsxs("span",{className:"text-white font-medium",children:[D.participantCount,"/",D.maxParticipants]})]}),D.type==="clan"&&D.teamSize>1&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Tamaño de equipo:"}),e.jsx("span",{className:"text-white font-medium",children:D.teamSize})]}),D.prizePool&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Premio:"}),e.jsx("span",{className:"text-yellow-300 font-medium",children:D.prizePool})]}),D.startDate&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Inicio:"}),e.jsx("span",{className:"text-white font-medium",children:le(D.startDate)})]}),D.maps.length>0&&e.jsxs("div",{className:"pt-3 border-t border-blue-700/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(br,{className:"w-4 h-4 text-orange-400"}),e.jsx("span",{className:"text-blue-400 text-sm font-medium",children:"Mapas:"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.maps.slice(0,3).map((me,ge)=>e.jsx("span",{className:"px-2 py-1 bg-orange-500/20 text-orange-300 rounded text-xs",children:me},ge)),D.maps.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-500/20 text-gray-300 rounded text-xs",children:["+",D.maps.length-3," más"]})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-700/30",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-yellow-600/20 rounded-lg text-yellow-300 font-medium",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Ver Detalles"})]})})})]},D.id)})}),a==="players"&&C.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(je,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No se encontraron jugadores"}),e.jsx("p",{className:"text-blue-300",children:"Intenta ajustar los filtros de búsqueda"})]}),a==="clans"&&O.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ye,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No se encontraron clanes"}),e.jsx("p",{className:"text-blue-300",children:l?"Intenta con otros términos de búsqueda":"Aún no hay clanes registrados en la comunidad"})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-slate-800 rounded-2xl border border-blue-500/30 p-6 max-w-md w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mt,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Inicia Sesión"}),e.jsx("p",{className:"text-blue-300 mb-6",children:"Para ver los perfiles completos de los jugadores y clanes necesitas tener una cuenta"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:$,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Mt,{className:"w-4 h-4"}),e.jsx("span",{children:"Ir a Login"})]}),e.jsx("button",{onClick:()=>j(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})})})]})},qf=()=>{const[t,r]=q.useState("main"),[n,a]=q.useState({name:"",email:"",subject:"",message:""}),[s,l]=q.useState(!1),o=d=>{a({...n,[d.target.name]:d.target.value})},p=async d=>{d.preventDefault(),l(!0),setTimeout(()=>{alert("¡Mensaje enviado correctamente! Te responderemos pronto."),a({name:"",email:"",subject:"",message:""}),l(!1)},1500)},u=()=>{const d=new CustomEvent("navigate-to-section",{detail:"forum"});window.dispatchEvent(d)},f=[{icon:nr,title:"Discord Oficial",description:"Únete a nuestro servidor",action:"https://discord.gg/vhbYGXy2yZ",actionText:"Unirse a Discord",color:"text-purple-400"},{icon:je,title:"Foro de la Comunidad",description:"Discusiones y ayuda",action:u,actionText:"Visitar Foro",color:"text-green-400",isInternal:!0}],g=[{id:"installation",title:"Guía de Instalación",description:"Instrucciones paso a paso para instalar el juego",icon:Ls,color:"text-green-400"},{id:"rules",title:"Reglas del Servidor",description:"Normas y código de conducta de la comunidad",icon:ye,color:"text-yellow-400"},{id:"forum",title:"Foro de la Comunidad",description:"Participa en discusiones con otros jugadores",icon:nr,color:"text-purple-400"}],m=[{step:1,title:"Descarga el Juego",description:"Descarga Tactical Ops  desde el enlace oficial",details:["Haz clic en el botón de descarga para obtener el TO-Fixed-Pack","El archivo es aproximadamente 800MB","Asegúrate de descargar desde fuentes oficiales para evitar malware"],icon:Ls,downloadLink:"https://mirror.tactical-ops.eu/client-patches/custom-clients/TO-Fixed-Pack-v469d.zip"},{step:2,title:"Instalación Base",description:"Extrae e instala el juego en tu sistema",details:['Extrae la carpeta TacticalOps de la descarga a un directorio como "C:/" o "C:/Juegos/"','Evita las carpetas "Archivos de programa"','En "Unirse rápidamente a TO" puedes unirte directamente a un servidor o iniciar TO desde:',"• Menú -> Iniciar Tactical Ops  3.4","• Menú -> Iniciar Tactical Ops ",'El "Lanzador de TO" requiere que primero configures las rutas correctamente en la configuración','Inicia manualmente cualquier versión de TO directamente desde "/TO3#0/System/TacticalOps.exe"'],icon:vr}],i=[{category:"Reglas Generales",icon:ye,color:"text-blue-400",rules:["Respeta a todos los jugadores sin excepción","No uses lenguaje ofensivo, racista o discriminatorio","Prohibido el spam en chat de voz o texto","No hagas publicidad de otros servidores","Sigue las instrucciones de los administradores"]},{category:"Gameplay",icon:Qx,color:"text-green-400",rules:["Prohibido el uso de cheats, hacks o exploits","No hagas teamkill intencional","Prohibido el camping excesivo","No bloquees a tus compañeros de equipo","Juega de manera deportiva y fair play"]},{category:"Comunicación",icon:nr,color:"text-purple-400",rules:["Usa el chat de equipo para estrategias","No reveles posiciones enemigas si estás muerto","Prohibido el mic spam o ruidos molestos","Comunícate en español o inglés","No discutas decisiones de administradores en público"]},{category:"Sanciones",icon:Hr,color:"text-red-400",rules:["Primera infracción: Advertencia verbal","Segunda infracción: Kick temporal","Tercera infracción: Ban temporal (1-7 días)","Infracciones graves: Ban permanente","Puedes apelar sanciones contactando administradores"]}];return t==="forum"?(u(),null):t!=="main"?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("button",{onClick:()=>r("main"),className:"flex items-center space-x-2 mb-6 px-4 py-2 bg-slate-700/40 hover:bg-slate-700/60 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:e.jsx("span",{children:"← Volver a Contacto"})}),t==="installation"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Guía de Instalación"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"Instrucciones paso a paso para instalar Tactical Ops "})]}),e.jsx("div",{className:"space-y-6",children:m.map(d=>{const j=d.icon;return e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:d.step}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(j,{className:"w-6 h-6 text-blue-400"}),e.jsx("span",{children:d.title})]}),e.jsx("p",{className:"text-blue-300",children:d.description})]})]}),e.jsxs("div",{className:"ml-16",children:[d.downloadLink&&e.jsx("div",{className:"mb-4",children:e.jsxs("a",{href:d.downloadLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-6 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(Ls,{className:"w-5 h-5"}),e.jsx("span",{children:"Haz clic aquí para descargar"}),e.jsx(Tr,{className:"w-4 h-4"})]})}),e.jsx("ul",{className:"space-y-2",children:d.details.map((y,N)=>e.jsxs("li",{className:"flex items-start space-x-2 text-blue-200",children:[e.jsx(tt,{className:"w-4 h-4 text-green-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:y})]},N))})]})]},d.step)})}),e.jsxs("div",{className:"mt-8 bg-blue-600/10 border border-blue-500/30 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-300 mb-3 flex items-center space-x-2",children:[e.jsx(io,{className:"w-5 h-5"}),e.jsx("span",{children:"¿Necesitas ayuda?"})]}),e.jsx("p",{className:"text-blue-200 mb-4",children:"Si tienes problemas durante la instalación, no dudes en contactarnos a través de Discord o bien visita la web oficial que da soporte al Tactical Ops ."}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("button",{onClick:()=>r("main"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-medium transition-colors",children:"Ir a Contacto"}),e.jsxs("a",{href:"https://www.tactical-ops.eu/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(so,{className:"w-4 h-4"}),e.jsx("span",{children:"Web Oficial"}),e.jsx(Tr,{className:"w-3 h-3"})]})]})]})]}),t==="rules"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Reglas del Servidor"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"Normas y código de conducta para mantener una comunidad sana"})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-r from-yellow-600/10 to-red-600/10 border border-yellow-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Hr,{className:"w-6 h-6 text-yellow-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Importante"})]}),e.jsx("p",{className:"text-yellow-200",children:"El incumplimiento de estas reglas puede resultar en sanciones que van desde advertencias hasta bans permanentes. Todos los jugadores deben conocer y respetar estas normas."})]}),e.jsx("div",{className:"space-y-6",children:i.map((d,j)=>{const y=d.icon;return e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center space-x-3",children:[e.jsx(y,{className:`w-6 h-6 ${d.color}`}),e.jsx("span",{children:d.category})]}),e.jsx("div",{className:"space-y-3",children:d.rules.map((N,h)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-slate-700/40 rounded-lg",children:[e.jsx(tt,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-blue-200",children:N})]},h))})]},j)})}),e.jsxs("div",{className:"mt-8 bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[e.jsx(nr,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{children:"¿Cómo reportar infracciones?"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-700/40 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-300 mb-2",children:"En el juego"}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Usa el comando !report [jugador] [motivo] o contacta a un admin presente"})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-300 mb-2",children:"Fuera del juego"}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Envía evidencia (screenshots, demos) a través de Discord"})]})]})]})]})]}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Contacto y Soporte"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"¿Necesitas ayuda? Estamos aquí para apoyarte"})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Enlaces Útiles"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(d=>{const j=d.icon;return e.jsx("button",{onClick:()=>{d.id==="forum"?u():r(d.id)},className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl hover:shadow-blue-500/10 transition-all duration-300 hover:transform hover:scale-105 text-left",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-slate-700/40 rounded-xl",children:e.jsx(j,{className:`w-8 h-8 ${d.color}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:d.title}),e.jsx("p",{className:"text-blue-300 text-sm",children:d.description})]}),e.jsx(Tr,{className:"w-5 h-5 text-blue-400"})]})},d.id)})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(oo,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Envíanos un Mensaje"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre Completo"}),e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:o,required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Tu nombre"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-blue-300 text-sm font-medium mb-2",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:o,required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"tu@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-blue-300 text-sm font-medium mb-2",children:"Asunto"}),e.jsxs("select",{id:"subject",name:"subject",value:n.subject,onChange:o,required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Selecciona un asunto"}),e.jsx("option",{value:"problemas-servidor",children:"Problemas con Servidor"}),e.jsx("option",{value:"ban-appeal",children:"Apelación de Sanción"}),e.jsx("option",{value:"sugerencias",children:"Sugerencias"}),e.jsx("option",{value:"reportar-jugador",children:"Reportar Jugador"}),e.jsx("option",{value:"otro",children:"Otro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-blue-300 text-sm font-medium mb-2",children:"Mensaje"}),e.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:o,required:!0,rows:6,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Describe tu consulta o problema en detalle..."})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full px-6 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 rounded-xl text-white font-bold text-lg transition-colors flex items-center justify-center space-x-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Enviando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(oo,{className:"w-5 h-5"}),e.jsx("span",{children:"Enviar Mensaje"})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Canales de Contacto"}),e.jsx("div",{className:"space-y-4",children:f.map((d,j)=>{const y=d.icon;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700/40 rounded-xl hover:bg-slate-700/60 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-slate-600/40",children:e.jsx(y,{className:`w-5 h-5 ${d.color}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white",children:d.title}),e.jsx("p",{className:"text-blue-300 text-sm",children:d.description})]})]}),d.isInternal?e.jsxs("button",{onClick:d.action,className:"flex items-center space-x-1 px-3 py-2 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-lg text-blue-300 hover:text-blue-200 text-sm font-medium transition-all duration-300",children:[e.jsx("span",{children:d.actionText}),e.jsx(Tr,{className:"w-3 h-3"})]}):e.jsxs("a",{href:d.action,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 px-3 py-2 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-lg text-blue-300 hover:text-blue-200 text-sm font-medium transition-all duration-300",children:[e.jsx("span",{children:d.actionText}),e.jsx(Tr,{className:"w-3 h-3"})]})]},j)})})]}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(so,{className:"w-6 h-6 text-green-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Información de la Comunidad"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-blue-300",children:"Ubicación"}),e.jsx("span",{className:"text-white font-medium",children:"Chile"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-blue-300",children:"Idioma Principal"}),e.jsx("span",{className:"text-white font-medium",children:"Español"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-blue-300",children:"Versión del Juego"}),e.jsx("span",{className:"text-white font-medium",children:"Tactical Ops "})]})]})]})]})]})]})},Fm=q.createContext(void 0),hc=()=>{const t=q.useContext(Fm);if(!t)throw new Error("useBanner must be used within a BannerProvider");return t},Df=({children:t})=>{const[r,n]=q.useState([]),[a,s]=q.useState(!0),[l,o]=q.useState(!0);q.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const i=await fetch(`${ue}/banner/get-config.php`,{credentials:"include"});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const d=await i.json();d.success?(n(d.items||[]),s(d.isEnabled)):(console.error("Error loading banner config:",d.message),u())}catch(i){console.error("Error loading banner config:",i),u()}finally{o(!1)}},u=()=>{n([{id:"1",type:"image",url:"https://images.pexels.com/photos/442576/pexels-photo-442576.jpeg?auto=compress&cs=tinysrgb&w=1920&h=600&fit=crop",title:"¡Bienvenido a Tactical Ops  Chile!",description:"La comunidad más activa de Tactical Ops en Chile",link:"#",duration:6,imageSettings:{objectFit:"cover",objectPosition:"center center",scale:100,brightness:100,contrast:100,blur:0}},{id:"2",type:"image",url:"https://images.pexels.com/photos/3165335/pexels-photo-3165335.jpeg?auto=compress&cs=tinysrgb&w=1920&h=600&fit=crop",title:"Únete a la Batalla",description:"Servidores activos 24/7 con la mejor experiencia de juego",duration:5,imageSettings:{objectFit:"cover",objectPosition:"center center",scale:100,brightness:100,contrast:100,blur:0}},{id:"3",type:"image",url:"https://images.pexels.com/photos/1293269/pexels-photo-1293269.jpeg?auto=compress&cs=tinysrgb&w=1920&h=600&fit=crop",title:"Comunidad Activa",description:"Más de 1000 jugadores registrados y creciendo",duration:7,imageSettings:{objectFit:"cover",objectPosition:"center center",scale:100,brightness:100,contrast:100,blur:0}}]),s(!0)},f=async i=>{try{const d=await fetch(`${ue}/banner/update-config.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({items:i})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const j=await d.json();return j.success?(n(i),!0):(console.error("Error updating banner items:",j.message),!1)}catch(d){return console.error("Error updating banner items:",d),!1}},g=async i=>{try{const d=await fetch(`${ue}/banner/update-config.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isEnabled:i})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const j=await d.json();return j.success?(s(i),!0):(console.error("Error updating banner enabled state:",j.message),!1)}catch(d){return console.error("Error updating banner enabled state:",d),!1}},m=async()=>{await p()};return e.jsx(Fm.Provider,{value:{bannerItems:r,updateBannerItems:f,isEnabled:a,setIsEnabled:g,isLoading:l,refreshBannerConfig:m},children:t})},Rf=({bannerItems:t,onUpdateBanner:r})=>{var n;const{user:a}=ht(),{refreshBannerConfig:s,isLoading:l}=hc(),[o,p]=q.useState(!1),[u,f]=q.useState(null),[g,m]=q.useState(!1),[i,d]=q.useState(!1),[j,y]=q.useState(!1),[N,h]=q.useState(!0);if(!a||a.role!=="admin")return null;const c={objectFit:"cover",objectPosition:"center center",scale:100,brightness:100,contrast:100,blur:0},b=()=>{const z={id:Date.now().toString(),type:"image",url:"",title:"",description:"",autoplay:!0,muted:!0,duration:5,imageSettings:{...c}};f(z),m(!0),p(!0)},x=z=>{f({...z,imageSettings:z.imageSettings||{...c}}),m(!1),p(!0)},v=async()=>{if(u){y(!0);try{let z;g?z=[...t,u]:z=t.map(ee=>ee.id===u.id?u:ee),await r(z)?(p(!1),f(null),m(!1),d(!1),await s(),console.log("✅ Banner actualizado y guardado en la base de datos")):(console.error("❌ Error al guardar el banner en la base de datos"),alert("Error al guardar. Intenta nuevamente."))}catch(z){console.error("Error saving banner:",z),alert("Error al guardar. Intenta nuevamente.")}finally{y(!1)}}},k=async z=>{if(confirm("¿Estás seguro de que quieres eliminar este elemento del banner?")){y(!0);try{const ee=t.filter(B=>B.id!==z);await r(ee)?(await s(),console.log("✅ Elemento eliminado del banner y base de datos")):alert("Error al eliminar. Intenta nuevamente.")}catch(ee){console.error("Error deleting banner item:",ee),alert("Error al eliminar. Intenta nuevamente.")}finally{y(!1)}}},w=()=>{p(!1),f(null),m(!1),d(!1)},S=async()=>{await s()},E=async()=>{y(!0);try{await setIsEnabled(!N)?(h(!N),console.log("✅ Estado del banner actualizado")):alert("Error al cambiar el estado del banner. Intenta nuevamente.")}catch(z){console.error("Error toggling banner:",z),alert("Error al cambiar el estado del banner.")}finally{y(!1)}},C=(z,ee)=>{u&&f({...u,imageSettings:{...u.imageSettings,[z]:ee}})},O=z=>{const ee=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,B=z.match(ee);return!!(B&&B[2].length===11)},_=z=>/\.(jpg|jpeg|png|gif|webp)$/i.test(z)||z.includes("pexels.com")||z.includes("unsplash.com"),A=z=>z?{objectFit:z.objectFit,objectPosition:z.objectPosition,transform:`scale(${z.scale/100})`,filter:`brightness(${z.brightness}%) contrast(${z.contrast}%) blur(${z.blur}px)`}:{},R=[{value:"cover",label:"Cubrir (Cover)",description:"La imagen cubre todo el contenedor, puede recortarse"},{value:"contain",label:"Contener (Contain)",description:"La imagen se ajusta completamente dentro del contenedor"},{value:"fill",label:"Rellenar (Fill)",description:"La imagen se estira para llenar el contenedor"},{value:"scale-down",label:"Reducir (Scale-down)",description:"Como contain pero nunca más grande que el original"},{value:"none",label:"Ninguno (None)",description:"Tamaño original de la imagen"}],I=[{value:"center center",label:"Centro"},{value:"top center",label:"Arriba Centro"},{value:"bottom center",label:"Abajo Centro"},{value:"left center",label:"Izquierda Centro"},{value:"right center",label:"Derecha Centro"},{value:"top left",label:"Arriba Izquierda"},{value:"top right",label:"Arriba Derecha"},{value:"bottom left",label:"Abajo Izquierda"},{value:"bottom right",label:"Abajo Derecha"}];return q.useEffect(()=>{h(isEnabled)},[isEnabled]),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl max-h-[85vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-blue-600/20 rounded-xl",children:e.jsx(ga,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Gestión de Banner"}),e.jsx("p",{className:"text-blue-300",children:"Administra las imágenes y videos del banner principal (guardado en BD)"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:S,disabled:l||j,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-lg text-blue-300 hover:text-blue-200 font-medium transition-colors disabled:opacity-50",title:"Refrescar desde base de datos",children:[e.jsx(Dt,{className:`w-4 h-4 ${l?"animate-spin":""}`}),e.jsx("span",{children:"Refrescar"})]}),e.jsxs("button",{onClick:b,disabled:j,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-lg text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Agregar Elemento"})]})]})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-600/10 border border-blue-500/30 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${N?"bg-green-600/20":"bg-red-600/20"}`,children:N?e.jsx(Be,{className:"w-5 h-5 text-green-400"}):e.jsx(bt,{className:"w-5 h-5 text-red-400"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-blue-300 font-medium",children:["Banner ",N?"Activado":"Desactivado"]}),e.jsx("p",{className:"text-blue-400 text-sm",children:N?"El banner se muestra en la página principal con las imágenes y videos configurados":"Solo se muestra el video de fondo. El banner con imágenes está oculto"})]})]}),e.jsx("button",{onClick:E,disabled:j,className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${N?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:j?e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Guardando..."})]}):e.jsx("span",{children:N?"Desactivar Banner":"Activar Banner"})})]})}),e.jsx("div",{className:"mb-6 p-4 bg-green-600/10 border border-green-500/30 rounded-xl",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ga,{className:"w-5 h-5 text-green-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-green-300 font-medium",children:"Sincronizado con Base de Datos"}),e.jsx("p",{className:"text-green-400 text-sm",children:"Todos los cambios se guardan automáticamente en la base de datos MySQL"})]})]})}),e.jsx("div",{className:"space-y-4 mb-6",children:l?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"ml-3 text-blue-300",children:"Cargando desde base de datos..."})]}):t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(lr,{className:"w-12 h-12 text-blue-400 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-blue-300",children:"No hay elementos en el banner"}),e.jsx("p",{className:"text-blue-400 text-sm mt-1",children:"Agrega imágenes o videos para comenzar"})]}):t.map(z=>e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:z.type==="image"?e.jsx("div",{className:"w-20 h-12 bg-slate-600 rounded-lg overflow-hidden",children:e.jsx("img",{src:z.url,alt:z.title||"Banner item",className:"w-full h-full",style:A(z.imageSettings),onError:ee=>{const B=ee.target;B.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA4MCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjQ4IiBmaWxsPSIjMzc0MTUxIi8+CjxwYXRoIGQ9Ik0yNCAyMEgzNlYyOEgyNFYyMFoiIGZpbGw9IiM2Mzc0OEIiLz4KPC9zdmc+"}})}):e.jsx("div",{className:"w-20 h-12 bg-red-600/20 rounded-lg flex items-center justify-center",children:e.jsx(Mr,{className:"w-6 h-6 text-red-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-white truncate",children:z.title||"Sin título"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z.type==="image"?"bg-blue-500/20 text-blue-300":"bg-red-500/20 text-red-300"}`,children:z.type==="image"?"Imagen":"Video"})]}),e.jsx("p",{className:"text-blue-300 text-sm truncate",children:z.description||"Sin descripción"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-blue-400",children:[z.link&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Tr,{className:"w-3 h-3"}),e.jsx("span",{children:"Con enlace"})]}),z.type==="image"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Kt,{className:"w-3 h-3"}),e.jsxs("span",{children:[z.duration||5,"s"]})]}),z.imageSettings&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Xx,{className:"w-3 h-3"}),e.jsx("span",{children:z.imageSettings.objectFit})]})]}),z.type==="video"&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ka,{className:"w-3 h-3"}),e.jsx("span",{children:z.autoplay?"Auto":"Manual"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ga,{className:"w-3 h-3"}),e.jsx("span",{children:"En BD"})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>x(z),disabled:j,className:"p-2 bg-blue-600/20 hover:bg-blue-600/40 disabled:bg-blue-600/10 rounded-lg text-blue-300 transition-colors",title:"Editar",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(z.id),disabled:j,className:"p-2 bg-red-600/20 hover:bg-red-600/40 disabled:bg-red-600/10 rounded-lg text-red-300 transition-colors",title:"Eliminar",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})},z.id))}),o&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(ga,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{children:g?"Agregar Elemento":"Editar Elemento"})]}),e.jsx("button",{onClick:w,disabled:j,className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors disabled:opacity-50",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-3",children:"Tipo de Contenido"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>f({...u,type:"image"}),disabled:j,className:`flex items-center space-x-3 p-4 rounded-xl border transition-all disabled:opacity-50 ${u.type==="image"?"bg-blue-600/20 border-blue-500/30 text-blue-300":"bg-slate-700/40 border-slate-600/30 text-slate-400 hover:bg-slate-700/60"}`,children:[e.jsx(lr,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Imagen"}),e.jsx("div",{className:"text-xs opacity-75",children:"JPG, PNG, GIF"})]})]}),e.jsxs("button",{onClick:()=>f({...u,type:"video"}),disabled:j,className:`flex items-center space-x-3 p-4 rounded-xl border transition-all disabled:opacity-50 ${u.type==="video"?"bg-red-600/20 border-red-500/30 text-red-300":"bg-slate-700/40 border-slate-600/30 text-slate-400 hover:bg-slate-700/60"}`,children:[e.jsx(Mr,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Video"}),e.jsx("div",{className:"text-xs opacity-75",children:"YouTube"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:u.type==="image"?"URL de la Imagen":"URL del Video de YouTube"}),e.jsx("input",{type:"url",value:u.url,onChange:z=>f({...u,url:z.target.value}),disabled:j,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",placeholder:u.type==="image"?"https://ejemplo.com/imagen.jpg":"https://www.youtube.com/watch?v=..."}),u.url&&u.type==="video"&&!O(u.url)&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:"URL de YouTube inválida"}),u.url&&u.type==="image"&&!_(u.url)&&e.jsx("p",{className:"text-yellow-400 text-sm mt-1",children:"Asegúrate de que sea una URL de imagen válida"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Título (Opcional)"}),e.jsx("input",{type:"text",value:u.title||"",onChange:z=>f({...u,title:z.target.value}),disabled:j,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",placeholder:"Título del elemento"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Descripción (Opcional)"}),e.jsx("textarea",{value:u.description||"",onChange:z=>f({...u,description:z.target.value}),disabled:j,rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none disabled:opacity-50",placeholder:"Descripción del elemento"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Enlace (Opcional)"}),e.jsx("input",{type:"url",value:u.link||"",onChange:z=>f({...u,link:z.target.value}),disabled:j,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",placeholder:"https://ejemplo.com"}),e.jsx("p",{className:"text-blue-400 text-sm mt-1",children:"URL que se abrirá al hacer clic en el elemento"})]}),u.type==="image"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Duración (segundos)"}),e.jsx("input",{type:"number",min:"1",max:"30",value:u.duration||5,onChange:z=>f({...u,duration:parseInt(z.target.value)||5}),disabled:j,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50"})]}),u.type==="video"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"autoplay",checked:u.autoplay||!1,onChange:z=>f({...u,autoplay:z.target.checked}),disabled:j,className:"rounded border-blue-600/30 disabled:opacity-50"}),e.jsx("label",{htmlFor:"autoplay",className:"text-blue-300",children:"Reproducción automática"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"muted",checked:u.muted!==!1,onChange:z=>f({...u,muted:z.target.checked}),disabled:j,className:"rounded border-blue-600/30 disabled:opacity-50"}),e.jsx("label",{htmlFor:"muted",className:"text-blue-300",children:"Silenciado por defecto"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[u.url&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Vista Previa"}),e.jsx("div",{className:"w-full h-48 bg-slate-700/40 rounded-xl overflow-hidden border border-blue-600/30",children:u.type==="image"?e.jsx("img",{src:u.url,alt:"Preview",className:"w-full h-full transition-all duration-300",style:A(u.imageSettings),onError:z=>{const ee=z.target;ee.style.display="none"}}):e.jsxs("div",{className:"w-full h-full flex items-center justify-center",children:[e.jsx(Mr,{className:"w-12 h-12 text-red-400"}),e.jsx("span",{className:"ml-2 text-red-300",children:"Video de YouTube"})]})})]}),u.type==="image"&&u.url&&u.imageSettings&&e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-blue-600/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(rf,{className:"w-5 h-5 text-blue-400"}),e.jsx("h4",{className:"text-lg font-bold text-white",children:"Ajustes de Imagen"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Modo de Ajuste"}),e.jsx("select",{value:u.imageSettings.objectFit,onChange:z=>C("objectFit",z.target.value),disabled:j,className:"w-full px-4 py-3 bg-slate-600/40 border border-blue-600/30 rounded-lg text-white focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",children:R.map(z=>e.jsx("option",{value:z.value,children:z.label},z.value))}),e.jsx("p",{className:"text-blue-400 text-xs mt-1",children:(n=R.find(z=>z.value===u.imageSettings.objectFit))==null?void 0:n.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Posición"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-2",children:I.map(z=>e.jsx("button",{onClick:()=>C("objectPosition",z.value),disabled:j,className:`px-3 py-2 rounded-lg text-xs font-medium transition-colors disabled:opacity-50 ${u.imageSettings.objectPosition===z.value?"bg-blue-600 text-white":"bg-slate-600/40 text-blue-300 hover:bg-blue-600/20"}`,children:z.label},z.value))}),e.jsx("input",{type:"text",value:u.imageSettings.objectPosition,onChange:z=>C("objectPosition",z.target.value),disabled:j,className:"w-full px-3 py-2 bg-slate-600/40 border border-blue-600/30 rounded-lg text-white text-sm focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",placeholder:"ej: 25% 75%"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:["Escala: ",u.imageSettings.scale,"%"]}),e.jsx("input",{type:"range",min:"50",max:"200",value:u.imageSettings.scale,onChange:z=>C("scale",parseInt(z.target.value)),disabled:j,className:"w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer slider disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:["Brillo: ",u.imageSettings.brightness,"%"]}),e.jsx("input",{type:"range",min:"50",max:"150",value:u.imageSettings.brightness,onChange:z=>C("brightness",parseInt(z.target.value)),disabled:j,className:"w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer slider disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:["Contraste: ",u.imageSettings.contrast,"%"]}),e.jsx("input",{type:"range",min:"50",max:"150",value:u.imageSettings.contrast,onChange:z=>C("contrast",parseInt(z.target.value)),disabled:j,className:"w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer slider disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:["Desenfoque: ",u.imageSettings.blur,"px"]}),e.jsx("input",{type:"range",min:"0",max:"10",value:u.imageSettings.blur,onChange:z=>C("blur",parseInt(z.target.value)),disabled:j,className:"w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer slider disabled:opacity-50"})]}),e.jsxs("button",{onClick:()=>f({...u,imageSettings:{...c}}),disabled:j,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-slate-600/40 hover:bg-slate-600/60 disabled:bg-slate-600/20 rounded-lg text-blue-300 hover:text-blue-200 transition-colors disabled:opacity-50",children:[e.jsx(af,{className:"w-4 h-4"}),e.jsx("span",{children:"Restablecer Ajustes"})]})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-6 mt-6 border-t border-blue-700/30",children:[e.jsx("button",{onClick:v,disabled:!u.url||j,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-xl text-white font-medium transition-colors",children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Guardando en BD..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:g?"Agregar":"Guardar"})]})}),e.jsx("button",{onClick:w,disabled:j,className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-600/50 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})})]})},$f=()=>{var t,r;const{user:n,users:a,clans:s}=ht(),[l,o]=q.useState([]),[p,u]=q.useState(null),[f,g]=q.useState([]),[m,i]=q.useState([]),[d,j]=q.useState(null),[y,N]=q.useState([]),[h,c]=q.useState({}),[b,x]=q.useState(!0),[v,k]=q.useState("list"),[w,S]=q.useState(!1),[E,C]=q.useState(!1),[O,_]=q.useState(!1),[A,R]=q.useState(!1),[I,z]=q.useState(!1),[ee,B]=q.useState(!1),[M,P]=q.useState(null),[L,F]=q.useState(!1),[W,G]=q.useState(null),[V,$]=q.useState({name:"",description:"",type:"individual",teamSize:1,maxParticipants:8,status:"draft",startDate:"",endDate:"",prizePool:"",rules:"",maps:[],bracketType:"single_elimination"}),[U,X]=q.useState({participantType:"user",participantId:"",teamName:"",teamMembers:[]}),[le,ae]=q.useState(""),[J,ne]=q.useState(""),[D,ie]=q.useState([]),[me,ge]=q.useState({type:"individual",name:"",participantId:"",teamParticipants:[]}),[pe,te]=q.useState({round:1,matchNumber:1,participant1Id:"",participant2Id:"",team1Participants:[],team2Participants:[],mapPlayed:"",scheduledAt:"",notes:""}),[Z,re]=q.useState({imageType:"ida",imageUrl:"",description:""});if(!n||n.role!=="admin")return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ye,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Acceso Denegado"}),e.jsx("p",{className:"text-red-300",children:"No tienes permisos para gestionar torneos"})]});q.useEffect(()=>{Q(),K()},[]),q.useEffect(()=>{p&&H(p.id)},[p]),q.useEffect(()=>{const T=se=>{se.key==="Escape"&&(W?G(null):ee?B(!1):I?z(!1):A?R(!1):O?_(!1):E?C(!1):w&&S(!1))};return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[W,ee,I,A,O,E,w]);const Q=async()=>{try{x(!0);const T=await(await fetch(`${ue}/tournaments/get-all.php`,{credentials:"include",cache:"no-store"})).json();T.success&&o(T.tournaments)}catch(T){console.error("Error loading tournaments:",T)}finally{x(!1)}},K=async()=>{try{const T=await(await fetch(`${ue}/maps/get-all.php`,{credentials:"include",cache:"no-store"})).json();T.success&&N(T.maps.filter(se=>se.isActive))}catch(T){console.error("Error loading maps:",T)}},H=async T=>{try{await Promise.all([he(T),ve(T),xn(T)])}catch(se){console.error("Error loading tournament data:",se)}},he=async T=>{try{const se=await(await fetch(`${ue}/tournaments/get-participants.php?tournamentId=${T}`,{credentials:"include",cache:"no-store"})).json();se.success&&g(se.participants)}catch(se){console.error("Error loading participants:",se)}},ve=async T=>{try{const se=await(await fetch(`${ue}/tournaments/get-matches.php?tournamentId=${T}`,{credentials:"include",cache:"no-store"})).json();se.success&&(i(se.matches),await Se(se.matches))}catch(se){console.error("Error loading matches:",se)}},Se=async T=>{try{const se=T.map(kr=>ke(kr.id)),xe=await Promise.all(se),wt={};T.forEach((kr,ts)=>{wt[kr.id]=xe[ts]}),c(wt)}catch(se){console.error("Error loading match images:",se)}},ke=async T=>{try{const se=await(await fetch(`${ue}/tournaments/get-match-images.php?matchId=${T}`,{credentials:"include",cache:"no-store"})).json();return se.success?se.images:[]}catch(se){return console.error("Error loading match images:",se),[]}},xn=async T=>{try{const se=await(await fetch(`${ue}/tournaments/get-champion.php?tournamentId=${T}`,{credentials:"include",cache:"no-store"})).json();se.success&&j(se.champion)}catch(se){console.error("Error loading champion:",se)}},Pe=async()=>{if(p)try{F(!0),await Promise.all([Q(),H(p.id)]);const T=await fetch(`${ue}/tournaments/get-all.php`,{credentials:"include",cache:"no-store"}).then(se=>se.json());if(T.success){const se=T.tournaments.find(xe=>xe.id===p.id);se&&u(se)}}catch(T){console.error("Error refreshing tournament data:",T)}finally{F(!1)}},Ke=T=>T.participantType==="team"&&T.teamName?T.teamName:T.participantType==="clan"&&T.clanTag?`[${T.clanTag}] ${T.participantName}`:p&&p.teamSize>1?T.participantType==="clan"?T.clanTag?`Equipo [${T.clanTag}]`:`Equipo ${T.participantName}`:T.participantType==="user"?`Equipo ${T.participantName}`:T.teamName||`Equipo ${T.participantName}`:T.participantName,ta=async()=>{if(!V.name.trim()){alert("El nombre del torneo es requerido");return}try{const T=await(await fetch(`${ue}/tournaments/create.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(V)})).json();T.success?(S(!1),$({name:"",description:"",type:"individual",teamSize:1,maxParticipants:8,status:"draft",startDate:"",endDate:"",prizePool:"",rules:"",maps:[],bracketType:"single_elimination"}),await Q()):alert(T.message||"Error al crear el torneo")}catch(T){console.error("Error creating tournament:",T),alert("Error al crear el torneo")}},ra=async()=>{if(p)try{const T=await(await fetch(`${ue}/tournaments/update.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(p)})).json();T.success?(C(!1),await Q()):alert(T.message||"Error al actualizar el torneo")}catch(T){console.error("Error updating tournament:",T),alert("Error al actualizar el torneo")}},Nt=async T=>{if(confirm("¿Estás seguro de que quieres eliminar este torneo? Esta acción no se puede deshacer."))try{const se=await(await fetch(`${ue}/tournaments/delete.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:T})})).json();se.success?((p==null?void 0:p.id)===T&&(u(null),k("list")),await Q()):alert(se.message||"Error al eliminar el torneo")}catch(se){console.error("Error deleting tournament:",se),alert("Error al eliminar el torneo")}},Y=async()=>{if(!p)return;let T={tournamentId:p.id,participantType:U.participantType};if(U.participantType==="user"){if(!le){alert("Selecciona un usuario");return}T.participantId=le}else if(U.participantType==="clan"){if(!J){alert("Selecciona un clan");return}if(T.participantId=J,p.teamSize>1){if(D.length!==p.teamSize){alert(`Debes seleccionar exactamente ${p.teamSize} miembros para el equipo`);return}T.teamMembers=D}}else if(U.participantType==="team"){if(!U.teamName.trim()){alert("El nombre del equipo es requerido");return}if(D.length!==p.teamSize){alert(`Debes seleccionar exactamente ${p.teamSize} miembros para el equipo`);return}T.teamName=U.teamName,T.teamMembers=D}try{const se=await(await fetch(`${ue}/tournaments/add-participant.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(T)})).json();se.success?(_(!1),X({participantType:"user",participantId:"",teamName:"",teamMembers:[]}),ae(""),ne(""),ie([]),await Pe()):alert(se.message||"Error al agregar participante")}catch(se){console.error("Error adding participant:",se),alert("Error al agregar participante")}},ce=async T=>{if(confirm("¿Estás seguro de que quieres remover este participante?"))try{const se=await(await fetch(`${ue}/tournaments/remove-participant.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({participantId:T})})).json();se.success?await Pe():alert(se.message||"Error al remover participante")}catch(se){console.error("Error removing participant:",se),alert("Error al remover participante")}},be=async()=>{if(!p||!me.name.trim()){alert("Nombre del campeón es requerido");return}try{const T=await(await fetch(`${ue}/tournaments/set-champion.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tournamentId:p.id,...me})})).json();T.success?(R(!1),ge({type:"individual",name:"",participantId:"",teamParticipants:[]}),await xn(p.id)):alert(T.message||"Error al designar campeón")}catch(T){console.error("Error setting champion:",T),alert("Error al designar campeón")}},Je=async()=>{if(!(!p||!confirm("¿Estás seguro de que quieres quitar la designación de campeón?")))try{const T=await(await fetch(`${ue}/tournaments/clear-champion.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tournamentId:p.id})})).json();T.success?j(null):alert(T.message||"Error al quitar designación de campeón")}catch(T){console.error("Error clearing champion:",T),alert("Error al quitar designación de campeón")}},Oe=async()=>{if(!p)return;let T={tournamentId:p.id,round:pe.round,matchNumber:pe.matchNumber,mapPlayed:pe.mapPlayed,scheduledAt:pe.scheduledAt,notes:pe.notes};p.teamSize>1?(pe.team1Participants.length>0&&(T.team1Participants=pe.team1Participants),pe.team2Participants.length>0&&(T.team2Participants=pe.team2Participants)):(pe.participant1Id&&(T.participant1Id=pe.participant1Id),pe.participant2Id&&(T.participant2Id=pe.participant2Id));try{const se=await(await fetch(`${ue}/tournaments/create-match.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(T)})).json();se.success?(z(!1),te({round:1,matchNumber:1,participant1Id:"",participant2Id:"",team1Participants:[],team2Participants:[],mapPlayed:"",scheduledAt:"",notes:""}),await Pe()):alert(se.message||"Error al crear la partida")}catch(se){console.error("Error creating match:",se),alert("Error al crear la partida")}},Yt=async()=>{if(!M||!Z.imageUrl.trim()){alert("URL de imagen es requerida");return}try{const T=await(await fetch(`${ue}/tournaments/upload-match-images.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({matchId:M.id,...Z})})).json();if(T.success){B(!1),re({imageType:"ida",imageUrl:"",description:""});const se=await ke(M.id);c(xe=>({...xe,[M.id]:se}))}else alert(T.message||"Error al subir la imagen")}catch(T){console.error("Error uploading image:",T),alert("Error al subir la imagen")}},Il=async(T,se)=>{if(confirm("¿Estás seguro de que quieres eliminar esta imagen?"))try{const xe=await(await fetch(`${ue}/tournaments/delete-match-image.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({imageId:T})})).json();if(xe.success){const wt=await ke(se);c(kr=>({...kr,[se]:wt}))}else alert(xe.message||"Error al eliminar la imagen")}catch(xe){console.error("Error deleting image:",xe),alert("Error al eliminar la imagen")}},Ml=(T,se)=>{i(xe=>xe.map(wt=>wt.id===T?{...wt,...se}:wt)),setTimeout(()=>{Pe()},1e3)},ql=()=>{console.log("🔄 Regenerando bracket del torneo"),Pe()},Ga=T=>{switch(T){case"draft":return"bg-gray-500/20 text-gray-300 border-gray-500/30";case"registration":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"active":return"bg-green-500/20 text-green-300 border-green-500/30";case"completed":return"bg-purple-500/20 text-purple-300 border-purple-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},Xa=T=>{switch(T){case"draft":return vr;case"registration":return je;case"active":return Ka;case"completed":return tt;case"cancelled":return Zt;default:return vr}},Gt=T=>{const se=[{id:"crown",icon:Ce,color:"text-yellow-400"},{id:"sword",icon:ye,color:"text-red-400"},{id:"shield",icon:ye,color:"text-blue-400"},{id:"star",icon:Ve,color:"text-purple-400"},{id:"zap",icon:Rn,color:"text-green-400"},{id:"target",icon:Ze,color:"text-orange-400"}];return se.find(xe=>xe.id===T)||se[0]},wr=T=>new Date(T).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),np=T=>{switch(T){case"draft":return"Borrador";case"registration":return"Registro Abierto";case"active":return"En Progreso";case"completed":return"Finalizado";case"cancelled":return"Cancelado";default:return T}},ap=T=>{switch(T){case"single_elimination":return"Eliminación Simple";case"double_elimination":return"Eliminación Doble";case"round_robin":return"Round Robin";case"swiss":return"Sistema Suizo";default:return T}},sp=(T,se)=>{switch(T){case"individual":return se>1?`Individual (${se}v${se})`:"Individual (1v1)";case"clan":return se>1?`Por Clanes (${se}v${se})`:"Por Clanes (1v1)";case"team":return`Por Equipos (${se}v${se})`;default:return T}},na=T=>T===1?"1v1":`${T}v${T}`,es=T=>{switch(T){case"ida":return"Ida";case"vuelta":return"Vuelta";case"general":return"General";default:return T}},gc=T=>{switch(T){case"ida":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"vuelta":return"bg-green-500/20 text-green-300 border-green-500/30";case"general":return"bg-purple-500/20 text-purple-300 border-purple-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},lp=f.map(T=>({id:T.id,participantType:T.participantType,participantId:T.participantId,participantName:T.participantName,participantAvatar:T.participantAvatar,clanTag:T.clanTag,teamName:T.teamName,teamMembers:T.teamMembers})),ip=m.map(T=>({id:T.id,round:T.round,matchNumber:T.matchNumber,participant1:T.participant1,participant2:T.participant2,team1Participants:T.team1Participants||[],team2Participants:T.team2Participants||[],winnerId:T.winnerId,winnerTeam:T.winnerTeam,score1:T.score1,score2:T.score2,status:T.status,scheduledAt:T.scheduledAt,completedAt:T.completedAt,mapPlayed:T.mapPlayed,notes:T.notes,position:{x:0,y:0}}));return b?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-orange-600/20 rounded-xl",children:e.jsx(Ne,{className:"w-6 h-6 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Gestión de Torneos"}),e.jsx("p",{className:"text-orange-300",children:"Administra torneos, participantes y brackets"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[p&&e.jsxs("button",{onClick:Pe,disabled:L,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 ${L?"bg-blue-600/20 text-blue-400 cursor-not-allowed":"bg-blue-600/20 hover:bg-blue-600/30 text-blue-300 hover:text-blue-200"}`,children:[e.jsx(Dt,{className:`w-4 h-4 ${L?"animate-spin":""}`}),e.jsx("span",{children:"Actualizar"})]}),e.jsxs("button",{onClick:()=>S(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Crear Torneo"})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"list",label:"Lista de Torneos",icon:Ne},...p?[{id:"participants",label:`Participantes (${f.length})`,icon:je},{id:"bracket",label:"Bracket",icon:Ze},{id:"matches",label:`Partidas (${m.length})`,icon:Dd},{id:"champion",label:"Campeón",icon:Ce}]:[]].map(T=>{const se=T.icon;return e.jsxs("button",{onClick:()=>k(T.id),className:`
                  flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-300
                  ${v===T.id?"bg-blue-600 text-white shadow-lg":"text-blue-300 hover:bg-blue-600/20 hover:text-blue-200"}
                `,children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{children:T.label}),T.id==="bracket"&&L&&e.jsx(Dt,{className:"w-4 h-4 animate-spin"})]},T.id)})})]}),v==="list"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:l.length}),e.jsx("p",{className:"text-yellow-300 text-sm",children:"Total Torneos"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Mn,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:l.filter(T=>T.status==="active").length}),e.jsx("p",{className:"text-green-300 text-sm",children:"Activos"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(je,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:l.filter(T=>T.status==="registration").length}),e.jsx("p",{className:"text-blue-300 text-sm",children:"En Registro"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(gr,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:l.filter(T=>T.status==="completed").length}),e.jsx("p",{className:"text-purple-300 text-sm",children:"Completados"})]})]})})]}),l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No hay torneos creados"}),e.jsx("p",{className:"text-blue-300",children:"Crea el primer torneo para comenzar"})]}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(T=>{const se=Xa(T.status);return e.jsxs("div",{className:`bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-6 shadow-2xl hover:shadow-blue-500/10 transition-all duration-300 hover:transform hover:scale-105 cursor-pointer ${(p==null?void 0:p.id)===T.id?"ring-2 ring-blue-500/50":""}`,onClick:()=>{u(T),k("participants")},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:T.name}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium border ${Ga(T.status)}`,children:[e.jsx(se,{className:"w-3 h-3"}),e.jsx("span",{children:np(T.status)})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.type==="individual"?"bg-blue-500/20 text-blue-300":T.type==="clan"?"bg-purple-500/20 text-purple-300":"bg-green-500/20 text-green-300"}`,children:sp(T.type,T.teamSize)})]}),T.description&&e.jsx("p",{className:"text-blue-200 text-sm mb-3 line-clamp-2",children:T.description})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-4",children:[e.jsx("button",{onClick:xe=>{xe.stopPropagation(),u(T),C(!0)},className:"p-2 bg-blue-600/20 hover:bg-blue-600/40 rounded-lg text-blue-300 transition-colors",title:"Editar torneo",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx("button",{onClick:xe=>{xe.stopPropagation(),Nt(T.id)},className:"p-2 bg-red-600/20 hover:bg-red-600/40 rounded-lg text-red-300 transition-colors",title:"Eliminar torneo",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Participantes:"}),e.jsxs("span",{className:"text-white font-medium",children:[T.participantCount,"/",T.maxParticipants]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Bracket:"}),e.jsx("span",{className:"text-white font-medium",children:ap(T.bracketType)})]}),T.prizePool&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Premio:"}),e.jsx("span",{className:"text-yellow-300 font-medium",children:T.prizePool})]}),T.startDate&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Inicio:"}),e.jsx("span",{className:"text-white font-medium",children:wr(T.startDate)})]})]}),e.jsx("div",{className:"pt-3 border-t border-blue-700/30 mt-3",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-blue-400",children:[e.jsxs("span",{children:["Por: ",T.createdBy]}),e.jsx("span",{children:wr(T.createdAt)})]})})]},T.id)})})]}),v==="participants"&&p&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Participantes de ",p.name]}),e.jsxs("p",{className:"text-blue-300",children:[f.length,"/",p.maxParticipants," participantes registrados",p.teamSize>1&&e.jsxs("span",{className:"ml-2 px-2 py-1 bg-orange-600/20 text-orange-300 rounded text-sm font-bold",children:["Formato: ",na(p.teamSize)]})]})]}),e.jsxs("button",{onClick:()=>_(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(ll,{className:"w-4 h-4"}),e.jsx("span",{children:"Agregar Participante"})]})]}),f.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(je,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sin participantes"}),e.jsx("p",{className:"text-blue-300",children:"Agrega participantes para comenzar el torneo"})]}):e.jsx("div",{className:"space-y-4",children:f.sort((T,se)=>se.points-T.points||se.wins-T.wins).map((T,se)=>{const xe=T.clanIcon?Gt(T.clanIcon).icon:je,wt=T.clanIcon?Gt(T.clanIcon).color:"text-blue-400";return e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-6 border border-blue-600/20 hover:border-blue-500/40 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-blue-400 font-bold text-xl",children:["#",se+1]}),se<3&&e.jsx(gr,{className:`w-6 h-6 ${se===0?"text-yellow-400":se===1?"text-gray-300":"text-amber-600"}`})]}),T.participantAvatar?e.jsx("img",{src:T.participantAvatar,alt:Ke(T),className:"w-12 h-12 rounded-full border-2 border-blue-500/30"}):e.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-blue-500/30 bg-slate-600/40 flex items-center justify-center",children:e.jsx(xe,{className:`w-6 h-6 ${wt}`})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-bold text-white text-lg",children:Ke(T)}),T.clanTag&&e.jsxs("span",{className:"px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-sm font-mono",children:["[",T.clanTag,"]"]}),p.teamSize>1&&e.jsx("span",{className:"px-2 py-1 bg-orange-600/20 text-orange-300 rounded text-sm font-bold",children:na(p.teamSize)}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="winner"?"bg-yellow-500/20 text-yellow-300":T.status==="eliminated"?"bg-red-500/20 text-red-300":T.status==="active"?"bg-green-500/20 text-green-300":"bg-blue-500/20 text-blue-300"}`,children:T.status==="winner"?"Ganador":T.status==="eliminated"?"Eliminado":T.status==="active"?"Activo":"Registrado"})]}),T.teamMembers.length>0&&e.jsxs("p",{className:"text-blue-300 text-sm mt-1",children:[e.jsx("span",{className:"text-blue-400 font-medium",children:"Miembros:"})," ",T.teamMembers.join(", ")]}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-blue-400 mt-1",children:[e.jsxs("span",{children:["Registrado: ",wr(T.registeredAt)]}),T.participantType==="user"&&e.jsx("span",{children:"Jugador Individual"}),T.participantType==="clan"&&e.jsx("span",{children:"Clan"}),T.participantType==="team"&&e.jsx("span",{children:"Equipo Personalizado"})]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-400",children:T.points}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Puntos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-green-400",children:T.wins}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Victorias"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-red-400",children:T.losses}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Derrotas"})]}),e.jsx("button",{onClick:()=>ce(T.id),className:"p-2 bg-red-600/20 hover:bg-red-600/40 rounded-lg text-red-300 transition-colors",title:"Remover participante",children:e.jsx(uo,{className:"w-4 h-4"})})]})]})},T.id)})})]}),v==="bracket"&&p&&e.jsx(zm,{tournamentId:p.id,tournamentType:p.type,teamSize:p.teamSize,participants:lp,matches:ip,bracketType:p.bracketType,isAdmin:!0,onMatchUpdate:Ml,onBracketRegenerate:ql,onRefreshData:Pe}),v==="matches"&&p&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Partidas de ",p.name," - Formato ",na(p.teamSize)]}),e.jsxs("button",{onClick:()=>z(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Crear Partida"})]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Dd,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sin partidas"}),e.jsx("p",{className:"text-blue-300",children:"Las partidas se generarán automáticamente cuando haya suficientes participantes"})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(m.reduce((T,se)=>{const xe=p.bracketType==="round_robin"?"Round Robin":`Ronda ${se.round}`;return T[xe]||(T[xe]=[]),T[xe].push(se),T},{})).map(([T,se])=>e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[e.jsx(Ze,{className:"w-5 h-5 text-orange-400"}),e.jsx("span",{children:T}),e.jsxs("span",{className:"text-orange-400 text-sm",children:["(",na(p.teamSize),")"]})]}),e.jsx("div",{className:"space-y-4",children:se.map(xe=>{var wt,kr,ts,vc,yc,jc;const Nc=h[xe.id]||[];return e.jsxs("div",{className:"bg-slate-600/40 rounded-lg p-4 border border-blue-600/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[((wt=xe.participant1)==null?void 0:wt.avatar)&&e.jsx("img",{src:xe.participant1.avatar,alt:xe.participant1.name,className:"w-10 h-10 rounded-full border border-blue-500/30"}),e.jsx("span",{className:"text-white font-medium",children:((kr=xe.participant1)==null?void 0:kr.name)||"Por definir"})]}),e.jsxs("div",{className:"flex items-center space-x-3 px-4",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{className:`text-2xl font-bold ${xe.winnerId===((ts=xe.participant1)==null?void 0:ts.id)||xe.winnerTeam===1?"text-green-400":"text-white"}`,children:xe.score1})}),e.jsx("div",{className:"text-blue-400 text-xl font-bold",children:na(p.teamSize)}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:`text-2xl font-bold ${xe.winnerId===((vc=xe.participant2)==null?void 0:vc.id)||xe.winnerTeam===2?"text-green-400":"text-white"}`,children:xe.score2})})]}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1 justify-end",children:[e.jsx("span",{className:"text-white font-medium",children:((yc=xe.participant2)==null?void 0:yc.name)||"Por definir"}),((jc=xe.participant2)==null?void 0:jc.avatar)&&e.jsx("img",{src:xe.participant2.avatar,alt:xe.participant2.name,className:"w-10 h-10 rounded-full border border-blue-500/30"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[e.jsx("button",{onClick:()=>{P(xe),B(!0)},className:"p-2 bg-green-600/20 hover:bg-green-600/40 rounded-lg text-green-300 transition-colors",title:"Subir imagen de resultado",children:e.jsx(Pm,{className:"w-4 h-4"})}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${xe.status==="completed"?"bg-green-500/20 text-green-300":xe.status==="in_progress"?"bg-yellow-500/20 text-yellow-300":xe.status==="cancelled"?"bg-red-500/20 text-red-300":"bg-blue-500/20 text-blue-300"}`,children:xe.status==="completed"?"Completada":xe.status==="in_progress"?"En Progreso":xe.status==="cancelled"?"Cancelada":"Pendiente"})]})]}),Nc.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-blue-300 mb-2 flex items-center space-x-2",children:[e.jsx(lr,{className:"w-4 h-4"}),e.jsx("span",{children:"Imágenes de Resultados"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Nc.map(zt=>e.jsxs("div",{className:"bg-slate-500/20 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium border ${gc(zt.imageType)}`,children:es(zt.imageType)}),e.jsx("button",{onClick:()=>Il(zt.id,xe.id),className:"p-1 bg-red-600/20 hover:bg-red-600/40 rounded text-red-300 transition-colors",title:"Eliminar imagen",children:e.jsx(ot,{className:"w-3 h-3"})})]}),e.jsx("img",{src:zt.imageUrl,alt:`Resultado ${es(zt.imageType)}`,className:"w-full h-32 object-cover rounded border border-blue-600/20 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>G(zt),onError:op=>{const cp=op.target;cp.style.display="none"}}),zt.description&&e.jsx("p",{className:"text-blue-200 text-xs mt-2",children:zt.description}),e.jsxs("div",{className:"text-xs text-blue-400 mt-1",children:["Por: ",zt.uploadedBy," • ",wr(zt.uploadedAt)]})]},zt.id))})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[xe.mapPlayed&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(br,{className:"w-4 h-4 text-orange-400"}),e.jsx("span",{className:"text-orange-300",children:xe.mapPlayed})]}),xe.scheduledAt&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ot,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-300",children:["Programada: ",wr(xe.scheduledAt)]})]})]}),xe.completedAt&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(tt,{className:"w-4 h-4 text-green-400"}),e.jsxs("span",{className:"text-green-300",children:["Finalizada: ",wr(xe.completedAt)]})]})]}),xe.notes&&e.jsx("div",{className:"mt-3 p-3 bg-slate-500/20 rounded-lg",children:e.jsx("p",{className:"text-blue-200 text-sm italic",children:xe.notes})})]},xe.id)})})]},T))})]}),v==="champion"&&p&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Campeón de ",p.name]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[d&&e.jsxs("button",{onClick:Je,className:"flex items-center space-x-2 px-4 py-2 bg-red-600/20 hover:bg-red-600/30 rounded-lg text-red-300 hover:text-red-200 transition-colors",children:[e.jsx(Ee,{className:"w-4 h-4"}),e.jsx("span",{children:"Quitar Designación"})]}),e.jsxs("button",{onClick:()=>R(!0),className:"flex items-center space-x-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:"Designar Campeón"})]})]})]}),d?e.jsx("div",{className:"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border border-yellow-500/30 rounded-xl p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ce,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-3xl font-bold text-yellow-300 mb-2",children:d.name}),e.jsxs("p",{className:"text-yellow-400 text-lg mb-4",children:["🏆 Campeón del Torneo ",p.name]}),e.jsx("div",{className:"bg-slate-700/40 rounded-lg p-4 max-w-md mx-auto",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Tipo:"}),e.jsx("span",{className:"text-white font-medium",children:d.type==="individual"?"Individual":"Equipo"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Designado por:"}),e.jsx("span",{className:"text-white font-medium",children:d.designatedBy})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"Fecha:"}),e.jsx("span",{className:"text-white font-medium",children:wr(d.designatedAt)})]})]})})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sin campeón designado"}),e.jsx("p",{className:"text-blue-300",children:"Designa manualmente al campeón del torneo"})]})]}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:()=>G(null),children:e.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full flex items-center justify-center",children:[e.jsx("button",{onClick:()=>G(null),className:"absolute top-4 right-4 z-10 p-3 bg-black/60 hover:bg-black/80 rounded-full text-white transition-colors",title:"Cerrar (Esc)",children:e.jsx(Ee,{className:"w-6 h-6"})}),e.jsx("img",{src:W.imageUrl,alt:`Resultado ${es(W.imageType)}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onClick:T=>T.stopPropagation()}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4 bg-black/60 backdrop-blur-sm rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium border ${gc(W.imageType)}`,children:es(W.imageType)}),W.description&&e.jsx("span",{className:"text-white text-sm",children:W.description})]}),e.jsxs("div",{className:"text-blue-300 text-sm",children:["Por: ",W.uploadedBy," • ",wr(W.uploadedAt)]})]})}),e.jsx("div",{className:"absolute top-4 left-4 bg-black/60 backdrop-blur-sm rounded-lg px-3 py-2",children:e.jsxs("span",{className:"text-white text-sm",children:["Presiona ",e.jsx("kbd",{className:"px-2 py-1 bg-white/20 rounded text-xs",children:"Esc"})," para cerrar"]})})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Crear Nuevo Torneo"}),e.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Torneo *"}),e.jsx("input",{type:"text",value:V.name,onChange:T=>$({...V,name:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Nombre del torneo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Máximo Participantes *"}),e.jsx("input",{type:"number",value:V.maxParticipants,onChange:T=>$({...V,maxParticipants:parseInt(T.target.value)||8}),min:"2",max:"64",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Descripción"}),e.jsx("textarea",{value:V.description,onChange:T=>$({...V,description:T.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Descripción del torneo..."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Tipo de Torneo"}),e.jsxs("select",{value:V.type,onChange:T=>{const se=T.target.value;$({...V,type:se,teamSize:se==="individual"?1:V.teamSize})},className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"individual",children:"Individual"}),e.jsx("option",{value:"clan",children:"Por Clanes"}),e.jsx("option",{value:"team",children:"Por Equipos"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Tamaño de Equipo"}),e.jsxs("select",{value:V.teamSize,onChange:T=>$({...V,teamSize:parseInt(T.target.value)}),disabled:V.type==="individual",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",children:[e.jsx("option",{value:1,children:"1v1"}),e.jsx("option",{value:2,children:"2v2"}),e.jsx("option",{value:3,children:"3v3"}),e.jsx("option",{value:4,children:"4v4"}),e.jsx("option",{value:5,children:"5v5"}),e.jsx("option",{value:6,children:"6v6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Tipo de Bracket"}),e.jsxs("select",{value:V.bracketType,onChange:T=>$({...V,bracketType:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"single_elimination",children:"Eliminación Simple"}),e.jsx("option",{value:"double_elimination",children:"Eliminación Doble"}),e.jsx("option",{value:"round_robin",children:"Round Robin"}),e.jsx("option",{value:"swiss",children:"Sistema Suizo"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Fecha de Inicio"}),e.jsx("input",{type:"datetime-local",value:V.startDate,onChange:T=>$({...V,startDate:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Fecha de Fin"}),e.jsx("input",{type:"datetime-local",value:V.endDate,onChange:T=>$({...V,endDate:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Premio"}),e.jsx("input",{type:"text",value:V.prizePool,onChange:T=>$({...V,prizePool:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Ej: $100.000 CLP, Trofeo, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Reglas"}),e.jsx("textarea",{value:V.rules,onChange:T=>$({...V,rules:T.target.value}),rows:4,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Reglas del torneo..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Mapas del Torneo"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-40 overflow-y-auto",children:y.map(T=>e.jsxs("label",{className:"flex items-center space-x-2 p-3 bg-slate-700/40 rounded-lg hover:bg-slate-700/60 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V.maps.includes(T.displayName),onChange:se=>{se.target.checked?$({...V,maps:[...V.maps,T.displayName]}):$({...V,maps:V.maps.filter(xe=>xe!==T.displayName)})},className:"rounded border-blue-600/30"}),e.jsx("span",{className:"text-white text-sm",children:T.displayName})]},T.id))})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:ta,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Crear Torneo"})]}),e.jsx("button",{onClick:()=>S(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),E&&p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Torneo"}),e.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Torneo *"}),e.jsx("input",{type:"text",value:p.name,onChange:T=>u({...p,name:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Estado"}),e.jsxs("select",{value:p.status,onChange:T=>u({...p,status:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"draft",children:"Borrador"}),e.jsx("option",{value:"registration",children:"Registro Abierto"}),e.jsx("option",{value:"active",children:"En Progreso"}),e.jsx("option",{value:"completed",children:"Finalizado"}),e.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Descripción"}),e.jsx("textarea",{value:p.description,onChange:T=>u({...p,description:T.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Fecha de Inicio"}),e.jsx("input",{type:"datetime-local",value:p.startDate||"",onChange:T=>u({...p,startDate:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Fecha de Fin"}),e.jsx("input",{type:"datetime-local",value:p.endDate||"",onChange:T=>u({...p,endDate:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Premio"}),e.jsx("input",{type:"text",value:p.prizePool||"",onChange:T=>u({...p,prizePool:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Ej: $100.000 CLP, Trofeo, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Reglas"}),e.jsx("textarea",{value:p.rules||"",onChange:T=>u({...p,rules:T.target.value}),rows:4,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Reglas del torneo..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Mapas del Torneo"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-40 overflow-y-auto",children:y.map(T=>e.jsxs("label",{className:"flex items-center space-x-2 p-3 bg-slate-700/40 rounded-lg hover:bg-slate-700/60 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p.maps.includes(T.displayName),onChange:se=>{se.target.checked?u({...p,maps:[...p.maps,T.displayName]}):u({...p,maps:p.maps.filter(xe=>xe!==T.displayName)})},className:"rounded border-blue-600/30"}),e.jsx("span",{className:"text-white text-sm",children:T.displayName})]},T.id))})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:ra,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Guardar Cambios"})]}),e.jsx("button",{onClick:()=>C(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),O&&p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Agregar Participante"}),e.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Tipo de Participante"}),e.jsxs("select",{value:U.participantType,onChange:T=>{const se=T.target.value;X({...U,participantType:se}),ae(""),ne(""),ie([])},className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"user",children:"Usuario Individual"}),e.jsx("option",{value:"clan",children:"Clan"}),e.jsx("option",{value:"team",children:"Equipo Personalizado"})]})]}),U.participantType==="user"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Seleccionar Usuario"}),e.jsxs("select",{value:le,onChange:T=>ae(T.target.value),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Selecciona un usuario"}),a.filter(T=>T.isActive).map(T=>e.jsxs("option",{value:T.id,children:[T.username," (",T.email,")"]},T.id))]})]}),U.participantType==="clan"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Seleccionar Clan"}),e.jsxs("select",{value:J,onChange:T=>ne(T.target.value),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Selecciona un clan"}),s.map(T=>e.jsxs("option",{value:T.id,children:["[",T.tag,"] ",T.name]},T.id))]})]}),U.participantType==="team"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Equipo"}),e.jsx("input",{type:"text",value:U.teamName,onChange:T=>X({...U,teamName:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Nombre del equipo"})]}),(U.participantType==="clan"&&p.teamSize>1||U.participantType==="team")&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:["Miembros del Equipo (",D.length,"/",p.teamSize,")"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:a.filter(T=>T.isActive).map(T=>e.jsxs("label",{className:"flex items-center space-x-2 p-3 bg-slate-700/40 rounded-lg hover:bg-slate-700/60 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D.includes(T.id),onChange:se=>{se.target.checked?D.length<p.teamSize&&ie([...D,T.id]):ie(D.filter(xe=>xe!==T.id))},disabled:!D.includes(T.id)&&D.length>=p.teamSize,className:"rounded border-blue-600/30"}),e.jsx("img",{src:T.avatar||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop",alt:T.username,className:"w-8 h-8 rounded-full border border-blue-500/30"}),e.jsx("span",{className:"text-white",children:T.username}),T.clan&&e.jsxs("span",{className:"text-purple-300 text-sm",children:["(",T.clan,")"]})]},T.id))})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:Y,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(ll,{className:"w-4 h-4"}),e.jsx("span",{children:"Agregar Participante"})]}),e.jsx("button",{onClick:()=>_(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),A&&p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Designar Campeón"}),e.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Tipo de Campeón"}),e.jsxs("select",{value:me.type,onChange:T=>ge({...me,type:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"individual",children:"Individual"}),e.jsx("option",{value:"team",children:"Equipo"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Campeón *"}),e.jsx("input",{type:"text",value:me.name,onChange:T=>ge({...me,name:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Nombre del campeón o equipo"})]}),me.type==="individual"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Participante (Opcional)"}),e.jsxs("select",{value:me.participantId,onChange:T=>ge({...me,participantId:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Selecciona un participante"}),f.filter(T=>T.participantType==="user").map(T=>e.jsx("option",{value:T.id,children:Ke(T)},T.id))]})]}),me.type==="team"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Miembros del Equipo"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:f.map(T=>e.jsxs("label",{className:"flex items-center space-x-2 p-3 bg-slate-700/40 rounded-lg hover:bg-slate-700/60 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:me.teamParticipants.includes(T.id),onChange:se=>{se.target.checked?ge({...me,teamParticipants:[...me.teamParticipants,T.id]}):ge({...me,teamParticipants:me.teamParticipants.filter(xe=>xe!==T.id)})},className:"rounded border-blue-600/30"}),e.jsx("span",{className:"text-white",children:Ke(T)}),T.clanTag&&e.jsxs("span",{className:"text-purple-300 text-sm",children:["(",T.clanTag,")"]})]},T.id))})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:be,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:"Designar Campeón"})]}),e.jsx("button",{onClick:()=>R(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),I&&p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Crear Nueva Partida"}),e.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Ronda"}),e.jsx("input",{type:"number",value:pe.round,onChange:T=>te({...pe,round:parseInt(T.target.value)||1}),min:"1",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Número de Partida"}),e.jsx("input",{type:"number",value:pe.matchNumber,onChange:T=>te({...pe,matchNumber:parseInt(T.target.value)||1}),min:"1",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors"})]})]}),p.teamSize===1?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Participante 1"}),e.jsxs("select",{value:pe.participant1Id,onChange:T=>te({...pe,participant1Id:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Seleccionar participante"}),f.map(T=>e.jsx("option",{value:T.id,children:Ke(T)},T.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Participante 2"}),e.jsxs("select",{value:pe.participant2Id,onChange:T=>te({...pe,participant2Id:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Seleccionar participante"}),f.map(T=>e.jsx("option",{value:T.id,children:Ke(T)},T.id))]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Equipo 1"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:f.map(T=>e.jsxs("label",{className:"flex items-center space-x-2 p-3 bg-slate-700/40 rounded-lg hover:bg-slate-700/60 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:pe.team1Participants.includes(T.id),onChange:se=>{se.target.checked?te({...pe,team1Participants:[...pe.team1Participants,T.id]}):te({...pe,team1Participants:pe.team1Participants.filter(xe=>xe!==T.id)})},className:"rounded border-blue-600/30"}),e.jsx("span",{className:"text-white",children:Ke(T)})]},T.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Equipo 2"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:f.map(T=>e.jsxs("label",{className:"flex items-center space-x-2 p-3 bg-slate-700/40 rounded-lg hover:bg-slate-700/60 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:pe.team2Participants.includes(T.id),onChange:se=>{se.target.checked?te({...pe,team2Participants:[...pe.team2Participants,T.id]}):te({...pe,team2Participants:pe.team2Participants.filter(xe=>xe!==T.id)})},className:"rounded border-blue-600/30"}),e.jsx("span",{className:"text-white",children:Ke(T)})]},T.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Mapa"}),e.jsxs("select",{value:pe.mapPlayed,onChange:T=>te({...pe,mapPlayed:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Seleccionar mapa"}),p.maps.map(T=>e.jsx("option",{value:T,children:T},T))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Fecha Programada"}),e.jsx("input",{type:"datetime-local",value:pe.scheduledAt,onChange:T=>te({...pe,scheduledAt:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Notas"}),e.jsx("textarea",{value:pe.notes,onChange:T=>te({...pe,notes:T.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Notas adicionales sobre la partida..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:Oe,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Crear Partida"})]}),e.jsx("button",{onClick:()=>z(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),ee&&M&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Subir Imagen de Resultado"}),e.jsx("button",{onClick:()=>B(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 mb-4",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Partida Seleccionada"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("span",{className:"text-blue-300",children:((t=M.participant1)==null?void 0:t.name)||"Equipo 1"}),e.jsx("span",{className:"text-orange-400 font-bold",children:"VS"}),e.jsx("span",{className:"text-blue-300",children:((r=M.participant2)==null?void 0:r.name)||"Equipo 2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Tipo de Imagen"}),e.jsxs("select",{value:Z.imageType,onChange:T=>re({...Z,imageType:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"ida",children:"Ida"}),e.jsx("option",{value:"vuelta",children:"Vuelta"}),e.jsx("option",{value:"general",children:"General"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"URL de la Imagen *"}),e.jsx("input",{type:"url",value:Z.imageUrl,onChange:T=>re({...Z,imageUrl:T.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"https://ejemplo.com/imagen-resultado.jpg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Descripción (Opcional)"}),e.jsx("textarea",{value:Z.description,onChange:T=>re({...Z,description:T.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Descripción adicional de la imagen..."})]}),Z.imageUrl&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Vista Previa"}),e.jsx("img",{src:Z.imageUrl,alt:"Vista previa",className:"w-full h-48 object-cover rounded-xl border border-blue-600/20",onError:T=>{const se=T.target;se.style.display="none"}})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:Yt,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(pc,{className:"w-4 h-4"}),e.jsx("span",{children:"Subir Imagen"})]}),e.jsx("button",{onClick:()=>B(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})})]})},zf=()=>{const[t,r]=q.useState([]),[n,a]=q.useState(!0),[s,l]=q.useState(!1),[o,p]=q.useState(!1),[u,f]=q.useState(null),[g,m]=q.useState(!1),[i,d]=q.useState({name:"",displayName:"",description:"",imageUrl:"",gameMode:"",maxPlayers:16,difficulty:"medium",environment:"",size:"medium",isActive:!0});q.useEffect(()=>{j()},[]);const j=async()=>{try{a(!0);const w=await(await fetch(`${ue}/maps/get-all.php`,{credentials:"include"})).json();w.success&&r(w.maps)}catch(w){console.error("Error loading maps:",w)}finally{a(!1)}},y=async()=>{if(!i.name.trim()||!i.displayName.trim()){alert("Nombre y nombre para mostrar son requeridos");return}try{const w=await(await fetch(`${ue}/maps/create.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)})).json();w.success?(l(!1),d({name:"",displayName:"",description:"",imageUrl:"",gameMode:"",maxPlayers:16,difficulty:"medium",environment:"",size:"medium",isActive:!0}),await j()):alert(w.message||"Error al crear el mapa")}catch(w){console.error("Error creating map:",w),alert("Error al crear el mapa")}},N=async()=>{if(!u||!u.name.trim()||!u.displayName.trim()){alert("Nombre y nombre para mostrar son requeridos");return}try{const w=await(await fetch(`${ue}/maps/update.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(u)})).json();w.success?(p(!1),f(null),await j()):alert(w.message||"Error al actualizar el mapa")}catch(w){console.error("Error updating map:",w),alert("Error al actualizar el mapa")}},h=async w=>{if(confirm("¿Estás seguro de que quieres eliminar este mapa?"))try{const S=await(await fetch(`${ue}/maps/delete.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:w})})).json();S.success?await j():alert(S.message||"Error al eliminar el mapa")}catch(S){console.error("Error deleting map:",S),alert("Error al eliminar el mapa")}},c=async(w,S=!1)=>{if(w){m(!0);try{const E=new FormData;E.append("image",w);const C=await(await fetch(`${ue}/maps/upload-image.php`,{method:"POST",credentials:"include",body:E})).json();if(C.success){const O=`${ue}${C.imageUrl}`;S&&u?f({...u,imageUrl:O}):d({...i,imageUrl:O})}else alert(C.message||"Error al subir la imagen")}catch(E){console.error("Error uploading image:",E),alert("Error al subir la imagen")}finally{m(!1)}}},b=w=>{switch(w){case"easy":return"bg-green-500/20 text-green-300 border-green-500/30";case"medium":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"hard":return"bg-orange-500/20 text-orange-300 border-orange-500/30";case"expert":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},x=w=>{switch(w){case"small":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"medium":return"bg-purple-500/20 text-purple-300 border-purple-500/30";case"large":return"bg-orange-500/20 text-orange-300 border-orange-500/30";case"extra_large":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},v=w=>new Date(w).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=(w,S,E=!1)=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Mapa *"}),e.jsx("input",{type:"text",value:w.name,onChange:C=>S({...w,name:C.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"de_dust2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre para Mostrar *"}),e.jsx("input",{type:"text",value:w.displayName,onChange:C=>S({...w,displayName:C.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Dust 2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Descripción"}),e.jsx("textarea",{value:w.description,onChange:C=>S({...w,description:C.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Descripción del mapa..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Imagen del Mapa"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:C=>{var O;const _=(O=C.target.files)==null?void 0:O[0];_&&c(_,E)},className:"hidden",id:`image-upload-${E?"edit":"create"}`}),e.jsxs("label",{htmlFor:`image-upload-${E?"edit":"create"}`,className:`flex items-center space-x-2 px-4 py-2 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-lg text-blue-300 hover:text-blue-200 transition-colors cursor-pointer ${g?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(pc,{className:"w-4 h-4"}),e.jsx("span",{children:g?"Subiendo...":"Subir Imagen"})]}),e.jsx("span",{className:"text-blue-400 text-sm",children:"o"}),e.jsx("input",{type:"url",value:w.imageUrl||"",onChange:C=>S({...w,imageUrl:C.target.value}),className:"flex-1 px-4 py-2 bg-slate-700/40 border border-blue-600/30 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"https://ejemplo.com/imagen.jpg"})]}),w.imageUrl&&e.jsx("div",{className:"relative",children:e.jsx("img",{src:w.imageUrl,alt:"Preview",className:"w-full h-32 object-cover rounded-lg border border-blue-500/30",onError:C=>{const O=C.target;O.style.display="none"}})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Modo de Juego"}),e.jsx("input",{type:"text",value:w.gameMode||"",onChange:C=>S({...w,gameMode:C.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Bomb Defusal, Hostage Rescue, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Máximo Jugadores"}),e.jsx("input",{type:"number",value:w.maxPlayers||"",onChange:C=>S({...w,maxPlayers:parseInt(C.target.value)||void 0}),min:"2",max:"64",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"16"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Dificultad"}),e.jsxs("select",{value:w.difficulty,onChange:C=>S({...w,difficulty:C.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"easy",children:"Fácil"}),e.jsx("option",{value:"medium",children:"Medio"}),e.jsx("option",{value:"hard",children:"Difícil"}),e.jsx("option",{value:"expert",children:"Experto"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Tamaño"}),e.jsxs("select",{value:w.size,onChange:C=>S({...w,size:C.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"small",children:"Pequeño"}),e.jsx("option",{value:"medium",children:"Mediano"}),e.jsx("option",{value:"large",children:"Grande"}),e.jsx("option",{value:"extra_large",children:"Extra Grande"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Entorno"}),e.jsx("input",{type:"text",value:w.environment||"",onChange:C=>S({...w,environment:C.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Desierto, Urbano, Industrial, etc."})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:`isActive-${E?"edit":"create"}`,checked:w.isActive,onChange:C=>S({...w,isActive:C.target.checked}),className:"rounded border-blue-600/30"}),e.jsx("label",{htmlFor:`isActive-${E?"edit":"create"}`,className:"text-blue-300",children:"Mapa activo (disponible para torneos)"})]})]});return n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-orange-600/20 rounded-xl",children:e.jsx(qn,{className:"w-6 h-6 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Gestión de Mapas"}),e.jsx("p",{className:"text-orange-300",children:"Administra los mapas disponibles para torneos"})]})]}),e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Crear Mapa"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(qn,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t.length}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Total Mapas"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(tt,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t.filter(w=>w.isActive).length}),e.jsx("p",{className:"text-green-300 text-sm",children:"Activos"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(bt,{className:"w-8 h-8 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t.filter(w=>!w.isActive).length}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Inactivos"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(lr,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t.filter(w=>w.imageUrl).length}),e.jsx("p",{className:"text-purple-300 text-sm",children:"Con Imagen"})]})]})})]}),t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qn,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No hay mapas creados"}),e.jsx("p",{className:"text-blue-300",children:"Crea el primer mapa para comenzar"})]}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(w=>e.jsxs("div",{className:`bg-slate-700/40 rounded-xl border transition-all duration-300 hover:transform hover:scale-105 ${w.isActive?"border-blue-600/30":"border-gray-600/30 opacity-75"}`,children:[e.jsxs("div",{className:"relative h-48 rounded-t-xl overflow-hidden",children:[w.imageUrl?e.jsx("img",{src:w.imageUrl,alt:w.displayName,className:"w-full h-full object-cover",onError:S=>{const E=S.target;E.style.display="none";const C=E.parentElement;C&&(C.innerHTML=`
                          <div class="w-full h-full bg-slate-600/40 flex items-center justify-center">
                            <svg class="w-16 h-16 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
                              <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/>
                            </svg>
                          </div>
                        `)}}):e.jsx("div",{className:"w-full h-full bg-slate-600/40 flex items-center justify-center",children:e.jsx(br,{className:"w-16 h-16 text-gray-400"})}),!w.isActive&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-600/20 border border-red-500/30 rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-red-300 text-sm font-medium",children:"Inactivo"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white text-lg",children:w.displayName}),e.jsx("p",{className:"text-blue-300 text-sm font-mono",children:w.name})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>{f(w),p(!0)},className:"p-2 bg-blue-600/20 hover:bg-blue-600/40 rounded-lg text-blue-300 transition-colors",title:"Editar mapa",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(w.id),className:"p-2 bg-red-600/20 hover:bg-red-600/40 rounded-lg text-red-300 transition-colors",title:"Eliminar mapa",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),w.description&&e.jsx("p",{className:"text-blue-200 text-sm mb-3 line-clamp-2",children:w.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Dificultad:"}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium border ${b(w.difficulty)}`,children:w.difficulty==="easy"?"Fácil":w.difficulty==="medium"?"Medio":w.difficulty==="hard"?"Difícil":"Experto"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Tamaño:"}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium border ${x(w.size)}`,children:w.size==="small"?"Pequeño":w.size==="medium"?"Mediano":w.size==="large"?"Grande":"Extra Grande"})]}),w.maxPlayers&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Jugadores:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(je,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-white font-medium",children:w.maxPlayers})]})]}),w.gameMode&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Modo:"}),e.jsx("span",{className:"text-white font-medium",children:w.gameMode})]}),w.environment&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-400",children:"Entorno:"}),e.jsx("span",{className:"text-white font-medium",children:w.environment})]})]}),e.jsx("div",{className:"pt-3 border-t border-blue-700/30 mt-3",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-blue-400",children:[e.jsxs("span",{children:["Por: ",w.createdBy]}),e.jsx("span",{children:v(w.createdAt)})]})})]})]},w.id))}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Crear Nuevo Mapa"}),e.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),k(i,d),e.jsxs("div",{className:"flex space-x-3 pt-6",children:[e.jsxs("button",{onClick:y,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Crear Mapa"})]}),e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})}),o&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Mapa"}),e.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),k(u,f,!0),e.jsxs("div",{className:"flex space-x-3 pt-6",children:[e.jsxs("button",{onClick:N,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Guardar Cambios"})]}),e.jsx("button",{onClick:()=>p(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})})]})},Ff=({user:t,isOpen:r,onClose:n,onSave:a})=>{const{clans:s,updateUser:l}=ht(),[o,p]=q.useState(!1),[u,f]=q.useState("basic"),[g,m]=q.useState(!1),[i,d]=q.useState(!1),[j,y]=q.useState({username:"",email:"",role:"player",avatar:"",status:"",hideEmail:!1,isActive:!0,playerName:""}),[N,h]=q.useState({newPassword:"",confirmPassword:""}),[c,b]=q.useState({clanTag:""}),[x,v]=q.useState({}),[k,w]=q.useState("");q.useEffect(()=>{t&&r&&(y({username:t.username||"",email:t.email||"",role:t.role||"player",avatar:t.avatar||"",status:t.status||"",hideEmail:t.hideEmail||!1,isActive:t.isActive!==!1,playerName:t.playerName||""}),b({clanTag:t.clan||""}),h({newPassword:"",confirmPassword:""}),v({}),w(""),f("basic"))},[t,r]);const S=B=>{const{name:M,type:P,value:L}=B.target;if(P==="checkbox"){const F=B.target.checked;y(W=>({...W,[M]:F}))}else y(F=>({...F,[M]:L}));x[M]&&v(F=>({...F,[M]:""}))},E=B=>{const{name:M,value:P}=B.target;h(L=>({...L,[M]:P})),x[M]&&v(L=>({...L,[M]:""}))},C=B=>{b({clanTag:B.target.value})},O=()=>{const B={};return j.username.trim()||(B.username="El nombre de usuario es requerido"),j.email.trim()?/\S+@\S+\.\S+/.test(j.email)||(B.email="El email no es válido"):B.email="El email es requerido",B},_=()=>{const B={};return N.newPassword&&(N.newPassword.length<6&&(B.newPassword="La contraseña debe tener al menos 6 caracteres"),N.newPassword!==N.confirmPassword&&(B.confirmPassword="Las contraseñas no coinciden")),B},A=async()=>{const B=O();if(Object.keys(B).length>0){v(B);return}p(!0),v({});try{await l(t.id,j)?(w("Información básica actualizada exitosamente"),setTimeout(()=>{a(),n()},1500)):v({general:"Error al actualizar la información. Verifica que el username y email no estén en uso."})}catch(M){console.error("Error updating user:",M),v({general:"Error interno del servidor"})}finally{p(!1)}},R=async()=>{const B=_();if(Object.keys(B).length>0){v(B);return}if(!N.newPassword){v({newPassword:"Ingresa una nueva contraseña"});return}p(!0),v({});try{const M=await(await fetch(`${ue}/users/change-password.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:t.id,newPassword:N.newPassword})})).json();M.success?(w("Contraseña actualizada exitosamente"),h({newPassword:"",confirmPassword:""})):v({general:M.message||"Error al cambiar la contraseña"})}catch(M){console.error("Error changing password:",M),v({general:"Error interno del servidor"})}finally{p(!1)}},I=async()=>{p(!0),v({});try{const B=await(await fetch(`${ue}/users/assign-clan.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:t.id,clanTag:c.clanTag})})).json();B.success?(w(B.message),await l(t.id,{clan:c.clanTag||null}),setTimeout(()=>{a()},1e3)):v({general:B.message||"Error al asignar clan"})}catch(B){console.error("Error assigning clan:",B),v({general:"Error interno del servidor"})}finally{p(!1)}},z=B=>{const M=[{id:"crown",icon:Ce,color:"text-yellow-400"},{id:"sword",icon:ye,color:"text-red-400"},{id:"shield",icon:ye,color:"text-blue-400"},{id:"star",icon:Ve,color:"text-purple-400"},{id:"zap",icon:Rn,color:"text-green-400"},{id:"target",icon:Ze,color:"text-orange-400"}];return M.find(P=>P.id===B)||M[0]};if(!r)return null;const ee=[{id:"basic",label:"Perfil",icon:yr},{id:"security",label:"Contraseña",icon:Id},{id:"clan",label:"Clan",icon:je}];return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(yr,{className:"w-6 h-6 text-blue-400"}),e.jsxs("span",{children:["Editar Usuario: ",t==null?void 0:t.username]})]}),e.jsx("button",{onClick:n,disabled:o,className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors disabled:opacity-50",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),k&&e.jsxs("div",{className:"mb-6 p-4 bg-green-600/10 border border-green-500/30 rounded-xl flex items-center space-x-3",children:[e.jsx(tt,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300",children:k})]}),x.general&&e.jsxs("div",{className:"mb-6 p-4 bg-red-600/10 border border-red-500/30 rounded-xl flex items-center space-x-3",children:[e.jsx(Zt,{className:"w-5 h-5 text-red-400"}),e.jsx("span",{className:"text-red-300",children:x.general})]}),e.jsx("div",{className:"flex space-x-2 mb-6 bg-slate-700/40 rounded-xl p-2",children:ee.map(B=>{const M=B.icon;return e.jsxs("button",{onClick:()=>f(B.id),disabled:o,className:`
                  flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 disabled:opacity-50
                  ${u===B.id?"bg-blue-600 text-white shadow-lg":"text-blue-300 hover:bg-blue-600/20 hover:text-blue-200"}
                `,children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:B.label})]},B.id)})}),e.jsxs("div",{className:"space-y-6",children:[u==="basic"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:"Información Personal"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre de Usuario *"}),e.jsx("input",{type:"text",name:"username",value:j.username,onChange:S,disabled:o,className:`w-full px-4 py-3 bg-slate-700/40 border rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50 ${x.username?"border-red-500/50":"border-blue-600/30"}`,placeholder:"Nombre de usuario"}),x.username&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.username})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:j.email,onChange:S,disabled:o,className:`w-full px-4 py-3 bg-slate-700/40 border rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50 ${x.email?"border-red-500/50":"border-blue-600/30"}`,placeholder:"email@ejemplo.com"}),x.email&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.email})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Rol del Usuario"}),e.jsxs("select",{name:"role",value:j.role,onChange:S,disabled:o||(t==null?void 0:t.id)==="1",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",children:[e.jsx("option",{value:"player",children:"Jugador"}),e.jsx("option",{value:"admin",children:"Administrador"})]}),(t==null?void 0:t.id)==="1"&&e.jsx("p",{className:"text-yellow-400 text-sm mt-1",children:"No se puede cambiar el rol del administrador principal"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Estado de la Cuenta"}),e.jsxs("select",{name:"isActive",value:j.isActive?"true":"false",onChange:B=>y(M=>({...M,isActive:B.target.value==="true"})),disabled:o||(t==null?void 0:t.id)==="1",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",children:[e.jsx("option",{value:"true",children:"Activo"}),e.jsx("option",{value:"false",children:"Suspendido"})]}),(t==null?void 0:t.id)==="1"&&e.jsx("p",{className:"text-yellow-400 text-sm mt-1",children:"No se puede suspender al administrador principal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"URL del Avatar"}),e.jsx("input",{type:"url",name:"avatar",value:j.avatar,onChange:S,disabled:o,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",placeholder:"https://ejemplo.com/avatar.jpg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Estado Personalizado"}),e.jsx("textarea",{name:"status",value:j.status,onChange:S,disabled:o,rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none disabled:opacity-50",placeholder:"Estado personalizado del usuario..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre de Jugador (In-Game)"}),e.jsx("input",{type:"text",name:"playerName",value:j.playerName,onChange:S,disabled:o,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",placeholder:"»©R«KrAtOz!**"}),e.jsx("p",{className:"text-blue-400 text-sm mt-1",children:"Ingresa tu nombre exacto del juego (con caracteres especiales) para vincular tus estadísticas del ranking"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-slate-700/40 rounded-xl",children:[e.jsx("input",{type:"checkbox",id:"hideEmail",name:"hideEmail",checked:j.hideEmail,onChange:S,disabled:o,className:"rounded border-blue-600/30 text-blue-600 focus:ring-blue-500 focus:ring-offset-0 disabled:opacity-50"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"hideEmail",className:"text-blue-300 font-medium cursor-pointer",children:"Ocultar email del usuario"}),e.jsx("p",{className:"text-blue-400 text-sm mt-1",children:"Otros jugadores no podrán ver la dirección de correo electrónico"})]}),e.jsx(Be,{className:"w-5 h-5 text-blue-400"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{onClick:n,disabled:o,className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-600/50 rounded-xl text-white font-medium transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:A,disabled:o,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 rounded-xl text-white font-medium transition-colors",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Guardando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Guardar Cambios"})]})})]})]}),u==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:"Cambiar Contraseña"}),e.jsx("div",{className:"bg-yellow-600/10 border border-yellow-500/30 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Zt,{className:"w-5 h-5 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-yellow-300 font-medium",children:"Cambio de Contraseña"}),e.jsx("p",{className:"text-yellow-400 text-sm mt-1",children:"Esta acción cambiará la contraseña del usuario. El usuario deberá usar la nueva contraseña para iniciar sesión."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nueva Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:g?"text":"password",name:"newPassword",value:N.newPassword,onChange:E,disabled:o,className:`w-full px-4 py-3 bg-slate-700/40 border rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors pr-12 disabled:opacity-50 ${x.newPassword?"border-red-500/50":"border-blue-600/30"}`,placeholder:"Mínimo 6 caracteres"}),e.jsx("button",{type:"button",onClick:()=>m(!g),disabled:o,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-300 disabled:opacity-50",children:g?e.jsx(bt,{className:"w-5 h-5"}):e.jsx(Be,{className:"w-5 h-5"})})]}),x.newPassword&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.newPassword})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Confirmar Nueva Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:N.confirmPassword,onChange:E,disabled:o,className:`w-full px-4 py-3 bg-slate-700/40 border rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors pr-12 disabled:opacity-50 ${x.confirmPassword?"border-red-500/50":"border-blue-600/30"}`,placeholder:"Repite la nueva contraseña"}),e.jsx("button",{type:"button",onClick:()=>d(!i),disabled:o,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-300 disabled:opacity-50",children:i?e.jsx(bt,{className:"w-5 h-5"}):e.jsx(Be,{className:"w-5 h-5"})})]}),x.confirmPassword&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.confirmPassword})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{onClick:n,disabled:o,className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-600/50 rounded-xl text-white font-medium transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:R,disabled:o||!N.newPassword,className:"flex items-center space-x-2 px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-600/50 rounded-xl text-white font-medium transition-colors",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Cambiando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Id,{className:"w-4 h-4"}),e.jsx("span",{children:"Cambiar Contraseña"})]})})]})]}),u==="clan"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:"Gestión de Clan"}),e.jsx("div",{className:"bg-blue-600/10 border border-blue-500/30 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(je,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-blue-300 font-medium",children:"Asignación de Clan"}),e.jsx("p",{className:"text-blue-400 text-sm mt-1",children:"Puedes asignar o remover al usuario de un clan. El usuario aparecerá como miembro del clan seleccionado."})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Clan Actual"}),t!=null&&t.clan?e.jsx("div",{className:"flex items-center space-x-3 p-4 bg-slate-700/40 rounded-xl",children:(()=>{const B=s.find(M=>M.tag===t.clan);if(B){const M=z(B.icon).icon,P=z(B.icon).color;return e.jsxs(e.Fragment,{children:[e.jsx(M,{className:`w-6 h-6 ${P}`}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:B.name}),e.jsxs("span",{className:"text-blue-300 ml-2 font-mono",children:["[",B.tag,"]"]})]})]})}return e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-6 h-6 text-gray-400"}),e.jsxs("span",{className:"text-gray-300 font-mono",children:["[",t.clan,"] (Clan no encontrado)"]})]})})()}):e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-slate-700/40 rounded-xl",children:[e.jsx(je,{className:"w-6 h-6 text-gray-400"}),e.jsx("span",{className:"text-gray-300",children:"Sin clan asignado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Asignar Nuevo Clan"}),e.jsxs("select",{value:c.clanTag,onChange:C,disabled:o,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50",children:[e.jsx("option",{value:"",children:"Sin clan"}),s.map(B=>(z(B.icon).icon,e.jsxs("option",{value:B.tag,children:["[",B.tag,"] ",B.name]},B.id)))]})]}),s.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-blue-300 font-medium mb-3",children:"Clanes Disponibles"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3 max-h-48 overflow-y-auto",children:s.map(B=>{const M=z(B.icon).icon,P=z(B.icon).color;return e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border transition-all cursor-pointer ${c.clanTag===B.tag?"bg-blue-600/20 border-blue-500/50":"bg-slate-700/40 border-slate-600/30 hover:bg-slate-700/60"}`,onClick:()=>b({clanTag:B.tag}),children:[e.jsx(M,{className:`w-5 h-5 ${P}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-white font-medium truncate",children:B.name}),e.jsxs("span",{className:"text-blue-300 font-mono text-sm",children:["[",B.tag,"]"]})]}),e.jsxs("p",{className:"text-blue-400 text-xs",children:[B.members," miembros"]})]})]},B.id)})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{onClick:n,disabled:o,className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-600/50 rounded-xl text-white font-medium transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:I,disabled:o,className:"flex items-center space-x-2 px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-xl text-white font-medium transition-colors",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Asignando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:c.clanTag?"Asignar Clan":"Remover de Clan"})]})})]})]})]})]})})},Uf=()=>{const{users:t}=ht(),[r,n]=q.useState(null),[a,s]=q.useState([]),[l,o]=q.useState([]),[p,u]=q.useState(!1),[f,g]=q.useState(!1),[m,i]=q.useState(!1),[d,j]=q.useState(null),[y,N]=q.useState({title:"",tournament_name:""});q.useEffect(()=>{h()},[]);const h=async()=>{u(!0);try{const E=await(await fetch(`${ue}/stats/get-all.php`,{credentials:"include"})).json();E.success&&(s(E.stats||[]),o(E.titles||[]))}catch(E){console.error("Error loading stats:",E)}finally{u(!1)}},c=E=>a.find(C=>C.user_id===E),b=E=>l.filter(C=>C.user_id===E),x=E=>{const C=c(E.id);n(E),j(C||{user_id:E.id,best_streak:0,total_kills:0,total_deaths:0,is_champion:!1}),g(!0)},v=async()=>{try{const E=await(await fetch(`${ue}/stats/update-stats.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(d)})).json();E.success?(await h(),g(!1),j(null),n(null)):alert(E.error||"Error al guardar estadísticas")}catch(E){console.error("Error saving stats:",E),alert("Error al guardar estadísticas")}},k=E=>{n(E),N({title:"",tournament_name:""}),i(!0)},w=async()=>{if(!y.title.trim()||!y.tournament_name.trim()){alert("Completa todos los campos");return}try{const E=await(await fetch(`${ue}/stats/add-title.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user_id:r.id,title:y.title,tournament_name:y.tournament_name})})).json();E.success?(await h(),i(!1),N({title:"",tournament_name:""}),n(null)):alert(E.error||"Error al agregar título")}catch(E){console.error("Error adding title:",E),alert("Error al agregar título")}},S=async E=>{if(confirm("¿Estás seguro de eliminar este título?"))try{const C=await(await fetch(`${ue}/stats/delete-title.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:E})})).json();C.success?await h():alert(C.error||"Error al eliminar título")}catch(C){console.error("Error deleting title:",C),alert("Error al eliminar título")}};return p?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{children:"Gestión de Estadísticas de Jugadores"})]}),e.jsx("div",{className:"space-y-4",children:t.map(E=>{const C=c(E.id),O=b(E.id);return e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:E.avatar||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=48&h=48&fit=crop",alt:E.username,className:"w-12 h-12 rounded-full border-2 border-blue-500/30"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-white flex items-center space-x-2",children:[e.jsx("span",{children:E.username}),(C==null?void 0:C.is_champion)&&e.jsx(Ce,{className:"w-4 h-4 text-yellow-400",title:"Campeón"})]}),e.jsx("p",{className:"text-sm text-blue-400",children:E.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>x(E),className:"p-2 bg-blue-600/20 hover:bg-blue-600/40 rounded-lg text-blue-300 transition-colors",title:"Editar estadísticas",children:e.jsx(Ze,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(E),className:"p-2 bg-yellow-600/20 hover:bg-yellow-600/40 rounded-lg text-yellow-300 transition-colors",title:"Agregar título",children:e.jsx(jt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"text-sm font-semibold text-blue-300",children:"Estadísticas"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"bg-slate-600/40 rounded-lg p-2 text-center",children:[e.jsx(Ve,{className:"w-4 h-4 text-yellow-400 mx-auto mb-1"}),e.jsx("p",{className:"text-white font-bold",children:(C==null?void 0:C.best_streak)||0}),e.jsx("p",{className:"text-blue-300 text-xs",children:"Racha"})]}),e.jsxs("div",{className:"bg-slate-600/40 rounded-lg p-2 text-center",children:[e.jsx(Ne,{className:"w-4 h-4 text-blue-400 mx-auto mb-1"}),e.jsx("p",{className:"text-white font-bold",children:(C==null?void 0:C.total_kills)||0}),e.jsx("p",{className:"text-blue-300 text-xs",children:"Kills"})]}),e.jsxs("div",{className:"bg-slate-600/40 rounded-lg p-2 text-center",children:[e.jsx(Ze,{className:"w-4 h-4 text-red-400 mx-auto mb-1"}),e.jsx("p",{className:"text-white font-bold",children:(C==null?void 0:C.total_deaths)||0}),e.jsx("p",{className:"text-blue-300 text-xs",children:"Muertes"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h5",{className:"text-sm font-semibold text-blue-300",children:["Títulos (",O.length,")"]}),O.length>0?e.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:O.map(_=>e.jsxs("div",{className:"flex items-center justify-between bg-yellow-500/10 rounded-lg p-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-yellow-300 text-xs font-semibold truncate",children:_.title}),e.jsx("p",{className:"text-yellow-400 text-xs truncate",children:_.tournament_name})]}),e.jsx("button",{onClick:()=>S(_.id),className:"ml-2 p-1 hover:bg-red-600/40 rounded text-red-300",children:e.jsx(ot,{className:"w-3 h-3"})})]},_.id))}):e.jsx("p",{className:"text-slate-400 text-xs",children:"Sin títulos"})]})]})]},E.id)})})]}),f&&d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Estadísticas"}),e.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Jugador"}),e.jsx("p",{className:"text-white font-bold",children:r==null?void 0:r.username})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Mejor Racha"}),e.jsx("input",{type:"number",min:"0",value:d.best_streak,onChange:E=>j({...d,best_streak:parseInt(E.target.value)||0}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Total Kills"}),e.jsx("input",{type:"number",min:"0",value:d.total_kills,onChange:E=>j({...d,total_kills:parseInt(E.target.value)||0}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Total Muertes"}),e.jsx("input",{type:"number",min:"0",value:d.total_deaths,onChange:E=>j({...d,total_deaths:parseInt(E.target.value)||0}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"is_champion",checked:d.is_champion,onChange:E=>j({...d,is_champion:E.target.checked}),className:"rounded border-blue-600/30"}),e.jsxs("label",{htmlFor:"is_champion",className:"text-blue-300 flex items-center space-x-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{children:"Es Campeón"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:v,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Guardar"})]}),e.jsx("button",{onClick:()=>g(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium",children:"Cancelar"})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Agregar Título"}),e.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Jugador"}),e.jsx("p",{className:"text-white font-bold",children:r==null?void 0:r.username})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Título"}),e.jsx("input",{type:"text",value:y.title,onChange:E=>N({...y,title:E.target.value}),placeholder:"Ej: Campeón, Subcampeón, 3er Lugar",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Torneo"}),e.jsx("input",{type:"text",value:y.tournament_name,onChange:E=>N({...y,tournament_name:E.target.value}),placeholder:"Nombre del torneo",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:w,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Agregar"})]}),e.jsx("button",{onClick:()=>i(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium",children:"Cancelar"})]})]})]})})]})},Bf=()=>{const[t,r]=q.useState(""),[n,a]=q.useState(!1),[s,l]=q.useState("Vuelve pronto para ver contenido en vivo"),[o,p]=q.useState(""),[u,f]=q.useState(""),[g,m]=q.useState(!1),[i,d]=q.useState(!1),[j,y]=q.useState(null),[N,h]=q.useState(!1);q.useEffect(()=>{c()},[]);const c=async()=>{try{const v=await(await fetch(`${ue}/streaming/get-config.php`,{credentials:"include",cache:"no-store"})).json();v.success&&v.config&&(r(v.config.stream_url||""),a(v.config.is_active||!1),l(v.config.descriptive_text||"Vuelve pronto para ver contenido en vivo"),p(v.config.offline_url||""),f(v.config.offline_text||""),m(v.config.show_offline||!1))}catch(v){console.error("Error loading streaming config:",v)}},b=async()=>{d(!0),y(null);try{const v=await(await fetch(`${ue}/streaming/update-config.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({stream_url:t,is_active:n,descriptive_text:s,offline_url:o,offline_text:u,show_offline:g})})).json();v.success?(y({type:"success",text:"Configuración guardada correctamente"}),setTimeout(()=>y(null),3e3)):y({type:"error",text:v.error||"Error al guardar la configuración"})}catch{y({type:"error",text:"Error al guardar la configuración"})}finally{d(!1)}},x=t?(v=>v.includes("twitch.tv")?{platform:"Twitch",color:"purple"}:v.includes("youtube.com")||v.includes("youtu.be")?{platform:"YouTube",color:"red"}:v.includes("kick.com")?{platform:"Kick",color:"green"}:{platform:"Desconocido",color:"gray"})(t):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Dn,{className:"w-6 h-6 text-red-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestión de Streaming en Vivo"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"URL del Stream"}),e.jsx("input",{type:"text",value:t,onChange:v=>r(v.target.value),placeholder:"https://twitch.tv/tu_canal o https://youtube.com/watch?v=...",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300/50 focus:outline-none focus:border-blue-500 transition-colors"}),e.jsx("p",{className:"text-blue-400 text-xs mt-2",children:"Soporta Twitch, YouTube y Kick. El sistema detectará automáticamente la plataforma."}),x&&e.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-blue-300",children:"Plataforma detectada:"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x.color==="purple"?"bg-purple-500/20 text-purple-300":x.color==="red"?"bg-red-500/20 text-red-300":x.color==="green"?"bg-green-500/20 text-green-300":"bg-gray-500/20 text-gray-300"}`,children:x.platform})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Texto Descriptivo (cuando no hay transmisión activa)"}),e.jsx("textarea",{value:s,onChange:v=>l(v.target.value),placeholder:"Mensaje personalizado para mostrar cuando no hay transmisión en vivo",rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300/50 focus:outline-none focus:border-blue-500 transition-colors resize-none"}),e.jsx("p",{className:"text-blue-400 text-xs mt-2",children:"Este texto se mostrará cuando tengas una URL configurada pero el stream no esté activo."})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-slate-700/40 rounded-xl border border-blue-600/30",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:n,onChange:v=>a(v.target.checked),className:"w-5 h-5 rounded border-blue-500/30 text-blue-600 focus:ring-blue-500 focus:ring-offset-0 bg-slate-600"}),e.jsxs("label",{htmlFor:"isActive",className:"flex-1 cursor-pointer",children:[e.jsx("div",{className:"text-white font-medium",children:"Activar transmisión en vivo"}),e.jsx("div",{className:"text-blue-400 text-sm",children:"Cuando está activo, el reproductor se mostrará en la página de inicio"})]}),n&&e.jsxs("span",{className:"flex items-center space-x-2 px-3 py-1 bg-red-500/20 text-red-300 rounded-full text-sm font-medium",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),e.jsx("span",{children:"EN VIVO"})]})]}),e.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-blue-900/40 to-purple-900/40 border-2 border-blue-500/40 rounded-2xl space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(Dn,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Videos Offline"}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Muestra contenido grabado cuando no estés en vivo"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-600/20 rounded-xl border-2 border-blue-500/40",children:[e.jsx("input",{type:"checkbox",id:"showOffline",checked:g,onChange:v=>m(v.target.checked),className:"w-6 h-6 rounded border-blue-500/30 text-blue-600 focus:ring-blue-500 focus:ring-offset-0 bg-slate-600"}),e.jsxs("label",{htmlFor:"showOffline",className:"flex-1 cursor-pointer",children:[e.jsx("div",{className:"text-white font-bold text-lg",children:"Activar Contenido Offline"}),e.jsx("div",{className:"text-blue-300 text-sm",children:"Activa esta opción para mostrar videos grabados cuando no estés transmitiendo en vivo"})]}),g&&e.jsxs("span",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-500/30 text-blue-200 rounded-full text-sm font-bold",children:[e.jsx("span",{className:"w-3 h-3 bg-blue-400 rounded-full"}),e.jsx("span",{children:"ACTIVO"})]})]}),e.jsxs("div",{className:"bg-slate-800/60 p-4 rounded-xl border border-blue-600/30",children:[e.jsx("label",{className:"block text-blue-300 text-sm font-bold mb-2",children:"URL del Video/Stream Offline"}),e.jsx("input",{type:"text",value:o,onChange:v=>p(v.target.value),placeholder:"https://youtube.com/watch?v=... o https://twitch.tv/videos/...",className:"w-full px-4 py-3 bg-slate-700/60 border border-blue-600/40 rounded-xl text-white placeholder-blue-300/50 focus:outline-none focus:border-blue-400 transition-colors"}),e.jsxs("p",{className:"text-blue-400 text-xs mt-2 flex items-start space-x-1",children:[e.jsx("span",{children:"💡"}),e.jsx("span",{children:"Este video se mostrará cuando actives la opción offline. Soporta YouTube y Twitch VODs."})]})]}),e.jsxs("div",{className:"bg-slate-800/60 p-4 rounded-xl border border-blue-600/30",children:[e.jsx("label",{className:"block text-blue-300 text-sm font-bold mb-2",children:"Texto Descriptivo para Contenido Offline"}),e.jsx("textarea",{value:u,onChange:v=>f(v.target.value),placeholder:"Ej: Revive nuestro último torneo, Mejores momentos de la semana, Highlights del campeonato...",rows:2,className:"w-full px-4 py-3 bg-slate-700/60 border border-blue-600/40 rounded-xl text-white placeholder-blue-300/50 focus:outline-none focus:border-blue-400 transition-colors resize-none"}),e.jsx("p",{className:"text-blue-400 text-xs mt-2",children:"Este texto aparecerá como título del reproductor offline"})]})]}),t&&e.jsxs("button",{onClick:()=>h(!N),className:"flex items-center space-x-2 text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsxs("span",{children:[N?"Ocultar":"Ver"," vista previa"]})]}),j&&e.jsxs("div",{className:`flex items-center space-x-2 p-4 rounded-xl ${j.type==="success"?"bg-green-500/20 border border-green-500/30 text-green-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[j.type==="success"?e.jsx(tt,{className:"w-5 h-5"}):e.jsx(Hr,{className:"w-5 h-5"}),e.jsx("span",{children:j.text})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:b,disabled:i,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-5 h-5"}),e.jsx("span",{children:i?"Guardando...":"Guardar Configuración"})]})})]})]}),N&&t&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Vista Previa"}),e.jsx("div",{className:"bg-black rounded-xl overflow-hidden aspect-video",children:e.jsx("iframe",{src:t,className:"w-full h-full",frameBorder:"0",allowFullScreen:!0,allow:"autoplay; encrypted-media; picture-in-picture"})}),e.jsx("p",{className:"text-blue-400 text-sm mt-3",children:"Así es como se verá el reproductor en la página de inicio"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-600/10 to-purple-600/10 border border-blue-500/30 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[e.jsx("span",{children:"📋"}),e.jsx("span",{children:"Guía de Uso"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-red-300 font-bold mb-2 flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),e.jsx("span",{children:"Transmisión en Vivo"})]}),e.jsx("p",{className:"text-blue-200 text-sm",children:'Activa cuando estés transmitiendo en vivo. Se mostrará con el indicador rojo "EN VIVO" parpadeante. Tiene prioridad sobre el contenido offline.'})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-blue-300 font-bold mb-2 flex items-center space-x-2",children:[e.jsx(Dn,{className:"w-4 h-4"}),e.jsx("span",{children:"Videos Offline"})]}),e.jsx("p",{className:"text-blue-200 text-sm mb-2",children:"Muestra contenido grabado (replays, highlights, torneos) cuando no estés transmitiendo en vivo. Perfecto para mantener a tus visitantes entretenidos."}),e.jsx("p",{className:"text-blue-300 text-xs italic",children:"✨ Nueva funcionalidad destacada en la sección superior"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:[e.jsx("p",{className:"text-purple-300 font-bold text-sm mb-1",children:"🎮 Twitch"}),e.jsxs("p",{className:"text-blue-200 text-xs",children:["Canal: twitch.tv/usuario",e.jsx("br",{}),"VOD: twitch.tv/videos/123"]})]}),e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[e.jsx("p",{className:"text-red-300 font-bold text-sm mb-1",children:"📺 YouTube"}),e.jsxs("p",{className:"text-blue-200 text-xs",children:["youtube.com/watch?v=ID",e.jsx("br",{}),"youtu.be/VIDEO_ID"]})]}),e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[e.jsx("p",{className:"text-green-300 font-bold text-sm mb-1",children:"⚡ Kick"}),e.jsxs("p",{className:"text-blue-200 text-xs",children:["kick.com/tu_usuario",e.jsx("br",{}),"Streams en vivo"]})]})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:e.jsxs("p",{className:"text-yellow-300 text-sm",children:[e.jsx("strong",{children:"⚠️ Importante:"})," Solo se muestra un reproductor a la vez. Si ambos están activos, el stream en vivo tiene prioridad sobre el contenido offline."]})})]})]})]})},Hf=()=>{const[t,r]=q.useState([]),[n,a]=q.useState(!0),[s,l]=q.useState(null),[o,p]=q.useState(!1),[u,f]=q.useState(!1),{themeConfig:g}=Ya(),[m,i]=q.useState({name:"",logo:"",website:"",whatsapp:"",instagram:"",facebook:"",youtube:"",twitch:"",kick:"",is_active:!0});q.useEffect(()=>{d()},[]);const d=async()=>{try{const v=await(await fetch("/api/sponsors/get-all.php")).json();v.success&&r(v.data)}catch(v){console.error("Error al cargar sponsors:",v)}finally{a(!1)}},j=async v=>{v.preventDefault();try{const k=s?"/api/sponsors/update.php":"/api/sponsors/create.php",w=s?"PUT":"POST",S=s?{...m,id:s}:m,E=await(await fetch(k,{method:w,headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})).json();E.success?(await d(),x()):alert(E.message||"Error al guardar el sponsor")}catch(k){console.error("Error:",k),alert("Error al guardar el sponsor")}},y=async v=>{if(confirm("¿Estás seguro de eliminar este sponsor?"))try{const k=await(await fetch("/api/sponsors/delete.php",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:v})})).json();k.success?await d():alert(k.message||"Error al eliminar el sponsor")}catch(k){console.error("Error:",k),alert("Error al eliminar el sponsor")}},N=v=>{i({name:v.name,logo:v.logo,website:v.website||"",whatsapp:v.whatsapp||"",instagram:v.instagram||"",facebook:v.facebook||"",youtube:v.youtube||"",twitch:v.twitch||"",kick:v.kick||"",is_active:v.is_active}),l(v.id),p(!0)},h=async v=>{var k;const w=(k=v.target.files)==null?void 0:k[0];if(w){f(!0);try{const S=new FormData;S.append("image",w);const E=await(await fetch("/api/sponsors/upload-image.php",{method:"POST",body:S})).json();E.success?i(C=>({...C,logo:E.url})):alert(E.message||"Error al subir la imagen")}catch(S){console.error("Error:",S),alert("Error al subir la imagen")}finally{f(!1)}}},c=async(v,k)=>{try{(await(await fetch("/api/sponsors/update.php",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:v,is_active:!k})})).json()).success&&await d()}catch(w){console.error("Error:",w)}},b=async(v,k)=>{const w=t.findIndex(O=>O.id===v);if(w===-1)return;const S=k==="up"?w-1:w+1;if(S<0||S>=t.length)return;const E=t[w],C=t[S];try{await Promise.all([fetch("/api/sponsors/update.php",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:E.id,display_order:C.display_order})}),fetch("/api/sponsors/update.php",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:C.id,display_order:E.display_order})})]),await d()}catch(O){console.error("Error:",O)}},x=()=>{i({name:"",logo:"",website:"",whatsapp:"",instagram:"",facebook:"",youtube:"",twitch:"",kick:"",is_active:!0}),l(null),p(!1)};return n?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent rounded-full animate-spin mx-auto",style:{borderColor:`${g.colors.primary} transparent transparent transparent`}})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",style:{color:g.colors.text},children:"Gestión de Sponsors"}),e.jsxs("button",{onClick:()=>p(!o),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors",style:{backgroundColor:g.colors.primary,color:"white"},children:[o?e.jsx(Ee,{className:"w-4 h-4"}):e.jsx(Re,{className:"w-4 h-4"}),o?"Cancelar":"Nuevo Sponsor"]})]}),o&&e.jsxs("form",{onSubmit:j,className:"p-6 rounded-xl border space-y-4",style:{backgroundColor:`${g.colors.surface}40`,borderColor:g.colors.border},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",style:{color:g.colors.text},children:"Nombre del Sponsor *"}),e.jsx("input",{type:"text",value:m.name,onChange:v=>i({...m,name:v.target.value}),required:!0,className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:`${g.colors.surface}80`,borderColor:g.colors.border,color:g.colors.text}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",style:{color:g.colors.text},children:"Logo *"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:m.logo,onChange:v=>i({...m,logo:v.target.value}),placeholder:"URL del logo o sube una imagen",required:!0,className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:`${g.colors.surface}80`,borderColor:g.colors.border,color:g.colors.text}}),e.jsxs("label",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg border cursor-pointer transition-colors",style:{backgroundColor:`${g.colors.surface}80`,borderColor:g.colors.border,color:g.colors.text},children:[e.jsx(pc,{className:"w-4 h-4"}),u?"Subiendo...":"Subir Imagen",e.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:u})]})]}),m.logo&&e.jsx("div",{className:"mt-2 p-4 rounded-lg bg-white/5",children:e.jsx("img",{src:m.logo,alt:"Preview",className:"max-h-32 mx-auto"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",style:{color:g.colors.text},children:"Website"}),e.jsx("input",{type:"url",value:m.website,onChange:v=>i({...m,website:v.target.value}),className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:`${g.colors.surface}80`,borderColor:g.colors.border,color:g.colors.text}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",style:{color:g.colors.text},children:"WhatsApp"}),e.jsx("input",{type:"url",value:m.whatsapp,onChange:v=>i({...m,whatsapp:v.target.value}),placeholder:"https://wa.me/56...",className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:`${g.colors.surface}80`,borderColor:g.colors.border,color:g.colors.text}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",style:{color:g.colors.text},children:"Instagram"}),e.jsx("input",{type:"url",value:m.instagram,onChange:v=>i({...m,instagram:v.target.value}),placeholder:"https://instagram.com/...",className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:`${g.colors.surface}80`,borderColor:g.colors.border,color:g.colors.text}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",style:{color:g.colors.text},children:"Facebook"}),e.jsx("input",{type:"url",value:m.facebook,onChange:v=>i({...m,facebook:v.target.value}),placeholder:"https://facebook.com/...",className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:`${g.colors.surface}80`,borderColor:g.colors.border,color:g.colors.text}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",style:{color:g.colors.text},children:"YouTube"}),e.jsx("input",{type:"url",value:m.youtube,onChange:v=>i({...m,youtube:v.target.value}),placeholder:"https://youtube.com/...",className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:`${g.colors.surface}80`,borderColor:g.colors.border,color:g.colors.text}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",style:{color:g.colors.text},children:"Twitch"}),e.jsx("input",{type:"url",value:m.twitch,onChange:v=>i({...m,twitch:v.target.value}),placeholder:"https://twitch.tv/...",className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:`${g.colors.surface}80`,borderColor:g.colors.border,color:g.colors.text}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",style:{color:g.colors.text},children:"Kick"}),e.jsx("input",{type:"url",value:m.kick,onChange:v=>i({...m,kick:v.target.value}),placeholder:"https://kick.com/...",className:"w-full px-4 py-2 rounded-lg border",style:{backgroundColor:`${g.colors.surface}80`,borderColor:g.colors.border,color:g.colors.text}})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:m.is_active,onChange:v=>i({...m,is_active:v.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"is_active",style:{color:g.colors.text},children:"Sponsor activo"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors",style:{backgroundColor:g.colors.primary,color:"white"},children:[e.jsx(We,{className:"w-4 h-4"}),s?"Actualizar":"Crear"," Sponsor"]}),s&&e.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 rounded-lg transition-colors",style:{backgroundColor:`${g.colors.surface}80`,color:g.colors.text},children:"Cancelar"})]})]}),e.jsxs("div",{className:"space-y-4",children:[t.map((v,k)=>e.jsxs("div",{className:"p-4 rounded-xl border flex items-center gap-4",style:{backgroundColor:`${g.colors.surface}40`,borderColor:g.colors.border,opacity:v.is_active?1:.6},children:[e.jsx("img",{src:v.logo,alt:v.name,className:"w-20 h-20 object-contain rounded-lg bg-white/5 p-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold",style:{color:g.colors.text},children:v.name}),e.jsx("p",{className:"text-sm",style:{color:g.colors.textSecondary},children:v.is_active?"Activo":"Inactivo"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>b(v.id,"up"),disabled:k===0,className:"p-2 rounded-lg transition-colors disabled:opacity-30",style:{backgroundColor:`${g.colors.surface}80`,color:g.colors.text},children:e.jsx(zx,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(v.id,"down"),disabled:k===t.length-1,className:"p-2 rounded-lg transition-colors disabled:opacity-30",style:{backgroundColor:`${g.colors.surface}80`,color:g.colors.text},children:e.jsx(Rx,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c(v.id,v.is_active),className:"p-2 rounded-lg transition-colors",style:{backgroundColor:`${g.colors.surface}80`,color:g.colors.text},children:v.is_active?e.jsx(bt,{className:"w-4 h-4"}):e.jsx(Be,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(v),className:"p-2 rounded-lg transition-colors",style:{backgroundColor:g.colors.primary,color:"white"},children:e.jsx(Tm,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y(v.id),className:"p-2 rounded-lg transition-colors",style:{backgroundColor:"#ef4444",color:"white"},children:e.jsx(ot,{className:"w-4 h-4"})})]})]},v.id)),t.length===0&&e.jsx("div",{className:"text-center py-8 rounded-xl border",style:{backgroundColor:`${g.colors.surface}40`,borderColor:g.colors.border,color:g.colors.textSecondary},children:"No hay sponsors registrados"})]})]})},Vf=()=>{const[t,r]=q.useState([]),[n,a]=q.useState(!0),[s,l]=q.useState(!1),[o,p]=q.useState(!1),[u,f]=q.useState(null),[g,m]=q.useState(""),[i,d]=q.useState({name:"",ip:"",port:"",is_active:!0,show_in_ranking:!0});q.useEffect(()=>{j()},[]);const j=async()=>{try{a(!0);const x=await(await fetch(`${ue}/servers/get-all.php?include_inactive=true`,{credentials:"include"})).json();x.success?r(x.servers):m(x.message||"Error al cargar servidores")}catch(x){m("Error de conexión al cargar servidores"),console.error(x)}finally{a(!1)}},y=async()=>{if(!i.name.trim()||!i.ip.trim()||!i.port){m("Todos los campos son requeridos");return}const x=parseInt(i.port);if(isNaN(x)||x<1||x>65535){m("Puerto inválido (debe estar entre 1 y 65535)");return}try{const v=await(await fetch(`${ue}/servers/create.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:i.name.trim(),ip:i.ip.trim(),port:x,is_active:i.is_active?1:0,show_in_ranking:i.show_in_ranking?1:0})})).json();v.success?(l(!1),d({name:"",ip:"",port:"",is_active:!0,show_in_ranking:!0}),m(""),await j()):m(v.message||"Error al crear servidor")}catch(v){m("Error de conexión al crear servidor"),console.error(v)}},N=async()=>{if(!u)return;if(!i.name.trim()||!i.ip.trim()||!i.port){m("Todos los campos son requeridos");return}const x=parseInt(i.port);if(isNaN(x)||x<1||x>65535){m("Puerto inválido (debe estar entre 1 y 65535)");return}try{const v=await(await fetch(`${ue}/servers/update.php`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:u.id,name:i.name.trim(),ip:i.ip.trim(),port:x,is_active:i.is_active?1:0,show_in_ranking:i.show_in_ranking?1:0})})).json();v.success?(p(!1),f(null),d({name:"",ip:"",port:"",is_active:!0,show_in_ranking:!0}),m(""),await j()):m(v.message||"Error al actualizar servidor")}catch(v){m("Error de conexión al actualizar servidor"),console.error(v)}},h=async(x,v)=>{if(confirm(`¿Estás seguro de que quieres eliminar el servidor "${v}"?`))try{const k=await(await fetch(`${ue}/servers/delete.php`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:x})})).json();k.success?await j():alert(k.message||"Error al eliminar servidor")}catch(k){alert("Error de conexión al eliminar servidor"),console.error(k)}},c=x=>{f(x),d({name:x.name,ip:x.ip,port:x.port.toString(),is_active:x.is_active,show_in_ranking:x.show_in_ranking}),m(""),p(!0)},b=()=>{l(!1),p(!1),f(null),d({name:"",ip:"",port:"",is_active:!0,show_in_ranking:!0}),m("")};return n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(Vt,{className:"w-6 h-6 text-blue-400"}),e.jsx("span",{children:"Gestión de Servidores"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Agregar Servidor"})]})]}),e.jsx("div",{className:"space-y-4",children:t.length===0?e.jsx("div",{className:"text-center py-8 text-blue-300",children:"No hay servidores configurados"}):t.map(x=>e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsx("div",{className:"p-3 bg-blue-600/20 rounded-lg",children:e.jsx(Vt,{className:`w-6 h-6 ${x.is_active?"text-blue-400":"text-gray-500"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"font-bold text-white",children:x.name}),!x.is_active&&e.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-300 rounded-full text-xs",children:"Inactivo"}),x.show_in_ranking&&e.jsxs("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-xs flex items-center space-x-1",children:[e.jsx(jt,{className:"w-3 h-3"}),e.jsx("span",{children:"Ranking"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-blue-400",children:[e.jsxs("code",{className:"bg-slate-800/60 px-2 py-1 rounded font-mono",children:[x.ip,":",x.port]}),e.jsxs("span",{children:["Orden: ",x.display_order]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>c(x),className:"p-2 bg-blue-600/20 hover:bg-blue-600/40 rounded-lg text-blue-300 transition-colors",title:"Editar servidor",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(x.id,x.name),className:"p-2 bg-red-600/20 hover:bg-red-600/40 rounded-lg text-red-300 transition-colors",title:"Eliminar servidor",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})},x.id))}),(s||o)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:s?"Agregar Servidor":"Editar Servidor"}),e.jsx("button",{onClick:b,className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),g&&e.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start space-x-2",children:[e.jsx(Hr,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-red-300 text-sm",children:g})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Servidor"}),e.jsx("input",{type:"text",value:i.name,onChange:x=>d({...i,name:x.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Servidor Principal"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Dirección IP"}),e.jsx("input",{type:"text",value:i.ip,onChange:x=>d({...i,ip:x.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors font-mono",placeholder:"192.168.1.100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Puerto"}),e.jsx("input",{type:"number",value:i.port,onChange:x=>d({...i,port:x.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors font-mono",placeholder:"7777",min:"1",max:"65535"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-700/40 rounded-xl",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:x=>d({...i,is_active:x.target.checked}),className:"rounded border-blue-600/30 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"text-blue-300 flex items-center space-x-2 cursor-pointer",children:i.is_active?e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:"Servidor activo"})]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:"Servidor inactivo"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-700/40 rounded-xl",children:[e.jsx("input",{type:"checkbox",id:"show_in_ranking",checked:i.show_in_ranking,onChange:x=>d({...i,show_in_ranking:x.target.checked}),className:"rounded border-blue-600/30 text-blue-600 focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"show_in_ranking",className:"text-blue-300 flex items-center space-x-2 cursor-pointer",children:[e.jsx(jt,{className:"w-4 h-4"}),e.jsx("span",{children:"Mostrar en ranking"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:s?y:N,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:s?"Crear Servidor":"Guardar Cambios"})]}),e.jsx("button",{onClick:b,className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})})]})},Wf=()=>{const{user:t,users:r,news:n,clans:a,createNews:s,updateNews:l,deleteNews:o,updateUser:p,toggleUserStatus:u,deleteUser:f,createClan:g,updateClan:m,deleteClan:i,getDeletedComments:d,restoreComment:j}=ht(),{bannerItems:y,updateBannerItems:N,isEnabled:h,setIsEnabled:c}=hc(),[b,x]=q.useState("overview"),[v,k]=q.useState(!1),[w,S]=q.useState(!1),[E,C]=q.useState(!1),[O,_]=q.useState(!1),[A,R]=q.useState(!1),[I,z]=q.useState(null),[ee,B]=q.useState(null),[M,P]=q.useState(null),[L,F]=q.useState([]),[W,G]=q.useState(!1),[V,$]=q.useState({title:"",content:"",image:"",author:(t==null?void 0:t.username)||"",isPinned:!1}),[U,X]=q.useState({name:"",tag:"",icon:"crown",logo:"",leaderId:"",description:""});if(!t||t.role!=="admin")return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ye,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Acceso Denegado"}),e.jsx("p",{className:"text-red-300",children:"No tienes permisos para acceder al panel de administración"})]});q.useEffect(()=>{b==="moderation"&&le()},[b]);const le=async()=>{G(!0);try{const H=await d();F(H)}catch(H){console.error("Error loading deleted comments:",H)}finally{G(!1)}},ae=async()=>{!V.title.trim()||!V.content.trim()||await s({...V,date:new Date().toISOString()})&&(k(!1),$({title:"",content:"",image:"",author:(t==null?void 0:t.username)||"",isPinned:!1}))},J=async()=>{!I||!I.title.trim()||!I.content.trim()||await l(I.id,I)&&(S(!1),z(null))},ne=async H=>{if(confirm("¿Estás seguro de que quieres eliminar esta noticia?")){const he=await o(H);alert(he?"Noticia eliminada exitosamente":"Error al eliminar la noticia. Por favor, intenta de nuevo.")}},D=async()=>{!U.name.trim()||!U.tag.trim()||(console.log("🏰 Creando clan con datos:",U),await g(U)?(C(!1),X({name:"",tag:"",icon:"crown",logo:"",leaderId:"",description:""})):alert("Error al crear el clan. Verifica que el nombre y tag no estén en uso."))},ie=async()=>{!ee||!ee.name.trim()||!ee.tag.trim()||await m(ee.id,ee)&&(_(!1),B(null))},me=async H=>{confirm("¿Estás seguro de que quieres eliminar este clan? Todos los miembros perderán su afiliación.")&&await i(H)},ge=async H=>{confirm("¿Estás seguro de que quieres restaurar este comentario?")&&await j("",H)&&le()},pe=H=>{P(H),R(!0)},te=()=>{P(null),R(!1)},Z=H=>{const he=[{id:"crown",icon:Ce,name:"Corona",color:"text-yellow-400"},{id:"sword",icon:ye,name:"Espada",color:"text-red-400"},{id:"shield",icon:ye,name:"Escudo",color:"text-blue-400"},{id:"star",icon:Ve,name:"Estrella",color:"text-purple-400"},{id:"zap",icon:Rn,name:"Rayo",color:"text-green-400"},{id:"target",icon:Ze,name:"Diana",color:"text-orange-400"}];return he.find(ve=>ve.id===H)||he[0]},re=H=>new Date(H).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Q=[{id:"overview",label:"Resumen",icon:ef,color:"text-blue-400"},{id:"users",label:"Usuarios",icon:je,color:"text-green-400"},{id:"servers",label:"Servidores",icon:ga,color:"text-cyan-400"},{id:"player-stats",label:"Estadísticas",icon:jt,color:"text-yellow-400"},{id:"news",label:"Noticias",icon:ao,color:"text-purple-400"},{id:"clans",label:"Clanes",icon:ye,color:"text-yellow-400"},{id:"tournaments",label:"Torneos",icon:Ne,color:"text-orange-400"},{id:"maps",label:"Mapas",icon:qn,color:"text-pink-400"},{id:"sponsors",label:"Sponsors",icon:jt,color:"text-emerald-400"},{id:"streaming",label:"Streaming",icon:Dn,color:"text-red-400"},{id:"banner",label:"Banner",icon:lr,color:"text-cyan-400"},{id:"moderation",label:"Moderación",icon:Zt,color:"text-red-400"}],K=[{label:"Total Usuarios",value:r.length,icon:je,color:"text-blue-400"},{label:"Usuarios Online",value:r.filter(H=>H.isOnline&&H.isActive).length,icon:co,color:"text-green-400"},{label:"Total Noticias",value:n.length,icon:ao,color:"text-purple-400"},{label:"Total Clanes",value:a.length,icon:ye,color:"text-yellow-400"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-red-600/20 rounded-xl",children:e.jsx(vr,{className:"w-6 h-6 text-red-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Panel de Administración"}),e.jsx("p",{className:"text-blue-300",children:"Gestiona todos los aspectos de la comunidad"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(H=>{const he=H.icon;return e.jsxs("button",{onClick:()=>x(H.id),className:`
                  flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-300
                  ${b===H.id?"bg-blue-600 text-white shadow-lg":"text-blue-300 hover:bg-blue-600/20 hover:text-blue-200"}
                `,children:[e.jsx(he,{className:`w-4 h-4 ${b===H.id?"text-white":H.color}`}),e.jsx("span",{children:H.label})]},H.id)})})]}),b==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:K.map((H,he)=>{const ve=H.icon;return e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ve,{className:`w-8 h-8 ${H.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:H.value}),e.jsx("p",{className:"text-blue-300 text-sm",children:H.label})]})]})},he)})}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Acciones Rápidas"}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>k(!0),className:"flex items-center space-x-3 p-4 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/30 rounded-xl text-purple-300 hover:text-purple-200 transition-all duration-300",children:[e.jsx(Re,{className:"w-5 h-5"}),e.jsx("span",{children:"Crear Noticia"})]}),e.jsxs("button",{onClick:()=>C(!0),className:"flex items-center space-x-3 p-4 bg-yellow-600/20 hover:bg-yellow-600/30 border border-yellow-500/30 rounded-xl text-yellow-300 hover:text-yellow-200 transition-all duration-300",children:[e.jsx(Re,{className:"w-5 h-5"}),e.jsx("span",{children:"Crear Clan"})]}),e.jsxs("button",{onClick:()=>x("maps"),className:"flex items-center space-x-3 p-4 bg-pink-600/20 hover:bg-pink-600/30 border border-pink-500/30 rounded-xl text-pink-300 hover:text-pink-200 transition-all duration-300",children:[e.jsx(qn,{className:"w-5 h-5"}),e.jsx("span",{children:"Gestionar Mapas"})]}),e.jsxs("button",{onClick:()=>x("moderation"),className:"flex items-center space-x-3 p-4 bg-red-600/20 hover:bg-red-600/30 border border-red-500/30 rounded-xl text-red-300 hover:text-red-200 transition-all duration-300",children:[e.jsx(Zt,{className:"w-5 h-5"}),e.jsx("span",{children:"Moderación"})]})]})]})]}),b==="users"&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Gestión de Usuarios"}),e.jsx("div",{className:"space-y-4",children:r.map(H=>e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:H.avatar||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=48&h=48&fit=crop",alt:H.username,className:"w-12 h-12 rounded-full border-2 border-blue-500/30"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-bold text-white",children:H.username}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H.role==="admin"?"bg-red-500/20 text-red-300":"bg-blue-500/20 text-blue-300"}`,children:H.role}),!H.isActive&&e.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-300 rounded-full text-xs",children:"Suspendido"}),H.clan&&e.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-300 rounded-full text-xs font-mono",children:["[",H.clan,"]"]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-blue-400",children:[e.jsx("span",{children:H.hideEmail?"••••••@••••••.com":H.email}),e.jsx("span",{children:H.isOnline?"En línea":"Desconectado"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>pe(H),className:"p-2 bg-green-600/20 hover:bg-green-600/40 rounded-lg text-green-300 transition-colors",title:"Editar usuario completo",children:e.jsx(uf,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(H.id,{role:H.role==="admin"?"player":"admin"}),disabled:H.id==="1",className:"p-2 bg-blue-600/20 hover:bg-blue-600/40 disabled:bg-gray-600/20 disabled:text-gray-400 rounded-lg text-blue-300 transition-colors",title:H.role==="admin"?"Quitar admin":"Hacer admin",children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>u(H.id),disabled:H.id==="1",className:"p-2 bg-yellow-600/20 hover:bg-yellow-600/40 disabled:bg-gray-600/20 disabled:text-gray-400 rounded-lg text-yellow-300 transition-colors",title:H.isActive?"Suspender":"Activar",children:H.isActive?e.jsx(Mm,{className:"w-4 h-4"}):e.jsx(co,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(H.id),disabled:H.id==="1",className:"p-2 bg-red-600/20 hover:bg-red-600/40 disabled:bg-gray-600/20 disabled:text-gray-400 rounded-lg text-red-300 transition-colors",title:"Eliminar usuario",children:e.jsx(ot,{className:"w-4 h-4"})})]})]},H.id))})]}),b==="news"&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Gestión de Noticias"}),e.jsxs("button",{onClick:()=>k(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Crear Noticia"})]})]}),e.jsx("div",{className:"space-y-4",children:n.map(H=>e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h4",{className:"font-bold text-white",children:H.title}),H.isPinned&&e.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-xs",children:"Fijado"})]}),e.jsx("p",{className:"text-blue-200 text-sm mb-2 line-clamp-2",children:H.content}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-blue-400",children:[e.jsxs("span",{children:["Por: ",H.author]}),e.jsx("span",{children:re(H.date)}),e.jsxs("span",{children:[H.views," vistas"]}),e.jsxs("span",{children:[H.likes," likes"]}),e.jsxs("span",{children:[H.comments.filter(he=>!he.isDeleted).length," comentarios"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{z(H),S(!0)},className:"p-2 bg-blue-600/20 hover:bg-blue-600/40 rounded-lg text-blue-300 transition-colors",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ne(H.id),className:"p-2 bg-red-600/20 hover:bg-red-600/40 rounded-lg text-red-300 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})},H.id))})]}),b==="clans"&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Gestión de Clanes"}),e.jsxs("button",{onClick:()=>C(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:"Crear Clan"})]})]}),e.jsx("div",{className:"space-y-4",children:a.map(H=>{const he=Z(H.icon).icon,ve=Z(H.icon).color,Se=r.find(ke=>ke.id===H.leaderId);return e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-blue-500/30 bg-slate-600/40 flex items-center justify-center",children:e.jsx(he,{className:`w-6 h-6 ${ve}`})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-bold text-white",children:H.name}),e.jsxs("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 rounded-full text-xs font-mono",children:["[",H.tag,"]"]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-blue-400",children:[e.jsxs("span",{children:[H.members," miembros"]}),Se&&e.jsxs("span",{children:["Líder: ",Se.username]}),e.jsx("span",{children:re(H.createdAt)})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{B(H),_(!0)},className:"p-2 bg-blue-600/20 hover:bg-blue-600/40 rounded-lg text-blue-300 transition-colors",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>me(H.id),className:"p-2 bg-red-600/20 hover:bg-red-600/40 rounded-lg text-red-300 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})},H.id)})})]}),b==="tournaments"&&e.jsx($f,{}),b==="maps"&&e.jsx(zf,{}),b==="banner"&&e.jsx(Rf,{bannerItems:y,onUpdateBanner:N}),b==="streaming"&&e.jsx(Bf,{}),b==="sponsors"&&e.jsx(Hf,{}),b==="servers"&&e.jsx(Vf,{}),b==="player-stats"&&e.jsx(Uf,{}),b==="moderation"&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center space-x-2",children:[e.jsx(Zt,{className:"w-6 h-6 text-red-400"}),e.jsx("span",{children:"Moderación de Contenido"})]}),W?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):L.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(tt,{className:"w-16 h-16 text-green-400 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No hay comentarios eliminados"}),e.jsx("p",{className:"text-green-300",children:"Todos los comentarios están en buen estado"})]}):e.jsx("div",{className:"space-y-4",children:L.map(H=>e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("img",{src:H.authorAvatar,alt:H.author,className:"w-8 h-8 rounded-full border border-red-500/30"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-red-300",children:H.author}),e.jsxs("span",{className:"text-red-400 text-sm ml-2",children:['en "',H.newsTitle,'"']})]})]}),e.jsx("p",{className:"text-red-200 mb-3 bg-red-500/10 p-3 rounded-lg",children:H.content}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-red-400",children:[e.jsxs("span",{children:["Eliminado por: ",H.deletedBy]}),e.jsxs("span",{children:["Fecha: ",re(H.deletedAt)]}),e.jsxs("span",{children:["Razón: ",H.deletionReason]})]})]}),e.jsx("button",{onClick:()=>ge(H.id),className:"p-2 bg-green-600/20 hover:bg-green-600/40 rounded-lg text-green-300 transition-colors",title:"Restaurar comentario",children:e.jsx(Am,{className:"w-4 h-4"})})]})},H.id))})]}),e.jsx(Ff,{user:M,isOpen:A,onClose:()=>{R(!1),P(null)},onSave:te}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Crear Nueva Noticia"}),e.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Título"}),e.jsx("input",{type:"text",value:V.title,onChange:H=>$({...V,title:H.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Título de la noticia"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Contenido"}),e.jsx("textarea",{value:V.content,onChange:H=>$({...V,content:H.target.value}),rows:6,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Contenido de la noticia"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"URL de Imagen"}),e.jsx("input",{type:"url",value:V.image,onChange:H=>$({...V,image:H.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"isPinned",checked:V.isPinned,onChange:H=>$({...V,isPinned:H.target.checked}),className:"rounded border-blue-600/30"}),e.jsx("label",{htmlFor:"isPinned",className:"text-blue-300",children:"Fijar noticia"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:ae,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Crear Noticia"})]}),e.jsx("button",{onClick:()=>k(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),w&&I&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Noticia"}),e.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Título"}),e.jsx("input",{type:"text",value:I.title,onChange:H=>z({...I,title:H.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Contenido"}),e.jsx("textarea",{value:I.content,onChange:H=>z({...I,content:H.target.value}),rows:6,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"URL de Imagen"}),e.jsx("input",{type:"url",value:I.image,onChange:H=>z({...I,image:H.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"editIsPinned",checked:I.isPinned,onChange:H=>z({...I,isPinned:H.target.checked}),className:"rounded border-blue-600/30"}),e.jsx("label",{htmlFor:"editIsPinned",className:"text-blue-300",children:"Fijar noticia"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:J,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Guardar Cambios"})]}),e.jsx("button",{onClick:()=>S(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Crear Nuevo Clan"}),e.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Clan"}),e.jsx("input",{type:"text",value:U.name,onChange:H=>X({...U,name:H.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Nombre del clan"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Tag del Clan"}),e.jsx("input",{type:"text",value:U.tag,onChange:H=>X({...U,tag:H.target.value.toUpperCase()}),maxLength:8,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"TAG"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Icono del Clan"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"crown",icon:Ce,name:"Corona",color:"text-yellow-400"},{id:"sword",icon:ye,name:"Espada",color:"text-red-400"},{id:"shield",icon:ye,name:"Escudo",color:"text-blue-400"},{id:"star",icon:Ve,name:"Estrella",color:"text-purple-400"},{id:"zap",icon:Rn,name:"Rayo",color:"text-green-400"},{id:"target",icon:Ze,name:"Diana",color:"text-orange-400"}].map(H=>{const he=H.icon;return e.jsxs("button",{onClick:()=>X({...U,icon:H.id}),className:`flex items-center space-x-2 p-3 rounded-lg border transition-all ${U.icon===H.id?"bg-blue-600/20 border-blue-500/30 text-blue-300":"bg-slate-700/40 border-slate-600/30 text-slate-400 hover:bg-slate-700/60"}`,children:[e.jsx(he,{className:`w-5 h-5 ${H.color}`}),e.jsx("span",{className:"text-sm",children:H.name})]},H.id)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Líder del Clan (Opcional)"}),e.jsxs("select",{value:U.leaderId,onChange:H=>X({...U,leaderId:H.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Sin líder asignado"}),r.filter(H=>H.isActive).map(H=>e.jsxs("option",{value:H.id,children:[H.username," (",H.email,")"]},H.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"URL del Logo (Opcional)"}),e.jsx("input",{type:"url",value:U.logo,onChange:H=>X({...U,logo:H.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"https://ejemplo.com/logo.png"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Descripción"}),e.jsx("textarea",{value:U.description,onChange:H=>X({...U,description:H.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Descripción del clan..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:D,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Crear Clan"})]}),e.jsx("button",{onClick:()=>C(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})}),O&&ee&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-700/30 p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Clan"}),e.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-slate-700 rounded-lg text-blue-300 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre del Clan"}),e.jsx("input",{type:"text",value:ee.name,onChange:H=>B({...ee,name:H.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Tag del Clan"}),e.jsx("input",{type:"text",value:ee.tag,onChange:H=>B({...ee,tag:H.target.value.toUpperCase()}),maxLength:8,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Icono del Clan"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"crown",icon:Ce,name:"Corona",color:"text-yellow-400"},{id:"sword",icon:ye,name:"Espada",color:"text-red-400"},{id:"shield",icon:ye,name:"Escudo",color:"text-blue-400"},{id:"star",icon:Ve,name:"Estrella",color:"text-purple-400"},{id:"zap",icon:Rn,name:"Rayo",color:"text-green-400"},{id:"target",icon:Ze,name:"Diana",color:"text-orange-400"}].map(H=>{const he=H.icon;return e.jsxs("button",{onClick:()=>B({...ee,icon:H.id}),className:`flex items-center space-x-2 p-3 rounded-lg border transition-all ${ee.icon===H.id?"bg-blue-600/20 border-blue-500/30 text-blue-300":"bg-slate-700/40 border-slate-600/30 text-slate-400 hover:bg-slate-700/60"}`,children:[e.jsx(he,{className:`w-5 h-5 ${H.color}`}),e.jsx("span",{className:"text-sm",children:H.name})]},H.id)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Líder del Clan"}),e.jsxs("select",{value:ee.leaderId||"",onChange:H=>B({...ee,leaderId:H.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"Sin líder asignado"}),r.filter(H=>H.isActive).map(H=>e.jsxs("option",{value:H.id,children:[H.username," (",H.email,")"]},H.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"URL del Logo"}),e.jsx("input",{type:"url",value:ee.logo||"",onChange:H=>B({...ee,logo:H.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"https://ejemplo.com/logo.png"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Descripción"}),e.jsx("textarea",{value:ee.description||"",onChange:H=>B({...ee,description:H.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Descripción del clan..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:ie,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Guardar Cambios"})]}),e.jsx("button",{onClick:()=>_(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})})]})},Jf=()=>{const{user:t,updateUser:r,logout:n,login:a,register:s}=ht(),[l,o]=q.useState(!1),[p,u]=q.useState(!0),[f,g]=q.useState(!1),[m,i]=q.useState("profile"),[d,j]=q.useState(!1),[y,N]=q.useState(!1),[h,c]=q.useState(null),[b,x]=q.useState([]),[v,k]=q.useState({username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",status:(t==null?void 0:t.status)||"",avatar:(t==null?void 0:t.avatar)||"",hideEmail:(t==null?void 0:t.hideEmail)||!1,playerName:(t==null?void 0:t.playerName)||""}),[w,S]=q.useState({username:"",email:"",password:"",confirmPassword:"",remember:!1}),[E,C]=q.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[O,_]=q.useState(""),[A,R]=q.useState(""),[I,z]=q.useState(""),[ee,B]=q.useState(""),[M,P]=q.useState(""),[L,F]=q.useState(!1),[W,G]=q.useState(""),[V,$]=q.useState(""),[U,X]=q.useState(null);q.useEffect(()=>{t&&(le(),ae())},[t]),q.useEffect(()=>{t&&k({username:t.username,email:t.email,status:t.status||"",avatar:t.avatar||"",hideEmail:t.hideEmail||!1,playerName:t.playerName||""})},[t==null?void 0:t.username,t==null?void 0:t.email,t==null?void 0:t.status,t==null?void 0:t.avatar,t==null?void 0:t.hideEmail,t==null?void 0:t.playerName]);const le=async()=>{if(t)try{const K=await(await fetch(`${ue}/stats/get-all.php`,{credentials:"include",cache:"no-store"})).json();if(K.success){const H=K.stats.find(ve=>ve.user_id===parseInt(t.id));H&&c(H);const he=K.titles.filter(ve=>ve.user_id===parseInt(t.id));x(he||[])}}catch(K){console.error("Error loading player stats:",K)}},ae=async()=>{if(t)try{const K=await(await fetch(`${ue}/users/get-player-stats.php?user_id=${t.id}`,{credentials:"include",cache:"no-store"})).json();K.success&&K.hasPlayerName&&K.stats?X(K):X(null)}catch(K){console.error("Error loading ranking stats:",K)}},J=K=>{const{name:H,type:he,value:ve}=K.target;if(he==="checkbox"){const Se=K.target.checked;k({...v,[H]:Se})}else k({...v,[H]:ve})},ne=K=>{const{name:H,type:he,value:ve,checked:Se}=K.target;S({...w,[H]:he==="checkbox"?Se:ve}),R("")},D=async()=>{G(""),$("");try{await r(t.id,v)?($("¡Perfil actualizado exitosamente!"),o(!1),await ae(),setTimeout(()=>{$("")},3e3)):G("Error al actualizar el perfil. Inténtalo nuevamente.")}catch(K){G(K.message||"Error al actualizar el perfil")}},ie=()=>{k({username:t.username,email:t.email,status:t.status||"",avatar:t.avatar||"",hideEmail:t.hideEmail||!1,playerName:t.playerName||""}),o(!1)},me=async K=>{K.preventDefault(),F(!0),R(""),await a(w.username,w.password,w.remember)||R("Credenciales incorrectas. Intenta nuevamente."),F(!1)},ge=async K=>{if(K.preventDefault(),F(!0),R(""),w.password!==w.confirmPassword){R("Las contraseñas no coinciden."),F(!1);return}if(w.password.length<6){R("La contraseña debe tener al menos 6 caracteres."),F(!1);return}await s(w.username,w.email,w.password)||R("El usuario o email ya existe. Intenta con otros datos."),F(!1)},pe=async K=>{if(K.preventDefault(),z(""),B(""),F(!0),E.newPassword!==E.confirmNewPassword){z("Las contraseñas nuevas no coinciden."),F(!1);return}if(E.newPassword.length<6){z("La nueva contraseña debe tener al menos 6 caracteres."),F(!1);return}try{const H=await(await fetch(`${{}.VITE_API_URL||""}/api/auth/change-password.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({currentPassword:E.currentPassword,newPassword:E.newPassword})})).json();H.success?(B("Contraseña actualizada exitosamente"),C({currentPassword:"",newPassword:"",confirmNewPassword:""}),setTimeout(()=>{j(!1),B("")},2e3)):z(H.message||"Error al cambiar la contraseña")}catch{z("Error de conexión al servidor")}F(!1)},te=async K=>{K.preventDefault(),P(""),F(!0);try{const H=await(await fetch(`${{}.VITE_API_URL||""}/api/auth/request-password-reset.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:O})})).json();P(H.message),H.success&&setTimeout(()=>{N(!1),_(""),P("")},3e3)}catch{P("Error de conexión al servidor")}F(!1)};if(!t)return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Acceso de Usuario"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"Inicia sesión o regístrate para acceder a tu perfil"})]}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:y?e.jsxs("form",{onSubmit:te,className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(al,{className:"w-12 h-12 text-yellow-400 mx-auto mb-3"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Recuperar Contraseña"}),e.jsx("p",{className:"text-blue-300 text-sm mt-2",children:"Ingresa tu email y te enviaremos instrucciones para recuperar tu contraseña"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Email"}),e.jsx("input",{type:"email",value:O,onChange:K=>_(K.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"tu@email.com"})]}),M&&e.jsx("div",{className:"p-3 bg-blue-500/20 border border-blue-500/30 rounded-lg text-blue-300 text-sm",children:M}),e.jsx("button",{type:"submit",disabled:L,className:"w-full px-6 py-3 bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-600/50 rounded-xl text-white font-medium transition-colors flex items-center justify-center space-x-2",children:L?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Enviando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(al,{className:"w-5 h-5"}),e.jsx("span",{children:"Enviar Instrucciones"})]})}),e.jsx("button",{type:"button",onClick:()=>N(!1),className:"w-full text-center text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"Volver al inicio de sesión"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex mb-6 bg-slate-700/40 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>u(!0),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all duration-300 ${p?"bg-blue-600 text-white":"text-blue-300 hover:text-blue-200"}`,children:"Iniciar Sesión"}),e.jsx("button",{onClick:()=>u(!1),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all duration-300 ${p?"text-blue-300 hover:text-blue-200":"bg-blue-600 text-white"}`,children:"Registrarse"})]}),p?e.jsxs("form",{onSubmit:me,className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(Mt,{className:"w-12 h-12 text-blue-400 mx-auto mb-3"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Iniciar Sesión"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Usuario"}),e.jsx("input",{type:"text",name:"username",value:w.username,onChange:ne,required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Ingresa tu usuario"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:f?"text":"password",name:"password",value:w.password,onChange:ne,required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors pr-12",placeholder:"Ingresa tu contraseña"}),e.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-300",children:f?e.jsx(bt,{className:"w-5 h-5"}):e.jsx(Be,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"remember",name:"remember",checked:w.remember,onChange:ne,className:"w-4 h-4 text-blue-600 bg-slate-700 border-blue-600/30 rounded focus:ring-blue-500 focus:ring-2"}),e.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-blue-300",children:"Recordar mi sesión por 30 días"})]}),A&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg text-red-300 text-sm",children:A}),e.jsx("button",{type:"submit",disabled:L,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 rounded-xl text-white font-medium transition-colors flex items-center justify-center space-x-2",children:L?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Iniciando sesión..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-5 h-5"}),e.jsx("span",{children:"Iniciar Sesión"})]})}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg text-blue-300 text-sm",children:[e.jsx("p",{className:"font-medium mb-1",children:"Recuerda:"}),e.jsx("p",{children:"tus credenciales son personales y no deben compartirse."})]}),e.jsx("button",{type:"button",onClick:()=>N(!0),className:"w-full text-center text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"¿Olvidaste tu contraseña?"})]}):e.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(ll,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Crear Cuenta"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre de Usuario"}),e.jsx("input",{type:"text",name:"username",value:w.username,onChange:ne,required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Elige un nombre de usuario"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:w.email,onChange:ne,required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"tu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:f?"text":"password",name:"password",value:w.password,onChange:ne,required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors pr-12",placeholder:"Mínimo 6 caracteres"}),e.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-300",children:f?e.jsx(bt,{className:"w-5 h-5"}):e.jsx(Be,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Confirmar Contraseña"}),e.jsx("input",{type:f?"text":"password",name:"confirmPassword",value:w.confirmPassword,onChange:ne,required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Repite tu contraseña"})]}),A&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg text-red-300 text-sm",children:A}),e.jsx("button",{type:"submit",disabled:L,className:"w-full px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-xl text-white font-medium transition-colors flex items-center justify-center space-x-2",children:L?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Creando cuenta..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ll,{className:"w-5 h-5"}),e.jsx("span",{children:"Crear Cuenta"})]})})]})]})})})]});const Z=K=>new Date(K).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),re=U!=null&&U.stats?[{label:"Total Kills",value:U.stats.total_kills||0,icon:Ne,color:"text-yellow-400"},{label:"Total Muertes",value:U.stats.total_deaths||0,icon:ye,color:"text-red-400"},{label:"K/D Ratio",value:U.stats.kd_ratio||0,icon:Ve,color:"text-blue-400"}]:[{label:"Mejor Racha",value:(h==null?void 0:h.best_streak)||0,icon:Ve,color:"text-yellow-400"},{label:"Total Kills",value:(h==null?void 0:h.total_kills)||0,icon:Ne,color:"text-blue-400"},{label:"Total Muertes",value:(h==null?void 0:h.total_deaths)||0,icon:ye,color:"text-red-400"}],Q=[{id:"profile",label:"Mi Perfil",icon:yr},{id:"wall",label:"Mis Publicaciones",icon:lr}];return t.role==="admin"&&Q.push({id:"admin",label:"Administración",icon:vr}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Mi Perfil"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"Gestiona tu información personal y configuraciones"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex space-x-2 bg-slate-800/40 backdrop-blur-lg rounded-xl p-2 border border-blue-700/30",children:Q.map(K=>{const H=K.icon;return e.jsxs("button",{onClick:()=>i(K.id),className:`
                  flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all duration-300
                  ${m===K.id?"bg-blue-600 text-white shadow-lg":"text-blue-300 hover:bg-blue-600/20 hover:text-blue-200"}
                `,children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:K.label})]},K.id)})})}),m==="admin"&&t.role==="admin"&&e.jsx(Wf,{}),m==="wall"&&e.jsx($m,{userId:t.id,isOwnProfile:!0}),m==="profile"&&e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:t.avatar||"/Logo-Comunidad.png",alt:t.username,className:"w-24 h-24 rounded-full border-4 border-blue-500/30 mx-auto object-cover"}),e.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-blue-600 rounded-full text-white hover:bg-blue-700 transition-colors",children:e.jsx(Pm,{className:"w-4 h-4"})}),e.jsx("div",{className:`absolute -bottom-2 -right-8 w-6 h-6 rounded-full border-4 border-slate-800 ${t.isOnline?"bg-green-500":"bg-gray-500"}`})]}),e.jsx("h2",{className:"text-2xl font-bold text-white mt-4",children:t.username}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-2",children:[e.jsx("p",{className:"text-blue-300",children:t.hideEmail?"••••••@••••••.com":t.email}),t.hideEmail&&e.jsx(bt,{className:"w-4 h-4 text-blue-400",title:"Email oculto"})]}),t.clan&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"px-3 py-1 bg-blue-600/20 text-blue-300 rounded-full text-sm font-medium",children:["[",t.clan,"]"]})}),t.playerName&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"px-3 py-1 bg-green-600/20 text-green-300 rounded-full text-sm font-medium border border-green-500/30",children:t.playerName}),e.jsx("p",{className:"text-xs text-blue-400 mt-1",children:"Nombre en Ranking"})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center justify-center space-x-1 ${t.role==="admin"?"bg-yellow-500/20 text-yellow-300":"bg-blue-500/20 text-blue-300"}`,children:[t.role==="admin"?e.jsx(ye,{className:"w-4 h-4"}):e.jsx(Ve,{className:"w-4 h-4"}),e.jsx("span",{children:t.role==="admin"?"Administrador":"Jugador"})]})}),t.status&&e.jsx("div",{className:"mt-4 p-3 bg-slate-700/40 rounded-lg",children:e.jsxs("p",{className:"text-blue-200 italic text-sm",children:['"',t.status,'"']})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>o(!l),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-xl text-blue-300 hover:text-blue-200 font-medium transition-all duration-300",children:[e.jsx(ci,{className:"w-4 h-4"}),e.jsx("span",{children:l?"Cancelar Edición":"Editar Perfil"})]}),e.jsxs("button",{onClick:()=>{j(!d),z(""),B("")},className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-yellow-600/20 hover:bg-yellow-600/30 border border-yellow-500/30 rounded-xl text-yellow-300 hover:text-yellow-200 font-medium transition-all duration-300",children:[e.jsx(Ir,{className:"w-4 h-4"}),e.jsx("span",{children:d?"Cancelar Cambio":"Cambiar Contraseña"})]}),e.jsx("button",{onClick:n,className:"w-full px-4 py-3 bg-red-600/20 hover:bg-red-600/30 border border-red-500/30 rounded-xl text-red-300 hover:text-red-200 font-medium transition-all duration-300",children:"Cerrar Sesión"})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[d&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Ir,{className:"w-6 h-6 text-yellow-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Cambiar Contraseña"})]}),e.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Contraseña Actual"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:f?"text":"password",value:E.currentPassword,onChange:K=>C({...E,currentPassword:K.target.value}),required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors pr-12",placeholder:"Ingresa tu contraseña actual"}),e.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-300",children:f?e.jsx(bt,{className:"w-5 h-5"}):e.jsx(Be,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nueva Contraseña"}),e.jsx("input",{type:f?"text":"password",value:E.newPassword,onChange:K=>C({...E,newPassword:K.target.value}),required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Mínimo 6 caracteres"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Confirmar Nueva Contraseña"}),e.jsx("input",{type:f?"text":"password",value:E.confirmNewPassword,onChange:K=>C({...E,confirmNewPassword:K.target.value}),required:!0,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Repite tu nueva contraseña"})]}),I&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg text-red-300 text-sm",children:I}),ee&&e.jsx("div",{className:"p-3 bg-green-500/20 border border-green-500/30 rounded-lg text-green-300 text-sm",children:ee}),e.jsx("button",{type:"submit",disabled:L,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-600/50 rounded-xl text-white font-medium transition-colors",children:L?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Actualizando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Actualizar Contraseña"})]})})]})]}),V&&e.jsx("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-4 shadow-2xl",children:e.jsx("p",{className:"text-green-300 text-center font-medium",children:V})}),W&&e.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-2xl p-4 shadow-2xl",children:e.jsx("p",{className:"text-red-300 text-center font-medium",children:W})}),l&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(vr,{className:"w-6 h-6 text-blue-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Información"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre de Usuario"}),e.jsx("input",{type:"text",name:"username",value:v.username,onChange:J,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:v.email,onChange:J,className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-slate-700/40 rounded-xl",children:[e.jsx("input",{type:"checkbox",id:"hideEmail",name:"hideEmail",checked:v.hideEmail,onChange:J,className:"rounded border-blue-600/30 text-blue-600 focus:ring-blue-500 focus:ring-offset-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"hideEmail",className:"text-blue-300 font-medium cursor-pointer",children:"Ocultar mi email"}),e.jsx("p",{className:"text-blue-400 text-sm mt-1",children:"Otros jugadores no podrán ver tu dirección de correo electrónico"})]}),e.jsx(Be,{className:"w-5 h-5 text-blue-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Estado Personalizado"}),e.jsx("input",{type:"text",name:"status",value:v.status,onChange:J,placeholder:"Ej: Listo para la batalla",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"URL del Avatar"}),e.jsx("input",{type:"url",name:"avatar",value:v.avatar,onChange:J,placeholder:"https://ejemplo.com/avatar.jpg",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nombre de Jugador (Ranking)"}),e.jsx("input",{type:"text",name:"playerName",value:v.playerName,onChange:J,placeholder:"Ej: [TAG]Nickname",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"}),e.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"Ingresa tu nombre EXACTO como aparece en el servidor (respeta mayúsculas, minúsculas y caracteres especiales como =, -, _, etc.). Este nick vinculará tus estadísticas de TODOS los servidores con tu perfil."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:D,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Guardar Cambios"})]}),e.jsx("button",{onClick:ie,className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]}),(!t.playerName||!t.avatar||t.avatar==="/Logo-Comunidad.png")&&e.jsx("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 rounded-2xl p-6 shadow-2xl",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(ci,{className:"w-8 h-8 text-blue-400 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"¡Completa tu perfil!"}),e.jsx("p",{className:"text-blue-200 mb-3",children:"Personaliza tu experiencia en la comunidad editando tu perfil."}),e.jsxs("div",{className:"space-y-2 text-blue-300 text-sm",children:[(!t.avatar||t.avatar==="/Logo-Comunidad.png")&&e.jsxs("p",{children:["• Agrega tu ",e.jsx("strong",{children:"avatar personalizado"})," para destacar en la comunidad"]}),!t.playerName&&e.jsxs("p",{children:["• Vincula tu ",e.jsx("strong",{children:"nickname del servidor"})," (ej: ",e.jsx("span",{className:"font-mono bg-slate-700/40 px-2 py-1 rounded",children:"[TAG]Nickname"}),") para ver tus estadísticas del ranking"]})]}),e.jsxs("button",{onClick:()=>o(!0),className:"mt-4 flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(ci,{className:"w-4 h-4"}),e.jsx("span",{children:"Editar Perfil Ahora"})]})]})]})}),U&&U.stats&&e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Estadísticas del Ranking"}),e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-lg border border-yellow-500/30",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-bold",children:["Rank #",U.stats.rank]})]})]}),e.jsxs("div",{className:"mb-4 p-3 bg-slate-700/40 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-400 mb-1",children:"Nombre de Jugador"}),e.jsx("p",{className:"text-lg font-bold text-white",children:U.playerName})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:U.stats.total_kills||0}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Total Kills"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ye,{className:"w-8 h-8 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:U.stats.total_deaths||0}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Total Deaths"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ve,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:U.stats.kd_ratio||0}),e.jsx("p",{className:"text-blue-300 text-sm",children:"K/D Ratio"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(jt,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:U.stats.total_score||0}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Total Score"})]})]})}),e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Kt,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:U.stats.games_played||0}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Partidas"})]})]})})]})]}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Estadísticas de Juego"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:re.map((K,H)=>{const he=K.icon;return e.jsx("div",{className:"bg-slate-700/40 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{className:`w-8 h-8 ${K.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:K.value}),e.jsx("p",{className:"text-blue-300 text-sm",children:K.label})]})]})},H)})})]}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(jt,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{children:"Títulos y Logros"})]}),(h==null?void 0:h.is_champion)&&e.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-yellow-500/20 border border-yellow-500/30 rounded-xl",children:[e.jsx(Ce,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-300 font-bold",children:"CAMPEÓN"})]})]}),b.length>0?e.jsx("div",{className:"grid gap-4",children:b.map(K=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl border bg-gradient-to-r from-yellow-600/10 to-orange-600/10 border-yellow-500/30",children:[e.jsx("div",{className:"p-2 rounded-lg bg-yellow-600/20",children:e.jsx(Ne,{className:"w-6 h-6 text-yellow-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-yellow-300",children:K.title}),e.jsx("p",{className:"text-sm text-yellow-400",children:K.tournament_name}),e.jsx("p",{className:"text-xs text-yellow-500 mt-1",children:Z(K.awarded_date)})]}),e.jsx("div",{className:"text-yellow-400 font-bold text-sm",children:"🏆"})]},K.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ne,{className:"w-12 h-12 text-slate-400 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-slate-400",children:"Sin títulos todavía"})]})]})]})]})]})};function Zf(){this.__data__=[],this.size=0}var Qf=Zf;function Kf(t,r){return t===r||t!==t&&r!==r}var Um=Kf,Yf=Um;function Gf(t,r){for(var n=t.length;n--;)if(Yf(t[n][0],r))return n;return-1}var _l=Gf,Xf=_l,eb=Array.prototype,tb=eb.splice;function rb(t){var r=this.__data__,n=Xf(r,t);if(n<0)return!1;var a=r.length-1;return n==a?r.pop():tb.call(r,n,1),--this.size,!0}var nb=rb,ab=_l;function sb(t){var r=this.__data__,n=ab(r,t);return n<0?void 0:r[n][1]}var lb=sb,ib=_l;function ob(t){return ib(this.__data__,t)>-1}var cb=ob,db=_l;function ub(t,r){var n=this.__data__,a=db(n,t);return a<0?(++this.size,n.push([t,r])):n[a][1]=r,this}var mb=ub,pb=Qf,hb=nb,xb=lb,fb=cb,bb=mb;function Qn(t){var r=-1,n=t==null?0:t.length;for(this.clear();++r<n;){var a=t[r];this.set(a[0],a[1])}}Qn.prototype.clear=pb;Qn.prototype.delete=hb;Qn.prototype.get=xb;Qn.prototype.has=fb;Qn.prototype.set=bb;var Sl=Qn,gb=Sl;function vb(){this.__data__=new gb,this.size=0}var yb=vb;function jb(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}var Nb=jb;function wb(t){return this.__data__.get(t)}var kb=wb;function Eb(t){return this.__data__.has(t)}var Cb=Eb,_b=typeof Et=="object"&&Et&&Et.Object===Object&&Et,Bm=_b,Sb=Bm,Ob=typeof self=="object"&&self&&self.Object===Object&&self,Pb=Sb||Ob||Function("return this")(),Nr=Pb,Tb=Nr,Ab=Tb.Symbol,xc=Ab,zd=xc,Hm=Object.prototype,Lb=Hm.hasOwnProperty,Ib=Hm.toString,ma=zd?zd.toStringTag:void 0;function Mb(t){var r=Lb.call(t,ma),n=t[ma];try{t[ma]=void 0;var a=!0}catch{}var s=Ib.call(t);return a&&(r?t[ma]=n:delete t[ma]),s}var qb=Mb,Db=Object.prototype,Rb=Db.toString;function $b(t){return Rb.call(t)}var zb=$b,Fd=xc,Fb=qb,Ub=zb,Bb="[object Null]",Hb="[object Undefined]",Ud=Fd?Fd.toStringTag:void 0;function Vb(t){return t==null?t===void 0?Hb:Bb:Ud&&Ud in Object(t)?Fb(t):Ub(t)}var Ol=Vb;function Wb(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}var Vm=Wb,Jb=Ol,Zb=Vm,Qb="[object AsyncFunction]",Kb="[object Function]",Yb="[object GeneratorFunction]",Gb="[object Proxy]";function Xb(t){if(!Zb(t))return!1;var r=Jb(t);return r==Kb||r==Yb||r==Qb||r==Gb}var Wm=Xb,eg=Nr,tg=eg["__core-js_shared__"],rg=tg,di=rg,Bd=function(){var t=/[^.]+$/.exec(di&&di.keys&&di.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ng(t){return!!Bd&&Bd in t}var ag=ng,sg=Function.prototype,lg=sg.toString;function ig(t){if(t!=null){try{return lg.call(t)}catch{}try{return t+""}catch{}}return""}var Jm=ig,og=Wm,cg=ag,dg=Vm,ug=Jm,mg=/[\\^$.*+?()[\]{}|]/g,pg=/^\[object .+?Constructor\]$/,hg=Function.prototype,xg=Object.prototype,fg=hg.toString,bg=xg.hasOwnProperty,gg=RegExp("^"+fg.call(bg).replace(mg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vg(t){if(!dg(t)||cg(t))return!1;var r=og(t)?gg:pg;return r.test(ug(t))}var yg=vg;function jg(t,r){return t==null?void 0:t[r]}var Ng=jg,wg=yg,kg=Ng;function Eg(t,r){var n=kg(t,r);return wg(n)?n:void 0}var Kn=Eg,Cg=Kn,_g=Nr,Sg=Cg(_g,"Map"),fc=Sg,Og=Kn,Pg=Og(Object,"create"),Pl=Pg,Hd=Pl;function Tg(){this.__data__=Hd?Hd(null):{},this.size=0}var Ag=Tg;function Lg(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}var Ig=Lg,Mg=Pl,qg="__lodash_hash_undefined__",Dg=Object.prototype,Rg=Dg.hasOwnProperty;function $g(t){var r=this.__data__;if(Mg){var n=r[t];return n===qg?void 0:n}return Rg.call(r,t)?r[t]:void 0}var zg=$g,Fg=Pl,Ug=Object.prototype,Bg=Ug.hasOwnProperty;function Hg(t){var r=this.__data__;return Fg?r[t]!==void 0:Bg.call(r,t)}var Vg=Hg,Wg=Pl,Jg="__lodash_hash_undefined__";function Zg(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wg&&r===void 0?Jg:r,this}var Qg=Zg,Kg=Ag,Yg=Ig,Gg=zg,Xg=Vg,ev=Qg;function Yn(t){var r=-1,n=t==null?0:t.length;for(this.clear();++r<n;){var a=t[r];this.set(a[0],a[1])}}Yn.prototype.clear=Kg;Yn.prototype.delete=Yg;Yn.prototype.get=Gg;Yn.prototype.has=Xg;Yn.prototype.set=ev;var tv=Yn,Vd=tv,rv=Sl,nv=fc;function av(){this.size=0,this.__data__={hash:new Vd,map:new(nv||rv),string:new Vd}}var sv=av;function lv(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}var iv=lv,ov=iv;function cv(t,r){var n=t.__data__;return ov(r)?n[typeof r=="string"?"string":"hash"]:n.map}var Tl=cv,dv=Tl;function uv(t){var r=dv(this,t).delete(t);return this.size-=r?1:0,r}var mv=uv,pv=Tl;function hv(t){return pv(this,t).get(t)}var xv=hv,fv=Tl;function bv(t){return fv(this,t).has(t)}var gv=bv,vv=Tl;function yv(t,r){var n=vv(this,t),a=n.size;return n.set(t,r),this.size+=n.size==a?0:1,this}var jv=yv,Nv=sv,wv=mv,kv=xv,Ev=gv,Cv=jv;function Gn(t){var r=-1,n=t==null?0:t.length;for(this.clear();++r<n;){var a=t[r];this.set(a[0],a[1])}}Gn.prototype.clear=Nv;Gn.prototype.delete=wv;Gn.prototype.get=kv;Gn.prototype.has=Ev;Gn.prototype.set=Cv;var Zm=Gn,_v=Sl,Sv=fc,Ov=Zm,Pv=200;function Tv(t,r){var n=this.__data__;if(n instanceof _v){var a=n.__data__;if(!Sv||a.length<Pv-1)return a.push([t,r]),this.size=++n.size,this;n=this.__data__=new Ov(a)}return n.set(t,r),this.size=n.size,this}var Av=Tv,Lv=Sl,Iv=yb,Mv=Nb,qv=kb,Dv=Cb,Rv=Av;function Xn(t){var r=this.__data__=new Lv(t);this.size=r.size}Xn.prototype.clear=Iv;Xn.prototype.delete=Mv;Xn.prototype.get=qv;Xn.prototype.has=Dv;Xn.prototype.set=Rv;var $v=Xn,zv="__lodash_hash_undefined__";function Fv(t){return this.__data__.set(t,zv),this}var Uv=Fv;function Bv(t){return this.__data__.has(t)}var Hv=Bv,Vv=Zm,Wv=Uv,Jv=Hv;function il(t){var r=-1,n=t==null?0:t.length;for(this.__data__=new Vv;++r<n;)this.add(t[r])}il.prototype.add=il.prototype.push=Wv;il.prototype.has=Jv;var Zv=il;function Qv(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}var Kv=Qv;function Yv(t,r){return t.has(r)}var Gv=Yv,Xv=Zv,ey=Kv,ty=Gv,ry=1,ny=2;function ay(t,r,n,a,s,l){var o=n&ry,p=t.length,u=r.length;if(p!=u&&!(o&&u>p))return!1;var f=l.get(t),g=l.get(r);if(f&&g)return f==r&&g==t;var m=-1,i=!0,d=n&ny?new Xv:void 0;for(l.set(t,r),l.set(r,t);++m<p;){var j=t[m],y=r[m];if(a)var N=o?a(y,j,m,r,t,l):a(j,y,m,t,r,l);if(N!==void 0){if(N)continue;i=!1;break}if(d){if(!ey(r,function(h,c){if(!ty(d,c)&&(j===h||s(j,h,n,a,l)))return d.push(c)})){i=!1;break}}else if(!(j===y||s(j,y,n,a,l))){i=!1;break}}return l.delete(t),l.delete(r),i}var Qm=ay,sy=Nr,ly=sy.Uint8Array,iy=ly;function oy(t){var r=-1,n=Array(t.size);return t.forEach(function(a,s){n[++r]=[s,a]}),n}var cy=oy;function dy(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}var uy=dy,Wd=xc,Jd=iy,my=Um,py=Qm,hy=cy,xy=uy,fy=1,by=2,gy="[object Boolean]",vy="[object Date]",yy="[object Error]",jy="[object Map]",Ny="[object Number]",wy="[object RegExp]",ky="[object Set]",Ey="[object String]",Cy="[object Symbol]",_y="[object ArrayBuffer]",Sy="[object DataView]",Zd=Wd?Wd.prototype:void 0,ui=Zd?Zd.valueOf:void 0;function Oy(t,r,n,a,s,l,o){switch(n){case Sy:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case _y:return!(t.byteLength!=r.byteLength||!l(new Jd(t),new Jd(r)));case gy:case vy:case Ny:return my(+t,+r);case yy:return t.name==r.name&&t.message==r.message;case wy:case Ey:return t==r+"";case jy:var p=hy;case ky:var u=a&fy;if(p||(p=xy),t.size!=r.size&&!u)return!1;var f=o.get(t);if(f)return f==r;a|=by,o.set(t,r);var g=py(p(t),p(r),a,s,l,o);return o.delete(t),g;case Cy:if(ui)return ui.call(t)==ui.call(r)}return!1}var Py=Oy;function Ty(t,r){for(var n=-1,a=r.length,s=t.length;++n<a;)t[s+n]=r[n];return t}var Ay=Ty,Ly=Array.isArray,bc=Ly,Iy=Ay,My=bc;function qy(t,r,n){var a=r(t);return My(t)?a:Iy(a,n(t))}var Dy=qy;function Ry(t,r){for(var n=-1,a=t==null?0:t.length,s=0,l=[];++n<a;){var o=t[n];r(o,n,t)&&(l[s++]=o)}return l}var $y=Ry;function zy(){return[]}var Fy=zy,Uy=$y,By=Fy,Hy=Object.prototype,Vy=Hy.propertyIsEnumerable,Qd=Object.getOwnPropertySymbols,Wy=Qd?function(t){return t==null?[]:(t=Object(t),Uy(Qd(t),function(r){return Vy.call(t,r)}))}:By,Jy=Wy;function Zy(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}var Qy=Zy;function Ky(t){return t!=null&&typeof t=="object"}var Al=Ky,Yy=Ol,Gy=Al,Xy="[object Arguments]";function e1(t){return Gy(t)&&Yy(t)==Xy}var t1=e1,Kd=t1,r1=Al,Km=Object.prototype,n1=Km.hasOwnProperty,a1=Km.propertyIsEnumerable,s1=Kd(function(){return arguments}())?Kd:function(t){return r1(t)&&n1.call(t,"callee")&&!a1.call(t,"callee")},l1=s1,ol={exports:{}};function i1(){return!1}var o1=i1;ol.exports;(function(t,r){var n=Nr,a=o1,s=r&&!r.nodeType&&r,l=s&&!0&&t&&!t.nodeType&&t,o=l&&l.exports===s,p=o?n.Buffer:void 0,u=p?p.isBuffer:void 0,f=u||a;t.exports=f})(ol,ol.exports);var Ym=ol.exports,c1=9007199254740991,d1=/^(?:0|[1-9]\d*)$/;function u1(t,r){var n=typeof t;return r=r??c1,!!r&&(n=="number"||n!="symbol"&&d1.test(t))&&t>-1&&t%1==0&&t<r}var m1=u1,p1=9007199254740991;function h1(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=p1}var Gm=h1,x1=Ol,f1=Gm,b1=Al,g1="[object Arguments]",v1="[object Array]",y1="[object Boolean]",j1="[object Date]",N1="[object Error]",w1="[object Function]",k1="[object Map]",E1="[object Number]",C1="[object Object]",_1="[object RegExp]",S1="[object Set]",O1="[object String]",P1="[object WeakMap]",T1="[object ArrayBuffer]",A1="[object DataView]",L1="[object Float32Array]",I1="[object Float64Array]",M1="[object Int8Array]",q1="[object Int16Array]",D1="[object Int32Array]",R1="[object Uint8Array]",$1="[object Uint8ClampedArray]",z1="[object Uint16Array]",F1="[object Uint32Array]",Me={};Me[L1]=Me[I1]=Me[M1]=Me[q1]=Me[D1]=Me[R1]=Me[$1]=Me[z1]=Me[F1]=!0;Me[g1]=Me[v1]=Me[T1]=Me[y1]=Me[A1]=Me[j1]=Me[N1]=Me[w1]=Me[k1]=Me[E1]=Me[C1]=Me[_1]=Me[S1]=Me[O1]=Me[P1]=!1;function U1(t){return b1(t)&&f1(t.length)&&!!Me[x1(t)]}var B1=U1;function H1(t){return function(r){return t(r)}}var V1=H1,cl={exports:{}};cl.exports;(function(t,r){var n=Bm,a=r&&!r.nodeType&&r,s=a&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===a,o=l&&n.process,p=function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=p})(cl,cl.exports);var W1=cl.exports,J1=B1,Z1=V1,Yd=W1,Gd=Yd&&Yd.isTypedArray,Q1=Gd?Z1(Gd):J1,Xm=Q1,K1=Qy,Y1=l1,G1=bc,X1=Ym,ej=m1,tj=Xm,rj=Object.prototype,nj=rj.hasOwnProperty;function aj(t,r){var n=G1(t),a=!n&&Y1(t),s=!n&&!a&&X1(t),l=!n&&!a&&!s&&tj(t),o=n||a||s||l,p=o?K1(t.length,String):[],u=p.length;for(var f in t)(r||nj.call(t,f))&&!(o&&(f=="length"||s&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||ej(f,u)))&&p.push(f);return p}var sj=aj,lj=Object.prototype;function ij(t){var r=t&&t.constructor,n=typeof r=="function"&&r.prototype||lj;return t===n}var oj=ij;function cj(t,r){return function(n){return t(r(n))}}var dj=cj,uj=dj,mj=uj(Object.keys,Object),pj=mj,hj=oj,xj=pj,fj=Object.prototype,bj=fj.hasOwnProperty;function gj(t){if(!hj(t))return xj(t);var r=[];for(var n in Object(t))bj.call(t,n)&&n!="constructor"&&r.push(n);return r}var vj=gj,yj=Wm,jj=Gm;function Nj(t){return t!=null&&jj(t.length)&&!yj(t)}var wj=Nj,kj=sj,Ej=vj,Cj=wj;function _j(t){return Cj(t)?kj(t):Ej(t)}var Sj=_j,Oj=Dy,Pj=Jy,Tj=Sj;function Aj(t){return Oj(t,Tj,Pj)}var Lj=Aj,Xd=Lj,Ij=1,Mj=Object.prototype,qj=Mj.hasOwnProperty;function Dj(t,r,n,a,s,l){var o=n&Ij,p=Xd(t),u=p.length,f=Xd(r),g=f.length;if(u!=g&&!o)return!1;for(var m=u;m--;){var i=p[m];if(!(o?i in r:qj.call(r,i)))return!1}var d=l.get(t),j=l.get(r);if(d&&j)return d==r&&j==t;var y=!0;l.set(t,r),l.set(r,t);for(var N=o;++m<u;){i=p[m];var h=t[i],c=r[i];if(a)var b=o?a(c,h,i,r,t,l):a(h,c,i,t,r,l);if(!(b===void 0?h===c||s(h,c,n,a,l):b)){y=!1;break}N||(N=i=="constructor")}if(y&&!N){var x=t.constructor,v=r.constructor;x!=v&&"constructor"in t&&"constructor"in r&&!(typeof x=="function"&&x instanceof x&&typeof v=="function"&&v instanceof v)&&(y=!1)}return l.delete(t),l.delete(r),y}var Rj=Dj,$j=Kn,zj=Nr,Fj=$j(zj,"DataView"),Uj=Fj,Bj=Kn,Hj=Nr,Vj=Bj(Hj,"Promise"),Wj=Vj,Jj=Kn,Zj=Nr,Qj=Jj(Zj,"Set"),Kj=Qj,Yj=Kn,Gj=Nr,Xj=Yj(Gj,"WeakMap"),eN=Xj,mo=Uj,po=fc,ho=Wj,xo=Kj,fo=eN,ep=Ol,ea=Jm,eu="[object Map]",tN="[object Object]",tu="[object Promise]",ru="[object Set]",nu="[object WeakMap]",au="[object DataView]",rN=ea(mo),nN=ea(po),aN=ea(ho),sN=ea(xo),lN=ea(fo),Xr=ep;(mo&&Xr(new mo(new ArrayBuffer(1)))!=au||po&&Xr(new po)!=eu||ho&&Xr(ho.resolve())!=tu||xo&&Xr(new xo)!=ru||fo&&Xr(new fo)!=nu)&&(Xr=function(t){var r=ep(t),n=r==tN?t.constructor:void 0,a=n?ea(n):"";if(a)switch(a){case rN:return au;case nN:return eu;case aN:return tu;case sN:return ru;case lN:return nu}return r});var iN=Xr,mi=$v,oN=Qm,cN=Py,dN=Rj,su=iN,lu=bc,iu=Ym,uN=Xm,mN=1,ou="[object Arguments]",cu="[object Array]",ys="[object Object]",pN=Object.prototype,du=pN.hasOwnProperty;function hN(t,r,n,a,s,l){var o=lu(t),p=lu(r),u=o?cu:su(t),f=p?cu:su(r);u=u==ou?ys:u,f=f==ou?ys:f;var g=u==ys,m=f==ys,i=u==f;if(i&&iu(t)){if(!iu(r))return!1;o=!0,g=!1}if(i&&!g)return l||(l=new mi),o||uN(t)?oN(t,r,n,a,s,l):cN(t,r,u,n,a,s,l);if(!(n&mN)){var d=g&&du.call(t,"__wrapped__"),j=m&&du.call(r,"__wrapped__");if(d||j){var y=d?t.value():t,N=j?r.value():r;return l||(l=new mi),s(y,N,n,a,l)}}return i?(l||(l=new mi),dN(t,r,n,a,s,l)):!1}var xN=hN,fN=xN,uu=Al;function tp(t,r,n,a,s){return t===r?!0:t==null||r==null||!uu(t)&&!uu(r)?t!==t&&r!==r:fN(t,r,n,a,tp,s)}var bN=tp,gN=bN;function vN(t,r){return gN(t,r)}var yN=vN,rp={exports:{}};/*!
* Quill Editor v1.3.7
* https://quilljs.com/
* Copyright (c) 2014, Jason Chen
* Copyright (c) 2013, salesforce.com
*/(function(t,r){(function(n,a){t.exports=a()})(typeof self<"u"?self:Et,function(){return function(n){var a={};function s(l){if(a[l])return a[l].exports;var o=a[l]={i:l,l:!1,exports:{}};return n[l].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=a,s.d=function(l,o,p){s.o(l,o)||Object.defineProperty(l,o,{configurable:!1,enumerable:!0,get:p})},s.n=function(l){var o=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(o,"a",o),o},s.o=function(l,o){return Object.prototype.hasOwnProperty.call(l,o)},s.p="",s(s.s=109)}([function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(17),o=s(18),p=s(19),u=s(45),f=s(46),g=s(47),m=s(48),i=s(49),d=s(12),j=s(32),y=s(33),N=s(31),h=s(1),c={Scope:h.Scope,create:h.create,find:h.find,query:h.query,register:h.register,Container:l.default,Format:o.default,Leaf:p.default,Embed:m.default,Scroll:u.default,Block:g.default,Inline:f.default,Text:i.default,Attributor:{Attribute:d.default,Class:j.default,Style:y.default,Store:N.default}};a.default=c},function(n,a,s){var l=this&&this.__extends||function(){var N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var b in c)c.hasOwnProperty(b)&&(h[b]=c[b])};return function(h,c){N(h,c);function b(){this.constructor=h}h.prototype=c===null?Object.create(c):(b.prototype=c.prototype,new b)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=function(N){l(h,N);function h(c){var b=this;return c="[Parchment] "+c,b=N.call(this,c)||this,b.message=c,b.name=b.constructor.name,b}return h}(Error);a.ParchmentError=o;var p={},u={},f={},g={};a.DATA_KEY="__blot";var m;(function(N){N[N.TYPE=3]="TYPE",N[N.LEVEL=12]="LEVEL",N[N.ATTRIBUTE=13]="ATTRIBUTE",N[N.BLOT=14]="BLOT",N[N.INLINE=7]="INLINE",N[N.BLOCK=11]="BLOCK",N[N.BLOCK_BLOT=10]="BLOCK_BLOT",N[N.INLINE_BLOT=6]="INLINE_BLOT",N[N.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",N[N.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",N[N.ANY=15]="ANY"})(m=a.Scope||(a.Scope={}));function i(N,h){var c=j(N);if(c==null)throw new o("Unable to create "+N+" blot");var b=c,x=N instanceof Node||N.nodeType===Node.TEXT_NODE?N:b.create(h);return new b(x,h)}a.create=i;function d(N,h){return h===void 0&&(h=!1),N==null?null:N[a.DATA_KEY]!=null?N[a.DATA_KEY].blot:h?d(N.parentNode,h):null}a.find=d;function j(N,h){h===void 0&&(h=m.ANY);var c;if(typeof N=="string")c=g[N]||p[N];else if(N instanceof Text||N.nodeType===Node.TEXT_NODE)c=g.text;else if(typeof N=="number")N&m.LEVEL&m.BLOCK?c=g.block:N&m.LEVEL&m.INLINE&&(c=g.inline);else if(N instanceof HTMLElement){var b=(N.getAttribute("class")||"").split(/\s+/);for(var x in b)if(c=u[b[x]],c)break;c=c||f[N.tagName]}return c==null?null:h&m.LEVEL&c.scope&&h&m.TYPE&c.scope?c:null}a.query=j;function y(){for(var N=[],h=0;h<arguments.length;h++)N[h]=arguments[h];if(N.length>1)return N.map(function(x){return y(x)});var c=N[0];if(typeof c.blotName!="string"&&typeof c.attrName!="string")throw new o("Invalid definition");if(c.blotName==="abstract")throw new o("Cannot register abstract class");if(g[c.blotName||c.attrName]=c,typeof c.keyName=="string")p[c.keyName]=c;else if(c.className!=null&&(u[c.className]=c),c.tagName!=null){Array.isArray(c.tagName)?c.tagName=c.tagName.map(function(x){return x.toUpperCase()}):c.tagName=c.tagName.toUpperCase();var b=Array.isArray(c.tagName)?c.tagName:[c.tagName];b.forEach(function(x){(f[x]==null||c.className==null)&&(f[x]=c)})}return c}a.register=y},function(n,a,s){var l=s(51),o=s(11),p=s(3),u=s(20),f=String.fromCharCode(0),g=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};g.prototype.insert=function(m,i){var d={};return m.length===0?this:(d.insert=m,i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(d.attributes=i),this.push(d))},g.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},g.prototype.retain=function(m,i){if(m<=0)return this;var d={retain:m};return i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(d.attributes=i),this.push(d)},g.prototype.push=function(m){var i=this.ops.length,d=this.ops[i-1];if(m=p(!0,{},m),typeof d=="object"){if(typeof m.delete=="number"&&typeof d.delete=="number")return this.ops[i-1]={delete:d.delete+m.delete},this;if(typeof d.delete=="number"&&m.insert!=null&&(i-=1,d=this.ops[i-1],typeof d!="object"))return this.ops.unshift(m),this;if(o(m.attributes,d.attributes)){if(typeof m.insert=="string"&&typeof d.insert=="string")return this.ops[i-1]={insert:d.insert+m.insert},typeof m.attributes=="object"&&(this.ops[i-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof d.retain=="number")return this.ops[i-1]={retain:d.retain+m.retain},typeof m.attributes=="object"&&(this.ops[i-1].attributes=m.attributes),this}}return i===this.ops.length?this.ops.push(m):this.ops.splice(i,0,m),this},g.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},g.prototype.filter=function(m){return this.ops.filter(m)},g.prototype.forEach=function(m){this.ops.forEach(m)},g.prototype.map=function(m){return this.ops.map(m)},g.prototype.partition=function(m){var i=[],d=[];return this.forEach(function(j){var y=m(j)?i:d;y.push(j)}),[i,d]},g.prototype.reduce=function(m,i){return this.ops.reduce(m,i)},g.prototype.changeLength=function(){return this.reduce(function(m,i){return i.insert?m+u.length(i):i.delete?m-i.delete:m},0)},g.prototype.length=function(){return this.reduce(function(m,i){return m+u.length(i)},0)},g.prototype.slice=function(m,i){m=m||0,typeof i!="number"&&(i=1/0);for(var d=[],j=u.iterator(this.ops),y=0;y<i&&j.hasNext();){var N;y<m?N=j.next(m-y):(N=j.next(i-y),d.push(N)),y+=u.length(N)}return new g(d)},g.prototype.compose=function(m){var i=u.iterator(this.ops),d=u.iterator(m.ops),j=[],y=d.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var N=y.retain;i.peekType()==="insert"&&i.peekLength()<=N;)N-=i.peekLength(),j.push(i.next());y.retain-N>0&&d.next(y.retain-N)}for(var h=new g(j);i.hasNext()||d.hasNext();)if(d.peekType()==="insert")h.push(d.next());else if(i.peekType()==="delete")h.push(i.next());else{var c=Math.min(i.peekLength(),d.peekLength()),b=i.next(c),x=d.next(c);if(typeof x.retain=="number"){var v={};typeof b.retain=="number"?v.retain=c:v.insert=b.insert;var k=u.attributes.compose(b.attributes,x.attributes,typeof b.retain=="number");if(k&&(v.attributes=k),h.push(v),!d.hasNext()&&o(h.ops[h.ops.length-1],v)){var w=new g(i.rest());return h.concat(w).chop()}}else typeof x.delete=="number"&&typeof b.retain=="number"&&h.push(x)}return h.chop()},g.prototype.concat=function(m){var i=new g(this.ops.slice());return m.ops.length>0&&(i.push(m.ops[0]),i.ops=i.ops.concat(m.ops.slice(1))),i},g.prototype.diff=function(m,i){if(this.ops===m.ops)return new g;var d=[this,m].map(function(c){return c.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:f;var x=c===m?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),j=new g,y=l(d[0],d[1],i),N=u.iterator(this.ops),h=u.iterator(m.ops);return y.forEach(function(c){for(var b=c[1].length;b>0;){var x=0;switch(c[0]){case l.INSERT:x=Math.min(h.peekLength(),b),j.push(h.next(x));break;case l.DELETE:x=Math.min(b,N.peekLength()),N.next(x),j.delete(x);break;case l.EQUAL:x=Math.min(N.peekLength(),h.peekLength(),b);var v=N.next(x),k=h.next(x);o(v.insert,k.insert)?j.retain(x,u.attributes.diff(v.attributes,k.attributes)):j.push(k).delete(x);break}b-=x}}),j.chop()},g.prototype.eachLine=function(m,i){i=i||`
`;for(var d=u.iterator(this.ops),j=new g,y=0;d.hasNext();){if(d.peekType()!=="insert")return;var N=d.peek(),h=u.length(N)-d.peekLength(),c=typeof N.insert=="string"?N.insert.indexOf(i,h)-h:-1;if(c<0)j.push(d.next());else if(c>0)j.push(d.next(c));else{if(m(j,d.next(1).attributes||{},y)===!1)return;y+=1,j=new g}}j.length()>0&&m(j,{},y)},g.prototype.transform=function(m,i){if(i=!!i,typeof m=="number")return this.transformPosition(m,i);for(var d=u.iterator(this.ops),j=u.iterator(m.ops),y=new g;d.hasNext()||j.hasNext();)if(d.peekType()==="insert"&&(i||j.peekType()!=="insert"))y.retain(u.length(d.next()));else if(j.peekType()==="insert")y.push(j.next());else{var N=Math.min(d.peekLength(),j.peekLength()),h=d.next(N),c=j.next(N);if(h.delete)continue;c.delete?y.push(c):y.retain(N,u.attributes.transform(h.attributes,c.attributes,i))}return y.chop()},g.prototype.transformPosition=function(m,i){i=!!i;for(var d=u.iterator(this.ops),j=0;d.hasNext()&&j<=m;){var y=d.peekLength(),N=d.peekType();if(d.next(),N==="delete"){m-=Math.min(y,m-j);continue}else N==="insert"&&(j<m||!i)&&(m+=y);j+=y}return m},n.exports=g},function(n,a){var s=Object.prototype.hasOwnProperty,l=Object.prototype.toString,o=Object.defineProperty,p=Object.getOwnPropertyDescriptor,u=function(i){return typeof Array.isArray=="function"?Array.isArray(i):l.call(i)==="[object Array]"},f=function(i){if(!i||l.call(i)!=="[object Object]")return!1;var d=s.call(i,"constructor"),j=i.constructor&&i.constructor.prototype&&s.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!d&&!j)return!1;var y;for(y in i);return typeof y>"u"||s.call(i,y)},g=function(i,d){o&&d.name==="__proto__"?o(i,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):i[d.name]=d.newValue},m=function(i,d){if(d==="__proto__")if(s.call(i,d)){if(p)return p(i,d).value}else return;return i[d]};n.exports=function i(){var d,j,y,N,h,c,b=arguments[0],x=1,v=arguments.length,k=!1;for(typeof b=="boolean"&&(k=b,b=arguments[1]||{},x=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});x<v;++x)if(d=arguments[x],d!=null)for(j in d)y=m(b,j),N=m(d,j),b!==N&&(k&&N&&(f(N)||(h=u(N)))?(h?(h=!1,c=y&&u(y)?y:[]):c=y&&f(y)?y:{},g(b,{name:j,newValue:i(k,c,N)})):typeof N<"u"&&g(b,{name:j,newValue:N}));return b}},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BlockEmbed=a.bubbleFormats=void 0;var l=function(){function O(_,A){for(var R=0;R<A.length;R++){var I=A[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,A,R){return A&&O(_.prototype,A),R&&O(_,R),_}}(),o=function O(_,A,R){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,A);if(I===void 0){var z=Object.getPrototypeOf(_);return z===null?void 0:O(z,A,R)}else{if("value"in I)return I.value;var ee=I.get;return ee===void 0?void 0:ee.call(R)}},p=s(3),u=b(p),f=s(2),g=b(f),m=s(0),i=b(m),d=s(16),j=b(d),y=s(6),N=b(y),h=s(7),c=b(h);function b(O){return O&&O.__esModule?O:{default:O}}function x(O,_){if(!(O instanceof _))throw new TypeError("Cannot call a class as a function")}function v(O,_){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:O}function k(O,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);O.prototype=Object.create(_&&_.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(O,_):O.__proto__=_)}var w=1,S=function(O){k(_,O);function _(){return x(this,_),v(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return l(_,[{key:"attach",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new g.default().insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(A,R){var I=i.default.query(A,i.default.Scope.BLOCK_ATTRIBUTE);I!=null&&this.attributes.attribute(I,R)}},{key:"formatAt",value:function(A,R,I,z){this.format(I,z)}},{key:"insertAt",value:function(A,R,I){if(typeof R=="string"&&R.endsWith(`
`)){var z=i.default.create(E.blotName);this.parent.insertBefore(z,A===0?this:this.next),z.insertAt(0,R.slice(0,-1))}else o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,A,R,I)}}]),_}(i.default.Embed);S.scope=i.default.Scope.BLOCK_BLOT;var E=function(O){k(_,O);function _(A){x(this,_);var R=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A));return R.cache={},R}return l(_,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(A,R){return R.length()===0?A:A.insert(R.value(),C(R))},new g.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(A,R){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,A,R),this.cache={}}},{key:"formatAt",value:function(A,R,I,z){R<=0||(i.default.query(I,i.default.Scope.BLOCK)?A+R===this.length()&&this.format(I,z):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,A,Math.min(R,this.length()-A-1),I,z),this.cache={})}},{key:"insertAt",value:function(A,R,I){if(I!=null)return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,A,R,I);if(R.length!==0){var z=R.split(`
`),ee=z.shift();ee.length>0&&(A<this.length()-1||this.children.tail==null?o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,Math.min(A,this.length()-1),ee):this.children.tail.insertAt(this.children.tail.length(),ee),this.cache={});var B=this;z.reduce(function(M,P){return B=B.split(M,!0),B.insertAt(0,P),P.length},A+ee.length)}}},{key:"insertBefore",value:function(A,R){var I=this.children.head;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,A,R),I instanceof j.default&&I.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"length",this).call(this)+w),this.cache.length}},{key:"moveChildren",value:function(A,R){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"moveChildren",this).call(this,A,R),this.cache={}}},{key:"optimize",value:function(A){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,A),this.cache={}}},{key:"path",value:function(A){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,A,!0)}},{key:"removeChild",value:function(A){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"removeChild",this).call(this,A),this.cache={}}},{key:"split",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R&&(A===0||A>=this.length()-w)){var I=this.clone();return A===0?(this.parent.insertBefore(I,this),this):(this.parent.insertBefore(I,this.next),I)}else{var z=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"split",this).call(this,A,R);return this.cache={},z}}}]),_}(i.default.Block);E.blotName="block",E.tagName="P",E.defaultChild="break",E.allowedChildren=[N.default,i.default.Embed,c.default];function C(O){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O==null||(typeof O.formats=="function"&&(_=(0,u.default)(_,O.formats())),O.parent==null||O.parent.blotName=="scroll"||O.parent.statics.scope!==O.statics.scope)?_:C(O.parent,_)}a.bubbleFormats=C,a.BlockEmbed=S,a.default=E},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.overload=a.expandConfig=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(P,L){var F=[],W=!0,G=!1,V=void 0;try{for(var $=P[Symbol.iterator](),U;!(W=(U=$.next()).done)&&(F.push(U.value),!(L&&F.length===L));W=!0);}catch(X){G=!0,V=X}finally{try{!W&&$.return&&$.return()}finally{if(G)throw V}}return F}return function(P,L){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return M(P,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function M(P,L){for(var F=0;F<L.length;F++){var W=L[F];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(P,W.key,W)}}return function(P,L,F){return L&&M(P.prototype,L),F&&M(P,F),P}}();s(50);var u=s(2),f=C(u),g=s(14),m=C(g),i=s(8),d=C(i),j=s(9),y=C(j),N=s(0),h=C(N),c=s(15),b=C(c),x=s(3),v=C(x),k=s(10),w=C(k),S=s(34),E=C(S);function C(M){return M&&M.__esModule?M:{default:M}}function O(M,P,L){return P in M?Object.defineProperty(M,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):M[P]=L,M}function _(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}var A=(0,w.default)("quill"),R=function(){p(M,null,[{key:"debug",value:function(P){P===!0&&(P="log"),w.default.level(P)}},{key:"find",value:function(P){return P.__quill||h.default.find(P)}},{key:"import",value:function(P){return this.imports[P]==null&&A.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,L){var F=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof P!="string"){var G=P.attrName||P.blotName;typeof G=="string"?this.register("formats/"+G,P,L):Object.keys(P).forEach(function(V){F.register(V,P[V],L)})}else this.imports[P]!=null&&!W&&A.warn("Overwriting "+P+" with",L),this.imports[P]=L,(P.startsWith("blots/")||P.startsWith("formats/"))&&L.blotName!=="abstract"?h.default.register(L):P.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function M(P){var L=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_(this,M),this.options=I(P,F),this.container=this.options.container,this.container==null)return A.error("Invalid Quill container",P);this.options.debug&&M.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=h.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(V){V===d.default.events.TEXT_CHANGE&&L.root.classList.toggle("ql-blank",L.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(V,$){var U=L.selection.lastRange,X=U&&U.length===0?U.index:void 0;z.call(L,function(){return L.editor.update(null,$,X)},V)});var G=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+W+"<p><br></p></div>");this.setContents(G),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return p(M,[{key:"addContainer",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof P=="string"){var F=P;P=document.createElement("div"),P.classList.add(F)}return this.container.insertBefore(P,L),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,L,F){var W=this,G=ee(P,L,F),V=o(G,4);return P=V[0],L=V[1],F=V[3],z.call(this,function(){return W.editor.deleteText(P,L)},F,P,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,L){var F=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return z.call(this,function(){var G=F.getSelection(!0),V=new f.default;if(G==null)return V;if(h.default.query(P,h.default.Scope.BLOCK))V=F.editor.formatLine(G.index,G.length,O({},P,L));else{if(G.length===0)return F.selection.format(P,L),V;V=F.editor.formatText(G.index,G.length,O({},P,L))}return F.setSelection(G,d.default.sources.SILENT),V},W)}},{key:"formatLine",value:function(P,L,F,W,G){var V=this,$=void 0,U=ee(P,L,F,W,G),X=o(U,4);return P=X[0],L=X[1],$=X[2],G=X[3],z.call(this,function(){return V.editor.formatLine(P,L,$)},G,P,0)}},{key:"formatText",value:function(P,L,F,W,G){var V=this,$=void 0,U=ee(P,L,F,W,G),X=o(U,4);return P=X[0],L=X[1],$=X[2],G=X[3],z.call(this,function(){return V.editor.formatText(P,L,$)},G,P,0)}},{key:"getBounds",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof P=="number"?F=this.selection.getBounds(P,L):F=this.selection.getBounds(P.index,P.length);var W=this.container.getBoundingClientRect();return{bottom:F.bottom-W.top,height:F.height,left:F.left-W.left,right:F.right-W.left,top:F.top-W.top,width:F.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,F=ee(P,L),W=o(F,2);return P=W[0],L=W[1],this.editor.getContents(P,L)}},{key:"getFormat",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof P=="number"?this.editor.getFormat(P,L):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof P!="number"?this.scroll.lines(P.index,P.length):this.scroll.lines(P,L)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,F=ee(P,L),W=o(F,2);return P=W[0],L=W[1],this.editor.getText(P,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,L,F){var W=this,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.sources.API;return z.call(this,function(){return W.editor.insertEmbed(P,L,F)},G,P)}},{key:"insertText",value:function(P,L,F,W,G){var V=this,$=void 0,U=ee(P,0,F,W,G),X=o(U,4);return P=X[0],$=X[2],G=X[3],z.call(this,function(){return V.editor.insertText(P,L,$)},G,P,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,L,F){this.clipboard.dangerouslyPasteHTML(P,L,F)}},{key:"removeFormat",value:function(P,L,F){var W=this,G=ee(P,L,F),V=o(G,4);return P=V[0],L=V[1],F=V[3],z.call(this,function(){return W.editor.removeFormat(P,L)},F,P)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var L=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return z.call(this,function(){P=new f.default(P);var W=L.getLength(),G=L.editor.deleteText(0,W),V=L.editor.applyDelta(P),$=V.ops[V.ops.length-1];$!=null&&typeof $.insert=="string"&&$.insert[$.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),V.delete(1));var U=G.compose(V);return U},F)}},{key:"setSelection",value:function(P,L,F){if(P==null)this.selection.setRange(null,L||M.sources.API);else{var W=ee(P,L,F),G=o(W,4);P=G[0],L=G[1],F=G[3],this.selection.setRange(new c.Range(P,L),F),F!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,F=new f.default().insert(P);return this.setContents(F,L)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,L=this.scroll.update(P);return this.selection.update(P),L}},{key:"updateContents",value:function(P){var L=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return z.call(this,function(){return P=new f.default(P),L.editor.applyDelta(P,F)},F,!0)}}]),M}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=d.default.events,R.sources=d.default.sources,R.version="1.3.7",R.imports={delta:f.default,parchment:h.default,"core/module":y.default,"core/theme":E.default};function I(M,P){if(P=(0,v.default)(!0,{container:M,modules:{clipboard:!0,keyboard:!0,history:!0}},P),!P.theme||P.theme===R.DEFAULTS.theme)P.theme=E.default;else if(P.theme=R.import("themes/"+P.theme),P.theme==null)throw new Error("Invalid theme "+P.theme+". Did you register it?");var L=(0,v.default)(!0,{},P.theme.DEFAULTS);[L,P].forEach(function(G){G.modules=G.modules||{},Object.keys(G.modules).forEach(function(V){G.modules[V]===!0&&(G.modules[V]={})})});var F=Object.keys(L.modules).concat(Object.keys(P.modules)),W=F.reduce(function(G,V){var $=R.import("modules/"+V);return $==null?A.error("Cannot load "+V+" module. Are you sure you registered it?"):G[V]=$.DEFAULTS||{},G},{});return P.modules!=null&&P.modules.toolbar&&P.modules.toolbar.constructor!==Object&&(P.modules.toolbar={container:P.modules.toolbar}),P=(0,v.default)(!0,{},R.DEFAULTS,{modules:W},L,P),["bounds","container","scrollingContainer"].forEach(function(G){typeof P[G]=="string"&&(P[G]=document.querySelector(P[G]))}),P.modules=Object.keys(P.modules).reduce(function(G,V){return P.modules[V]&&(G[V]=P.modules[V]),G},{}),P}function z(M,P,L,F){if(this.options.strict&&!this.isEnabled()&&P===d.default.sources.USER)return new f.default;var W=L==null?null:this.getSelection(),G=this.editor.delta,V=M();if(W!=null&&(L===!0&&(L=W.index),F==null?W=B(W,V,P):F!==0&&(W=B(W,L,F,P)),this.setSelection(W,d.default.sources.SILENT)),V.length()>0){var $,U=[d.default.events.TEXT_CHANGE,V,G,P];if(($=this.emitter).emit.apply($,[d.default.events.EDITOR_CHANGE].concat(U)),P!==d.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,U)}}return V}function ee(M,P,L,F,W){var G={};return typeof M.index=="number"&&typeof M.length=="number"?typeof P!="number"?(W=F,F=L,L=P,P=M.length,M=M.index):(P=M.length,M=M.index):typeof P!="number"&&(W=F,F=L,L=P,P=0),(typeof L>"u"?"undefined":l(L))==="object"?(G=L,W=F):typeof L=="string"&&(F!=null?G[L]=F:W=L),W=W||d.default.sources.API,[M,P,G,W]}function B(M,P,L,F){if(M==null)return null;var W=void 0,G=void 0;if(P instanceof f.default){var V=[M.index,M.index+M.length].map(function(le){return P.transformPosition(le,F!==d.default.sources.USER)}),$=o(V,2);W=$[0],G=$[1]}else{var U=[M.index,M.index+M.length].map(function(le){return le<P||le===P&&F===d.default.sources.USER?le:L>=0?le+L:Math.max(P,le+L)}),X=o(U,2);W=X[0],G=X[1]}return new c.Range(W,G-W)}a.expandConfig=I,a.overload=ee,a.default=R},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function N(h,c){for(var b=0;b<c.length;b++){var x=c[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,c,b){return c&&N(h.prototype,c),b&&N(h,b),h}}(),o=function N(h,c,b){h===null&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,c);if(x===void 0){var v=Object.getPrototypeOf(h);return v===null?void 0:N(v,c,b)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(b)}},p=s(7),u=m(p),f=s(0),g=m(f);function m(N){return N&&N.__esModule?N:{default:N}}function i(N,h){if(!(N instanceof h))throw new TypeError("Cannot call a class as a function")}function d(N,h){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:N}function j(N,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);N.prototype=Object.create(h&&h.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(N,h):N.__proto__=h)}var y=function(N){j(h,N);function h(){return i(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return l(h,[{key:"formatAt",value:function(c,b,x,v){if(h.compare(this.statics.blotName,x)<0&&g.default.query(x,g.default.Scope.BLOT)){var k=this.isolate(c,b);v&&k.wrap(x,v)}else o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"formatAt",this).call(this,c,b,x,v)}},{key:"optimize",value:function(c){if(o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,c),this.parent instanceof h&&h.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(c,b){var x=h.order.indexOf(c),v=h.order.indexOf(b);return x>=0||v>=0?x-v:c===b?0:c<b?-1:1}}]),h}(g.default.Inline);y.allowedChildren=[y,g.default.Embed,u.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],a.default=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(0),o=p(l);function p(i){return i&&i.__esModule?i:{default:i}}function u(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function f(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function g(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var m=function(i){g(d,i);function d(){return u(this,d),f(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default.Text);a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function c(b,x){for(var v=0;v<x.length;v++){var k=x[v];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,x,v){return x&&c(b.prototype,x),v&&c(b,v),b}}(),o=function c(b,x,v){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,x);if(k===void 0){var w=Object.getPrototypeOf(b);return w===null?void 0:c(w,x,v)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(v)}},p=s(54),u=m(p),f=s(10),g=m(f);function m(c){return c&&c.__esModule?c:{default:c}}function i(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function")}function d(c,b){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:c}function j(c,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var y=(0,g.default)("quill:events"),N=["selectionchange","mousedown","mouseup","click"];N.forEach(function(c){document.addEventListener(c,function(){for(var b=arguments.length,x=Array(b),v=0;v<b;v++)x[v]=arguments[v];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var w;(w=k.__quill.emitter).handleDOM.apply(w,x)}})})});var h=function(c){j(b,c);function b(){i(this,b);var x=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return x.listeners={},x.on("error",y.error),x}return l(b,[{key:"emit",value:function(){y.log.apply(y,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var v=arguments.length,k=Array(v>1?v-1:0),w=1;w<v;w++)k[w-1]=arguments[w];(this.listeners[x.type]||[]).forEach(function(S){var E=S.node,C=S.handler;(x.target===E||E.contains(x.target))&&C.apply(void 0,[x].concat(k))})}},{key:"listenDOM",value:function(x,v,k){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:v,handler:k})}}]),b}(u.default);h.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},h.sources={API:"api",SILENT:"silent",USER:"user"},a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function p(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l(this,p),this.quill=u,this.options=f};o.DEFAULTS={},a.default=o},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=["error","warn","log","info"],o="warn";function p(f){if(l.indexOf(f)<=l.indexOf(o)){for(var g,m=arguments.length,i=Array(m>1?m-1:0),d=1;d<m;d++)i[d-1]=arguments[d];(g=console)[f].apply(g,i)}}function u(f){return l.reduce(function(g,m){return g[m]=p.bind(console,m,f),g},{})}p.level=u.level=function(f){o=f},a.default=u},function(n,a,s){var l=Array.prototype.slice,o=s(52),p=s(53),u=n.exports=function(i,d,j){return j||(j={}),i===d?!0:i instanceof Date&&d instanceof Date?i.getTime()===d.getTime():!i||!d||typeof i!="object"&&typeof d!="object"?j.strict?i===d:i==d:m(i,d,j)};function f(i){return i==null}function g(i){return!(!i||typeof i!="object"||typeof i.length!="number"||typeof i.copy!="function"||typeof i.slice!="function"||i.length>0&&typeof i[0]!="number")}function m(i,d,j){var y,N;if(f(i)||f(d)||i.prototype!==d.prototype)return!1;if(p(i))return p(d)?(i=l.call(i),d=l.call(d),u(i,d,j)):!1;if(g(i)){if(!g(d)||i.length!==d.length)return!1;for(y=0;y<i.length;y++)if(i[y]!==d[y])return!1;return!0}try{var h=o(i),c=o(d)}catch{return!1}if(h.length!=c.length)return!1;for(h.sort(),c.sort(),y=h.length-1;y>=0;y--)if(h[y]!=c[y])return!1;for(y=h.length-1;y>=0;y--)if(N=h[y],!u(i[N],d[N],j))return!1;return typeof i==typeof d}},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(1),o=function(){function p(u,f,g){g===void 0&&(g={}),this.attrName=u,this.keyName=f;var m=l.Scope.TYPE&l.Scope.ATTRIBUTE;g.scope!=null?this.scope=g.scope&l.Scope.LEVEL|m:this.scope=l.Scope.ATTRIBUTE,g.whitelist!=null&&(this.whitelist=g.whitelist)}return p.keys=function(u){return[].map.call(u.attributes,function(f){return f.name})},p.prototype.add=function(u,f){return this.canAdd(u,f)?(u.setAttribute(this.keyName,f),!0):!1},p.prototype.canAdd=function(u,f){var g=l.query(u,l.Scope.BLOT&(this.scope|l.Scope.TYPE));return g==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},p.prototype.remove=function(u){u.removeAttribute(this.keyName)},p.prototype.value=function(u){var f=u.getAttribute(this.keyName);return this.canAdd(u,f)&&f?f:""},p}();a.default=o},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Code=void 0;var l=function(){function S(E,C){var O=[],_=!0,A=!1,R=void 0;try{for(var I=E[Symbol.iterator](),z;!(_=(z=I.next()).done)&&(O.push(z.value),!(C&&O.length===C));_=!0);}catch(ee){A=!0,R=ee}finally{try{!_&&I.return&&I.return()}finally{if(A)throw R}}return O}return function(E,C){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return S(E,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(E,C){for(var O=0;O<C.length;O++){var _=C[O];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(E,_.key,_)}}return function(E,C,O){return C&&S(E.prototype,C),O&&S(E,O),E}}(),p=function S(E,C,O){E===null&&(E=Function.prototype);var _=Object.getOwnPropertyDescriptor(E,C);if(_===void 0){var A=Object.getPrototypeOf(E);return A===null?void 0:S(A,C,O)}else{if("value"in _)return _.value;var R=_.get;return R===void 0?void 0:R.call(O)}},u=s(2),f=c(u),g=s(0),m=c(g),i=s(4),d=c(i),j=s(6),y=c(j),N=s(7),h=c(N);function c(S){return S&&S.__esModule?S:{default:S}}function b(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function x(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function v(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var k=function(S){v(E,S);function E(){return b(this,E),x(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E}(y.default);k.blotName="code",k.tagName="CODE";var w=function(S){v(E,S);function E(){return b(this,E),x(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"delta",value:function(){var C=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(_,A){return _.insert(A).insert(`
`,C.formats())},new f.default)}},{key:"format",value:function(C,O){if(!(C===this.statics.blotName&&O)){var _=this.descendant(h.default,this.length()-1),A=l(_,1),R=A[0];R!=null&&R.deleteAt(R.length()-1,1),p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,C,O)}}},{key:"formatAt",value:function(C,O,_,A){if(O!==0&&!(m.default.query(_,m.default.Scope.BLOCK)==null||_===this.statics.blotName&&A===this.statics.formats(this.domNode))){var R=this.newlineIndex(C);if(!(R<0||R>=C+O)){var I=this.newlineIndex(C,!0)+1,z=R-I+1,ee=this.isolate(I,z),B=ee.next;ee.format(_,A),B instanceof E&&B.formatAt(0,C-I+O-z,_,A)}}}},{key:"insertAt",value:function(C,O,_){if(_==null){var A=this.descendant(h.default,C),R=l(A,2),I=R[0],z=R[1];I.insertAt(z,O)}}},{key:"length",value:function(){var C=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?C:C+1}},{key:"newlineIndex",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O)return this.domNode.textContent.slice(0,C).lastIndexOf(`
`);var _=this.domNode.textContent.slice(C).indexOf(`
`);return _>-1?C+_:-1}},{key:"optimize",value:function(C){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,C);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(C),O.moveChildren(this),O.remove())}},{key:"replace",value:function(C){p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,C),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var _=m.default.find(O);_==null?O.parentNode.removeChild(O):_ instanceof m.default.Embed?_.remove():_.unwrap()})}}],[{key:"create",value:function(C){var O=p(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,C);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),E}(d.default);w.blotName="code-block",w.tagName="PRE",w.TAB="  ",a.Code=k,a.default=w},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(P,L){var F=[],W=!0,G=!1,V=void 0;try{for(var $=P[Symbol.iterator](),U;!(W=(U=$.next()).done)&&(F.push(U.value),!(L&&F.length===L));W=!0);}catch(X){G=!0,V=X}finally{try{!W&&$.return&&$.return()}finally{if(G)throw V}}return F}return function(P,L){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return M(P,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function M(P,L){for(var F=0;F<L.length;F++){var W=L[F];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(P,W.key,W)}}return function(P,L,F){return L&&M(P.prototype,L),F&&M(P,F),P}}(),u=s(2),f=_(u),g=s(20),m=_(g),i=s(0),d=_(i),j=s(13),y=_(j),N=s(24),h=_(N),c=s(4),b=_(c),x=s(16),v=_(x),k=s(21),w=_(k),S=s(11),E=_(S),C=s(3),O=_(C);function _(M){return M&&M.__esModule?M:{default:M}}function A(M,P,L){return P in M?Object.defineProperty(M,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):M[P]=L,M}function R(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}var I=/^[ -~]*$/,z=function(){function M(P){R(this,M),this.scroll=P,this.delta=this.getDelta()}return p(M,[{key:"applyDelta",value:function(P){var L=this,F=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),P=B(P),P.reduce(function(G,V){var $=V.retain||V.delete||V.insert.length||1,U=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var X=V.insert;X.endsWith(`
`)&&F&&(F=!1,X=X.slice(0,-1)),G>=W&&!X.endsWith(`
`)&&(F=!0),L.scroll.insertAt(G,X);var le=L.scroll.line(G),ae=o(le,2),J=ae[0],ne=ae[1],D=(0,O.default)({},(0,c.bubbleFormats)(J));if(J instanceof b.default){var ie=J.descendant(d.default.Leaf,ne),me=o(ie,1),ge=me[0];D=(0,O.default)(D,(0,c.bubbleFormats)(ge))}U=m.default.attributes.diff(D,U)||{}}else if(l(V.insert)==="object"){var pe=Object.keys(V.insert)[0];if(pe==null)return G;L.scroll.insertAt(G,pe,V.insert[pe])}W+=$}return Object.keys(U).forEach(function(te){L.scroll.formatAt(G,$,te,U[te])}),G+$},0),P.reduce(function(G,V){return typeof V.delete=="number"?(L.scroll.deleteAt(G,V.delete),G):G+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,L){return this.scroll.deleteAt(P,L),this.update(new f.default().retain(P).delete(L))}},{key:"formatLine",value:function(P,L){var F=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(G){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[G])){var V=F.scroll.lines(P,Math.max(L,1)),$=L;V.forEach(function(U){var X=U.length();if(!(U instanceof y.default))U.format(G,W[G]);else{var le=P-U.offset(F.scroll),ae=U.newlineIndex(le+$)-le+1;U.formatAt(le,ae,G,W[G])}$-=X})}}),this.scroll.optimize(),this.update(new f.default().retain(P).retain(L,(0,w.default)(W)))}},{key:"formatText",value:function(P,L){var F=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(G){F.scroll.formatAt(P,L,G,W[G])}),this.update(new f.default().retain(P).retain(L,(0,w.default)(W)))}},{key:"getContents",value:function(P,L){return this.delta.slice(P,P+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,L){return P.concat(L.delta())},new f.default)}},{key:"getFormat",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],W=[];L===0?this.scroll.path(P).forEach(function(V){var $=o(V,1),U=$[0];U instanceof b.default?F.push(U):U instanceof d.default.Leaf&&W.push(U)}):(F=this.scroll.lines(P,L),W=this.scroll.descendants(d.default.Leaf,P,L));var G=[F,W].map(function(V){if(V.length===0)return{};for(var $=(0,c.bubbleFormats)(V.shift());Object.keys($).length>0;){var U=V.shift();if(U==null)return $;$=ee((0,c.bubbleFormats)(U),$)}return $});return O.default.apply(O.default,G)}},{key:"getText",value:function(P,L){return this.getContents(P,L).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(P,L,F){return this.scroll.insertAt(P,L,F),this.update(new f.default().retain(P).insert(A({},L,F)))}},{key:"insertText",value:function(P,L){var F=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(P,L),Object.keys(W).forEach(function(G){F.scroll.formatAt(P,L.length,G,W[G])}),this.update(new f.default().retain(P).insert(L,(0,w.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return P.statics.blotName!==b.default.blotName||P.children.length>1?!1:P.children.head instanceof v.default}},{key:"removeFormat",value:function(P,L){var F=this.getText(P,L),W=this.scroll.line(P+L),G=o(W,2),V=G[0],$=G[1],U=0,X=new f.default;V!=null&&(V instanceof y.default?U=V.newlineIndex($)-$+1:U=V.length()-$,X=V.delta().slice($,$+U-1).insert(`
`));var le=this.getContents(P,L+U),ae=le.diff(new f.default().insert(F).concat(X)),J=new f.default().retain(P).concat(ae);return this.applyDelta(J)}},{key:"update",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(I)&&d.default.find(L[0].target)){var G=d.default.find(L[0].target),V=(0,c.bubbleFormats)(G),$=G.offset(this.scroll),U=L[0].oldValue.replace(h.default.CONTENTS,""),X=new f.default().insert(U),le=new f.default().insert(G.value()),ae=new f.default().retain($).concat(X.diff(le,F));P=ae.reduce(function(J,ne){return ne.insert?J.insert(ne.insert,V):J.push(ne)},new f.default),this.delta=W.compose(P)}else this.delta=this.getDelta(),(!P||!(0,E.default)(W.compose(P),this.delta))&&(P=W.diff(this.delta,F));return P}}]),M}();function ee(M,P){return Object.keys(P).reduce(function(L,F){return M[F]==null||(P[F]===M[F]?L[F]=P[F]:Array.isArray(P[F])?P[F].indexOf(M[F])<0&&(L[F]=P[F].concat([M[F]])):L[F]=[P[F],M[F]]),L},{})}function B(M){return M.reduce(function(P,L){if(L.insert===1){var F=(0,w.default)(L.attributes);return delete F.image,P.insert({image:L.attributes.image},F)}if(L.attributes!=null&&(L.attributes.list===!0||L.attributes.bullet===!0)&&(L=(0,w.default)(L),L.attributes.list?L.attributes.list="ordered":(L.attributes.list="bullet",delete L.attributes.bullet)),typeof L.insert=="string"){var W=L.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return P.insert(W,L.attributes)}return P.push(L)},new f.default)}a.default=z},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Range=void 0;var l=function(){function S(E,C){var O=[],_=!0,A=!1,R=void 0;try{for(var I=E[Symbol.iterator](),z;!(_=(z=I.next()).done)&&(O.push(z.value),!(C&&O.length===C));_=!0);}catch(ee){A=!0,R=ee}finally{try{!_&&I.return&&I.return()}finally{if(A)throw R}}return O}return function(E,C){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return S(E,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(E,C){for(var O=0;O<C.length;O++){var _=C[O];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(E,_.key,_)}}return function(E,C,O){return C&&S(E.prototype,C),O&&S(E,O),E}}(),p=s(0),u=h(p),f=s(21),g=h(f),m=s(11),i=h(m),d=s(8),j=h(d),y=s(10),N=h(y);function h(S){return S&&S.__esModule?S:{default:S}}function c(S){if(Array.isArray(S)){for(var E=0,C=Array(S.length);E<S.length;E++)C[E]=S[E];return C}else return Array.from(S)}function b(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}var x=(0,N.default)("quill:selection"),v=function S(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,S),this.index=E,this.length=C},k=function(){function S(E,C){var O=this;b(this,S),this.emitter=C,this.scroll=E,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new v(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,j.default.sources.USER),1)}),this.emitter.on(j.default.events.EDITOR_CHANGE,function(_,A){_===j.default.events.TEXT_CHANGE&&A.length()>0&&O.update(j.default.sources.SILENT)}),this.emitter.on(j.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var _=O.getNativeRange();_!=null&&_.start.node!==O.cursor.textNode&&O.emitter.once(j.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(_.start.node,_.start.offset,_.end.node,_.end.offset)}catch{}})}}),this.emitter.on(j.default.events.SCROLL_OPTIMIZE,function(_,A){if(A.range){var R=A.range,I=R.startNode,z=R.startOffset,ee=R.endNode,B=R.endOffset;O.setNativeRange(I,z,ee,B)}}),this.update(j.default.sources.SILENT)}return o(S,[{key:"handleComposition",value:function(){var E=this;this.root.addEventListener("compositionstart",function(){E.composing=!0}),this.root.addEventListener("compositionend",function(){if(E.composing=!1,E.cursor.parent){var C=E.cursor.restore();if(!C)return;setTimeout(function(){E.setNativeRange(C.startNode,C.startOffset,C.endNode,C.endOffset)},1)}})}},{key:"handleDragging",value:function(){var E=this;this.emitter.listenDOM("mousedown",document.body,function(){E.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){E.mouseDown=!1,E.update(j.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(E,C){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[E])){this.scroll.update();var O=this.getNativeRange();if(!(O==null||!O.native.collapsed||u.default.query(E,u.default.Scope.BLOCK))){if(O.start.node!==this.cursor.textNode){var _=u.default.find(O.start.node,!1);if(_==null)return;if(_ instanceof u.default.Leaf){var A=_.split(O.start.offset);_.parent.insertBefore(this.cursor,A)}else _.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(E,C),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=this.scroll.length();E=Math.min(E,O-1),C=Math.min(E+C,O-1)-E;var _=void 0,A=this.scroll.leaf(E),R=l(A,2),I=R[0],z=R[1];if(I==null)return null;var ee=I.position(z,!0),B=l(ee,2);_=B[0],z=B[1];var M=document.createRange();if(C>0){M.setStart(_,z);var P=this.scroll.leaf(E+C),L=l(P,2);if(I=L[0],z=L[1],I==null)return null;var F=I.position(z,!0),W=l(F,2);return _=W[0],z=W[1],M.setEnd(_,z),M.getBoundingClientRect()}else{var G="left",V=void 0;return _ instanceof Text?(z<_.data.length?(M.setStart(_,z),M.setEnd(_,z+1)):(M.setStart(_,z-1),M.setEnd(_,z),G="right"),V=M.getBoundingClientRect()):(V=I.domNode.getBoundingClientRect(),z>0&&(G="right")),{bottom:V.top+V.height,height:V.height,left:V[G],right:V[G],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var E=document.getSelection();if(E==null||E.rangeCount<=0)return null;var C=E.getRangeAt(0);if(C==null)return null;var O=this.normalizeNative(C);return x.info("getNativeRange",O),O}},{key:"getRange",value:function(){var E=this.getNativeRange();if(E==null)return[null,null];var C=this.normalizedToRange(E);return[C,E]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(E){var C=this,O=[[E.start.node,E.start.offset]];E.native.collapsed||O.push([E.end.node,E.end.offset]);var _=O.map(function(I){var z=l(I,2),ee=z[0],B=z[1],M=u.default.find(ee,!0),P=M.offset(C.scroll);return B===0?P:M instanceof u.default.Container?P+M.length():P+M.index(ee,B)}),A=Math.min(Math.max.apply(Math,c(_)),this.scroll.length()-1),R=Math.min.apply(Math,[A].concat(c(_)));return new v(R,A-R)}},{key:"normalizeNative",value:function(E){if(!w(this.root,E.startContainer)||!E.collapsed&&!w(this.root,E.endContainer))return null;var C={start:{node:E.startContainer,offset:E.startOffset},end:{node:E.endContainer,offset:E.endOffset},native:E};return[C.start,C.end].forEach(function(O){for(var _=O.node,A=O.offset;!(_ instanceof Text)&&_.childNodes.length>0;)if(_.childNodes.length>A)_=_.childNodes[A],A=0;else if(_.childNodes.length===A)_=_.lastChild,A=_ instanceof Text?_.data.length:_.childNodes.length+1;else break;O.node=_,O.offset=A}),C}},{key:"rangeToNative",value:function(E){var C=this,O=E.collapsed?[E.index]:[E.index,E.index+E.length],_=[],A=this.scroll.length();return O.forEach(function(R,I){R=Math.min(A-1,R);var z=void 0,ee=C.scroll.leaf(R),B=l(ee,2),M=B[0],P=B[1],L=M.position(P,I!==0),F=l(L,2);z=F[0],P=F[1],_.push(z,P)}),_.length<2&&(_=_.concat(_)),_}},{key:"scrollIntoView",value:function(E){var C=this.lastRange;if(C!=null){var O=this.getBounds(C.index,C.length);if(O!=null){var _=this.scroll.length()-1,A=this.scroll.line(Math.min(C.index,_)),R=l(A,1),I=R[0],z=I;if(C.length>0){var ee=this.scroll.line(Math.min(C.index+C.length,_)),B=l(ee,1);z=B[0]}if(!(I==null||z==null)){var M=E.getBoundingClientRect();O.top<M.top?E.scrollTop-=M.top-O.top:O.bottom>M.bottom&&(E.scrollTop+=O.bottom-M.bottom)}}}}},{key:"setNativeRange",value:function(E,C){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",E,C,O,_),!(E!=null&&(this.root.parentNode==null||E.parentNode==null||O.parentNode==null))){var R=document.getSelection();if(R!=null)if(E!=null){this.hasFocus()||this.root.focus();var I=(this.getNativeRange()||{}).native;if(I==null||A||E!==I.startContainer||C!==I.startOffset||O!==I.endContainer||_!==I.endOffset){E.tagName=="BR"&&(C=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode),O.tagName=="BR"&&(_=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode);var z=document.createRange();z.setStart(E,C),z.setEnd(O,_),R.removeAllRanges(),R.addRange(z)}}else R.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j.default.sources.API;if(typeof C=="string"&&(O=C,C=!1),x.info("setRange",E),E!=null){var _=this.rangeToNative(E);this.setNativeRange.apply(this,c(_).concat([C]))}else this.setNativeRange(null);this.update(O)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j.default.sources.USER,C=this.lastRange,O=this.getRange(),_=l(O,2),A=_[0],R=_[1];if(this.lastRange=A,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,i.default)(C,this.lastRange)){var I;!this.composing&&R!=null&&R.native.collapsed&&R.start.node!==this.cursor.textNode&&this.cursor.restore();var z=[j.default.events.SELECTION_CHANGE,(0,g.default)(this.lastRange),(0,g.default)(C),E];if((I=this.emitter).emit.apply(I,[j.default.events.EDITOR_CHANGE].concat(z)),E!==j.default.sources.SILENT){var ee;(ee=this.emitter).emit.apply(ee,z)}}}}]),S}();function w(S,E){try{E.parentNode}catch{return!1}return E instanceof Text&&(E=E.parentNode),S.contains(E)}a.Range=v,a.default=k},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function j(y,N){for(var h=0;h<N.length;h++){var c=N[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(y,c.key,c)}}return function(y,N,h){return N&&j(y.prototype,N),h&&j(y,h),y}}(),o=function j(y,N,h){y===null&&(y=Function.prototype);var c=Object.getOwnPropertyDescriptor(y,N);if(c===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:j(b,N,h)}else{if("value"in c)return c.value;var x=c.get;return x===void 0?void 0:x.call(h)}},p=s(0),u=f(p);function f(j){return j&&j.__esModule?j:{default:j}}function g(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}function m(j,y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:j}function i(j,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);j.prototype=Object.create(y&&y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,y):j.__proto__=y)}var d=function(j){i(y,j);function y(){return g(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return l(y,[{key:"insertInto",value:function(N,h){N.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,N,h):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(u.default.Embed);d.blotName="break",d.tagName="BR",a.default=d},function(n,a,s){var l=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var j in d)d.hasOwnProperty(j)&&(i[j]=d[j])};return function(i,d){m(i,d);function j(){this.constructor=i}i.prototype=d===null?Object.create(d):(j.prototype=d.prototype,new j)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(44),p=s(30),u=s(1),f=function(m){l(i,m);function i(d){var j=m.call(this,d)||this;return j.build(),j}return i.prototype.appendChild=function(d){this.insertBefore(d)},i.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},i.prototype.build=function(){var d=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(j){try{var y=g(j);d.insertBefore(y,d.children.head||void 0)}catch(N){if(N instanceof u.ParchmentError)return;throw N}})},i.prototype.deleteAt=function(d,j){if(d===0&&j===this.length())return this.remove();this.children.forEachAt(d,j,function(y,N,h){y.deleteAt(N,h)})},i.prototype.descendant=function(d,j){var y=this.children.find(j),N=y[0],h=y[1];return d.blotName==null&&d(N)||d.blotName!=null&&N instanceof d?[N,h]:N instanceof i?N.descendant(d,h):[null,-1]},i.prototype.descendants=function(d,j,y){j===void 0&&(j=0),y===void 0&&(y=Number.MAX_VALUE);var N=[],h=y;return this.children.forEachAt(j,y,function(c,b,x){(d.blotName==null&&d(c)||d.blotName!=null&&c instanceof d)&&N.push(c),c instanceof i&&(N=N.concat(c.descendants(d,b,h))),h-=x}),N},i.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),m.prototype.detach.call(this)},i.prototype.formatAt=function(d,j,y,N){this.children.forEachAt(d,j,function(h,c,b){h.formatAt(c,b,y,N)})},i.prototype.insertAt=function(d,j,y){var N=this.children.find(d),h=N[0],c=N[1];if(h)h.insertAt(c,j,y);else{var b=y==null?u.create("text",j):u.create(j,y);this.appendChild(b)}},i.prototype.insertBefore=function(d,j){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return d instanceof y}))throw new u.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,j)},i.prototype.length=function(){return this.children.reduce(function(d,j){return d+j.length()},0)},i.prototype.moveChildren=function(d,j){this.children.forEach(function(y){d.insertBefore(y,j)})},i.prototype.optimize=function(d){if(m.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var j=u.create(this.statics.defaultChild);this.appendChild(j),j.optimize(d)}else this.remove()},i.prototype.path=function(d,j){j===void 0&&(j=!1);var y=this.children.find(d,j),N=y[0],h=y[1],c=[[this,d]];return N instanceof i?c.concat(N.path(h,j)):(N!=null&&c.push([N,h]),c)},i.prototype.removeChild=function(d){this.children.remove(d)},i.prototype.replace=function(d){d instanceof i&&d.moveChildren(this),m.prototype.replace.call(this,d)},i.prototype.split=function(d,j){if(j===void 0&&(j=!1),!j){if(d===0)return this;if(d===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(d,this.length(),function(N,h,c){N=N.split(h,j),y.appendChild(N)}),y},i.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},i.prototype.update=function(d,j){var y=this,N=[],h=[];d.forEach(function(c){c.target===y.domNode&&c.type==="childList"&&(N.push.apply(N,c.addedNodes),h.push.apply(h,c.removedNodes))}),h.forEach(function(c){if(!(c.parentNode!=null&&c.tagName!=="IFRAME"&&document.body.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=u.find(c);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===y.domNode)&&b.detach()}}),N.filter(function(c){return c.parentNode==y.domNode}).sort(function(c,b){return c===b?0:c.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(c){var b=null;c.nextSibling!=null&&(b=u.find(c.nextSibling));var x=g(c);(x.next!=b||x.next==null)&&(x.parent!=null&&x.parent.removeChild(y),y.insertBefore(x,b||void 0))})},i}(p.default);function g(m){var i=u.find(m);if(i==null)try{i=u.create(m)}catch{i=u.create(u.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(d){i.domNode.appendChild(d)}),m.parentNode&&m.parentNode.replaceChild(i.domNode,m),i.attach()}return i}a.default=f},function(n,a,s){var l=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var j in d)d.hasOwnProperty(j)&&(i[j]=d[j])};return function(i,d){m(i,d);function j(){this.constructor=i}i.prototype=d===null?Object.create(d):(j.prototype=d.prototype,new j)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(12),p=s(31),u=s(17),f=s(1),g=function(m){l(i,m);function i(d){var j=m.call(this,d)||this;return j.attributes=new p.default(j.domNode),j}return i.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},i.prototype.format=function(d,j){var y=f.query(d);y instanceof o.default?this.attributes.attribute(y,j):j&&y!=null&&(d!==this.statics.blotName||this.formats()[d]!==j)&&this.replaceWith(d,j)},i.prototype.formats=function(){var d=this.attributes.values(),j=this.statics.formats(this.domNode);return j!=null&&(d[this.statics.blotName]=j),d},i.prototype.replaceWith=function(d,j){var y=m.prototype.replaceWith.call(this,d,j);return this.attributes.copy(y),y},i.prototype.update=function(d,j){var y=this;m.prototype.update.call(this,d,j),d.some(function(N){return N.target===y.domNode&&N.type==="attributes"})&&this.attributes.build()},i.prototype.wrap=function(d,j){var y=m.prototype.wrap.call(this,d,j);return y instanceof i&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},i}(u.default);a.default=g},function(n,a,s){var l=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var i in m)m.hasOwnProperty(i)&&(g[i]=m[i])};return function(g,m){f(g,m);function i(){this.constructor=g}g.prototype=m===null?Object.create(m):(i.prototype=m.prototype,new i)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(30),p=s(1),u=function(f){l(g,f);function g(){return f!==null&&f.apply(this,arguments)||this}return g.value=function(m){return!0},g.prototype.index=function(m,i){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(i,1):-1},g.prototype.position=function(m,i){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(d+=1),[this.parent.domNode,d]},g.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},g.scope=p.Scope.INLINE_BLOT,g}(o.default);a.default=u},function(n,a,s){var l=s(11),o=s(3),p={attributes:{compose:function(f,g,m){typeof f!="object"&&(f={}),typeof g!="object"&&(g={});var i=o(!0,{},g);m||(i=Object.keys(i).reduce(function(j,y){return i[y]!=null&&(j[y]=i[y]),j},{}));for(var d in f)f[d]!==void 0&&g[d]===void 0&&(i[d]=f[d]);return Object.keys(i).length>0?i:void 0},diff:function(f,g){typeof f!="object"&&(f={}),typeof g!="object"&&(g={});var m=Object.keys(f).concat(Object.keys(g)).reduce(function(i,d){return l(f[d],g[d])||(i[d]=g[d]===void 0?null:g[d]),i},{});return Object.keys(m).length>0?m:void 0},transform:function(f,g,m){if(typeof f!="object")return g;if(typeof g=="object"){if(!m)return g;var i=Object.keys(g).reduce(function(d,j){return f[j]===void 0&&(d[j]=g[j]),d},{});return Object.keys(i).length>0?i:void 0}}},iterator:function(f){return new u(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function u(f){this.ops=f,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(f){f||(f=1/0);var g=this.ops[this.index];if(g){var m=this.offset,i=p.length(g);if(f>=i-m?(f=i-m,this.index+=1,this.offset=0):this.offset+=f,typeof g.delete=="number")return{delete:f};var d={};return g.attributes&&(d.attributes=g.attributes),typeof g.retain=="number"?d.retain=f:typeof g.insert=="string"?d.insert=g.insert.substr(m,f):d.insert=g.insert,d}else return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?p.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},u.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,g=this.index,m=this.next(),i=this.ops.slice(this.index);return this.offset=f,this.index=g,[m].concat(i)}else return[]},n.exports=p},function(n,a){var s=function(){function l(y,N){return N!=null&&y instanceof N}var o;try{o=Map}catch{o=function(){}}var p;try{p=Set}catch{p=function(){}}var u;try{u=Promise}catch{u=function(){}}function f(y,N,h,c,b){typeof N=="object"&&(h=N.depth,c=N.prototype,b=N.includeNonEnumerable,N=N.circular);var x=[],v=[],k=typeof Buffer<"u";typeof N>"u"&&(N=!0),typeof h>"u"&&(h=1/0);function w(S,E){if(S===null)return null;if(E===0)return S;var C,O;if(typeof S!="object")return S;if(l(S,o))C=new o;else if(l(S,p))C=new p;else if(l(S,u))C=new u(function(P,L){S.then(function(F){P(w(F,E-1))},function(F){L(w(F,E-1))})});else if(f.__isArray(S))C=[];else if(f.__isRegExp(S))C=new RegExp(S.source,j(S)),S.lastIndex&&(C.lastIndex=S.lastIndex);else if(f.__isDate(S))C=new Date(S.getTime());else{if(k&&Buffer.isBuffer(S))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(S.length):C=new Buffer(S.length),S.copy(C),C;l(S,Error)?C=Object.create(S):typeof c>"u"?(O=Object.getPrototypeOf(S),C=Object.create(O)):(C=Object.create(c),O=c)}if(N){var _=x.indexOf(S);if(_!=-1)return v[_];x.push(S),v.push(C)}l(S,o)&&S.forEach(function(P,L){var F=w(L,E-1),W=w(P,E-1);C.set(F,W)}),l(S,p)&&S.forEach(function(P){var L=w(P,E-1);C.add(L)});for(var A in S){var R;O&&(R=Object.getOwnPropertyDescriptor(O,A)),!(R&&R.set==null)&&(C[A]=w(S[A],E-1))}if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(S),A=0;A<I.length;A++){var z=I[A],ee=Object.getOwnPropertyDescriptor(S,z);ee&&!ee.enumerable&&!b||(C[z]=w(S[z],E-1),ee.enumerable||Object.defineProperty(C,z,{enumerable:!1}))}if(b)for(var B=Object.getOwnPropertyNames(S),A=0;A<B.length;A++){var M=B[A],ee=Object.getOwnPropertyDescriptor(S,M);ee&&ee.enumerable||(C[M]=w(S[M],E-1),Object.defineProperty(C,M,{enumerable:!1}))}return C}return w(y,h)}f.clonePrototype=function(y){if(y===null)return null;var N=function(){};return N.prototype=y,new N};function g(y){return Object.prototype.toString.call(y)}f.__objToStr=g;function m(y){return typeof y=="object"&&g(y)==="[object Date]"}f.__isDate=m;function i(y){return typeof y=="object"&&g(y)==="[object Array]"}f.__isArray=i;function d(y){return typeof y=="object"&&g(y)==="[object RegExp]"}f.__isRegExp=d;function j(y){var N="";return y.global&&(N+="g"),y.ignoreCase&&(N+="i"),y.multiline&&(N+="m"),N}return f.__getRegExpFlags=j,f}();typeof n=="object"&&n.exports&&(n.exports=s)},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function C(O,_){var A=[],R=!0,I=!1,z=void 0;try{for(var ee=O[Symbol.iterator](),B;!(R=(B=ee.next()).done)&&(A.push(B.value),!(_&&A.length===_));R=!0);}catch(M){I=!0,z=M}finally{try{!R&&ee.return&&ee.return()}finally{if(I)throw z}}return A}return function(O,_){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return C(O,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(O,_){for(var A=0;A<_.length;A++){var R=_[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,_,A){return _&&C(O.prototype,_),A&&C(O,A),O}}(),p=function C(O,_,A){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,_);if(R===void 0){var I=Object.getPrototypeOf(O);return I===null?void 0:C(I,_,A)}else{if("value"in R)return R.value;var z=R.get;return z===void 0?void 0:z.call(A)}},u=s(0),f=x(u),g=s(8),m=x(g),i=s(4),d=x(i),j=s(16),y=x(j),N=s(13),h=x(N),c=s(25),b=x(c);function x(C){return C&&C.__esModule?C:{default:C}}function v(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function k(C,O){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:C}function w(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}function S(C){return C instanceof d.default||C instanceof i.BlockEmbed}var E=function(C){w(O,C);function O(_,A){v(this,O);var R=k(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,_));return R.emitter=A.emitter,Array.isArray(A.whitelist)&&(R.whitelist=A.whitelist.reduce(function(I,z){return I[z]=!0,I},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return o(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(_,A){var R=this.line(_),I=l(R,2),z=I[0],ee=I[1],B=this.line(_+A),M=l(B,1),P=M[0];if(p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,_,A),P!=null&&z!==P&&ee>0){if(z instanceof i.BlockEmbed||P instanceof i.BlockEmbed){this.optimize();return}if(z instanceof h.default){var L=z.newlineIndex(z.length(),!0);if(L>-1&&(z=z.split(L+1),z===P)){this.optimize();return}}else if(P instanceof h.default){var F=P.newlineIndex(0);F>-1&&P.split(F+1)}var W=P.children.head instanceof y.default?null:P.children.head;z.moveChildren(P,W),z.remove()}this.optimize()}},{key:"enable",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",_)}},{key:"formatAt",value:function(_,A,R,I){this.whitelist!=null&&!this.whitelist[R]||(p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,_,A,R,I),this.optimize())}},{key:"insertAt",value:function(_,A,R){if(!(R!=null&&this.whitelist!=null&&!this.whitelist[A])){if(_>=this.length())if(R==null||f.default.query(A,f.default.Scope.BLOCK)==null){var I=f.default.create(this.statics.defaultChild);this.appendChild(I),R==null&&A.endsWith(`
`)&&(A=A.slice(0,-1)),I.insertAt(0,A,R)}else{var z=f.default.create(A,R);this.appendChild(z)}else p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,_,A,R);this.optimize()}}},{key:"insertBefore",value:function(_,A){if(_.statics.scope===f.default.Scope.INLINE_BLOT){var R=f.default.create(this.statics.defaultChild);R.appendChild(_),_=R}p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,_,A)}},{key:"leaf",value:function(_){return this.path(_).pop()||[null,-1]}},{key:"line",value:function(_){return _===this.length()?this.line(_-1):this.descendant(S,_)}},{key:"lines",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,R=function I(z,ee,B){var M=[],P=B;return z.children.forEachAt(ee,B,function(L,F,W){S(L)?M.push(L):L instanceof f.default.Container&&(M=M.concat(I(L,F,P))),P-=W}),M};return R(this,_,A)}},{key:"optimize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,_,A),_.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,_,A))}},{key:"path",value:function(_){return p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,_).slice(1)}},{key:"update",value:function(_){if(this.batch!==!0){var A=m.default.sources.USER;typeof _=="string"&&(A=_),Array.isArray(_)||(_=this.observer.takeRecords()),_.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,A,_),p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,_.concat([])),_.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,A,_)}}}]),O}(f.default.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[d.default,i.BlockEmbed,b.default],a.default=E},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.SHORTKEY=a.default=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},o=function(){function $(U,X){var le=[],ae=!0,J=!1,ne=void 0;try{for(var D=U[Symbol.iterator](),ie;!(ae=(ie=D.next()).done)&&(le.push(ie.value),!(X&&le.length===X));ae=!0);}catch(me){J=!0,ne=me}finally{try{!ae&&D.return&&D.return()}finally{if(J)throw ne}}return le}return function(U,X){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return $(U,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function $(U,X){for(var le=0;le<X.length;le++){var ae=X[le];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(U,ae.key,ae)}}return function(U,X,le){return X&&$(U.prototype,X),le&&$(U,le),U}}(),u=s(21),f=C(u),g=s(11),m=C(g),i=s(3),d=C(i),j=s(2),y=C(j),N=s(20),h=C(N),c=s(0),b=C(c),x=s(5),v=C(x),k=s(10),w=C(k),S=s(9),E=C(S);function C($){return $&&$.__esModule?$:{default:$}}function O($,U,X){return U in $?Object.defineProperty($,U,{value:X,enumerable:!0,configurable:!0,writable:!0}):$[U]=X,$}function _($,U){if(!($ instanceof U))throw new TypeError("Cannot call a class as a function")}function A($,U){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:$}function R($,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);$.prototype=Object.create(U&&U.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf($,U):$.__proto__=U)}var I=(0,w.default)("quill:keyboard"),z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ee=function($){R(U,$),p(U,null,[{key:"match",value:function(X,le){return le=V(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ae){return!!le[ae]!==X[ae]&&le[ae]!==null})?!1:le.key===(X.which||X.keyCode)}}]);function U(X,le){_(this,U);var ae=A(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,X,le));return ae.bindings={},Object.keys(ae.options.bindings).forEach(function(J){J==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||ae.options.bindings[J]&&ae.addBinding(ae.options.bindings[J])}),ae.addBinding({key:U.keys.ENTER,shiftKey:null},F),ae.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ae.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},M),ae.addBinding({key:U.keys.DELETE},{collapsed:!0},P)):(ae.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},M),ae.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},P)),ae.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},L),ae.addBinding({key:U.keys.DELETE},{collapsed:!1},L),ae.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},M),ae.listen(),ae}return p(U,[{key:"addBinding",value:function(X){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},J=V(X);if(J==null||J.key==null)return I.warn("Attempted to add invalid keyboard binding",J);typeof le=="function"&&(le={handler:le}),typeof ae=="function"&&(ae={handler:ae}),J=(0,d.default)(J,le,ae),this.bindings[J.key]=this.bindings[J.key]||[],this.bindings[J.key].push(J)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var ae=le.which||le.keyCode,J=(X.bindings[ae]||[]).filter(function(Pe){return U.match(le,Pe)});if(J.length!==0){var ne=X.quill.getSelection();if(!(ne==null||!X.quill.hasFocus())){var D=X.quill.getLine(ne.index),ie=o(D,2),me=ie[0],ge=ie[1],pe=X.quill.getLeaf(ne.index),te=o(pe,2),Z=te[0],re=te[1],Q=ne.length===0?[Z,re]:X.quill.getLeaf(ne.index+ne.length),K=o(Q,2),H=K[0],he=K[1],ve=Z instanceof b.default.Text?Z.value().slice(0,re):"",Se=H instanceof b.default.Text?H.value().slice(he):"",ke={collapsed:ne.length===0,empty:ne.length===0&&me.length()<=1,format:X.quill.getFormat(ne),offset:ge,prefix:ve,suffix:Se},xn=J.some(function(Pe){if(Pe.collapsed!=null&&Pe.collapsed!==ke.collapsed||Pe.empty!=null&&Pe.empty!==ke.empty||Pe.offset!=null&&Pe.offset!==ke.offset)return!1;if(Array.isArray(Pe.format)){if(Pe.format.every(function(Ke){return ke.format[Ke]==null}))return!1}else if(l(Pe.format)==="object"&&!Object.keys(Pe.format).every(function(Ke){return Pe.format[Ke]===!0?ke.format[Ke]!=null:Pe.format[Ke]===!1?ke.format[Ke]==null:(0,m.default)(Pe.format[Ke],ke.format[Ke])}))return!1;return Pe.prefix!=null&&!Pe.prefix.test(ke.prefix)||Pe.suffix!=null&&!Pe.suffix.test(ke.suffix)?!1:Pe.handler.call(X,ne,ke)!==!0});xn&&le.preventDefault()}}}})}}]),U}(E.default);ee.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ee.DEFAULTS={bindings:{bold:G("bold"),italic:G("italic"),underline:G("underline"),indent:{key:ee.keys.TAB,format:["blockquote","indent","list"],handler:function($,U){if(U.collapsed&&U.offset!==0)return!0;this.quill.format("indent","+1",v.default.sources.USER)}},outdent:{key:ee.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function($,U){if(U.collapsed&&U.offset!==0)return!0;this.quill.format("indent","-1",v.default.sources.USER)}},"outdent backspace":{key:ee.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function($,U){U.format.indent!=null?this.quill.format("indent","-1",v.default.sources.USER):U.format.list!=null&&this.quill.format("list",!1,v.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:ee.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function($){this.quill.deleteText($.index-1,1,v.default.sources.USER)}},tab:{key:ee.keys.TAB,handler:function($){this.quill.history.cutoff();var U=new y.default().retain($.index).delete($.length).insert("	");this.quill.updateContents(U,v.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index+1,v.default.sources.SILENT)}},"list empty enter":{key:ee.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function($,U){this.quill.format("list",!1,v.default.sources.USER),U.format.indent&&this.quill.format("indent",!1,v.default.sources.USER)}},"checklist enter":{key:ee.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function($){var U=this.quill.getLine($.index),X=o(U,2),le=X[0],ae=X[1],J=(0,d.default)({},le.formats(),{list:"checked"}),ne=new y.default().retain($.index).insert(`
`,J).retain(le.length()-ae-1).retain(1,{list:"unchecked"});this.quill.updateContents(ne,v.default.sources.USER),this.quill.setSelection($.index+1,v.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ee.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function($,U){var X=this.quill.getLine($.index),le=o(X,2),ae=le[0],J=le[1],ne=new y.default().retain($.index).insert(`
`,U.format).retain(ae.length()-J-1).retain(1,{header:null});this.quill.updateContents(ne,v.default.sources.USER),this.quill.setSelection($.index+1,v.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function($,U){var X=U.prefix.length,le=this.quill.getLine($.index),ae=o(le,2),J=ae[0],ne=ae[1];if(ne>X)return!0;var D=void 0;switch(U.prefix.trim()){case"[]":case"[ ]":D="unchecked";break;case"[x]":D="checked";break;case"-":case"*":D="bullet";break;default:D="ordered"}this.quill.insertText($.index," ",v.default.sources.USER),this.quill.history.cutoff();var ie=new y.default().retain($.index-ne).delete(X+1).retain(J.length()-2-ne).retain(1,{list:D});this.quill.updateContents(ie,v.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index-X,v.default.sources.SILENT)}},"code exit":{key:ee.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function($){var U=this.quill.getLine($.index),X=o(U,2),le=X[0],ae=X[1],J=new y.default().retain($.index+le.length()-ae-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(J,v.default.sources.USER)}},"embed left":B(ee.keys.LEFT,!1),"embed left shift":B(ee.keys.LEFT,!0),"embed right":B(ee.keys.RIGHT,!1),"embed right shift":B(ee.keys.RIGHT,!0)}};function B($,U){var X,le=$===ee.keys.LEFT?"prefix":"suffix";return X={key:$,shiftKey:U,altKey:null},O(X,le,/^$/),O(X,"handler",function(ae){var J=ae.index;$===ee.keys.RIGHT&&(J+=ae.length+1);var ne=this.quill.getLeaf(J),D=o(ne,1),ie=D[0];return ie instanceof b.default.Embed?($===ee.keys.LEFT?U?this.quill.setSelection(ae.index-1,ae.length+1,v.default.sources.USER):this.quill.setSelection(ae.index-1,v.default.sources.USER):U?this.quill.setSelection(ae.index,ae.length+1,v.default.sources.USER):this.quill.setSelection(ae.index+ae.length+1,v.default.sources.USER),!1):!0}),X}function M($,U){if(!($.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine($.index),le=o(X,1),ae=le[0],J={};if(U.offset===0){var ne=this.quill.getLine($.index-1),D=o(ne,1),ie=D[0];if(ie!=null&&ie.length()>1){var me=ae.formats(),ge=this.quill.getFormat($.index-1,1);J=h.default.attributes.diff(me,ge)||{}}}var pe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText($.index-pe,pe,v.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine($.index-pe,pe,J,v.default.sources.USER),this.quill.focus()}}function P($,U){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!($.index>=this.quill.getLength()-X)){var le={},ae=0,J=this.quill.getLine($.index),ne=o(J,1),D=ne[0];if(U.offset>=D.length()-1){var ie=this.quill.getLine($.index+1),me=o(ie,1),ge=me[0];if(ge){var pe=D.formats(),te=this.quill.getFormat($.index,1);le=h.default.attributes.diff(pe,te)||{},ae=ge.length()}}this.quill.deleteText($.index,X,v.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine($.index+ae-1,X,le,v.default.sources.USER)}}function L($){var U=this.quill.getLines($),X={};if(U.length>1){var le=U[0].formats(),ae=U[U.length-1].formats();X=h.default.attributes.diff(ae,le)||{}}this.quill.deleteText($,v.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine($.index,1,X,v.default.sources.USER),this.quill.setSelection($.index,v.default.sources.SILENT),this.quill.focus()}function F($,U){var X=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var le=Object.keys(U.format).reduce(function(ae,J){return b.default.query(J,b.default.Scope.BLOCK)&&!Array.isArray(U.format[J])&&(ae[J]=U.format[J]),ae},{});this.quill.insertText($.index,`
`,le,v.default.sources.USER),this.quill.setSelection($.index+1,v.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(ae){le[ae]==null&&(Array.isArray(U.format[ae])||ae!=="link"&&X.quill.format(ae,U.format[ae],v.default.sources.USER))})}function W($){return{key:ee.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(U){var X=b.default.query("code-block"),le=U.index,ae=U.length,J=this.quill.scroll.descendant(X,le),ne=o(J,2),D=ne[0],ie=ne[1];if(D!=null){var me=this.quill.getIndex(D),ge=D.newlineIndex(ie,!0)+1,pe=D.newlineIndex(me+ie+ae),te=D.domNode.textContent.slice(ge,pe).split(`
`);ie=0,te.forEach(function(Z,re){$?(D.insertAt(ge+ie,X.TAB),ie+=X.TAB.length,re===0?le+=X.TAB.length:ae+=X.TAB.length):Z.startsWith(X.TAB)&&(D.deleteAt(ge+ie,X.TAB.length),ie-=X.TAB.length,re===0?le-=X.TAB.length:ae-=X.TAB.length),ie+=Z.length+1}),this.quill.update(v.default.sources.USER),this.quill.setSelection(le,ae,v.default.sources.SILENT)}}}}function G($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(U,X){this.quill.format($,!X.format[$],v.default.sources.USER)}}}function V($){if(typeof $=="string"||typeof $=="number")return V({key:$});if((typeof $>"u"?"undefined":l($))==="object"&&($=(0,f.default)($,!1)),typeof $.key=="string")if(ee.keys[$.key.toUpperCase()]!=null)$.key=ee.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[z]=$.shortKey,delete $.shortKey),$}a.default=ee,a.SHORTKEY=z},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function h(c,b){var x=[],v=!0,k=!1,w=void 0;try{for(var S=c[Symbol.iterator](),E;!(v=(E=S.next()).done)&&(x.push(E.value),!(b&&x.length===b));v=!0);}catch(C){k=!0,w=C}finally{try{!v&&S.return&&S.return()}finally{if(k)throw w}}return x}return function(c,b){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return h(c,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function h(c,b,x){c===null&&(c=Function.prototype);var v=Object.getOwnPropertyDescriptor(c,b);if(v===void 0){var k=Object.getPrototypeOf(c);return k===null?void 0:h(k,b,x)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(x)}},p=function(){function h(c,b){for(var x=0;x<b.length;x++){var v=b[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,b,x){return b&&h(c.prototype,b),x&&h(c,x),c}}(),u=s(0),f=i(u),g=s(7),m=i(g);function i(h){return h&&h.__esModule?h:{default:h}}function d(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function j(h,c){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:h}function y(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(h,c):h.__proto__=c)}var N=function(h){y(c,h),p(c,null,[{key:"value",value:function(){}}]);function c(b,x){d(this,c);var v=j(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,b));return v.selection=x,v.textNode=document.createTextNode(c.CONTENTS),v.domNode.appendChild(v.textNode),v._length=0,v}return p(c,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,x){if(this._length!==0)return o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,b,x);for(var v=this,k=0;v!=null&&v.statics.scope!==f.default.Scope.BLOCK_BLOT;)k+=v.offset(v.parent),v=v.parent;v!=null&&(this._length=c.CONTENTS.length,v.optimize(),v.formatAt(k,c.CONTENTS.length,b,x),this._length=0)}},{key:"index",value:function(b,x){return b===this.textNode?0:o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"index",this).call(this,b,x)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,x=this.selection.getNativeRange(),v=void 0,k=void 0,w=void 0;if(x!=null&&x.start.node===b&&x.end.node===b){var S=[b,x.start.offset,x.end.offset];v=S[0],k=S[1],w=S[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==c.CONTENTS){var E=this.textNode.data.split(c.CONTENTS).join("");this.next instanceof m.default?(v=this.next.domNode,this.next.insertAt(0,E),this.textNode.data=c.CONTENTS):(this.textNode.data=E,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(c.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var C=[k,w].map(function(_){return Math.max(0,Math.min(v.data.length,_-1))}),O=l(C,2);return k=O[0],w=O[1],{startNode:v,startOffset:k,endNode:v,endOffset:w}}}}},{key:"update",value:function(b,x){var v=this;if(b.some(function(w){return w.type==="characterData"&&w.target===v.textNode})){var k=this.restore();k&&(x.range=k)}}},{key:"value",value:function(){return""}}]),c}(f.default.Embed);N.blotName="cursor",N.className="ql-cursor",N.tagName="span",N.CONTENTS="\uFEFF",a.default=N},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(0),o=f(l),p=s(4),u=f(p);function f(j){return j&&j.__esModule?j:{default:j}}function g(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}function m(j,y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:j}function i(j,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);j.prototype=Object.create(y&&y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,y):j.__proto__=y)}var d=function(j){i(y,j);function y(){return g(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);d.allowedChildren=[u.default,p.BlockEmbed,d],a.default=d},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ColorStyle=a.ColorClass=a.ColorAttributor=void 0;var l=function(){function N(h,c){for(var b=0;b<c.length;b++){var x=c[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,c,b){return c&&N(h.prototype,c),b&&N(h,b),h}}(),o=function N(h,c,b){h===null&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,c);if(x===void 0){var v=Object.getPrototypeOf(h);return v===null?void 0:N(v,c,b)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(b)}},p=s(0),u=f(p);function f(N){return N&&N.__esModule?N:{default:N}}function g(N,h){if(!(N instanceof h))throw new TypeError("Cannot call a class as a function")}function m(N,h){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:N}function i(N,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);N.prototype=Object.create(h&&h.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(N,h):N.__proto__=h)}var d=function(N){i(h,N);function h(){return g(this,h),m(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return l(h,[{key:"value",value:function(c){var b=o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"value",this).call(this,c);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join("")):b}}]),h}(u.default.Attributor.Style),j=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),y=new d("color","color",{scope:u.default.Scope.INLINE});a.ColorAttributor=d,a.ColorClass=j,a.ColorStyle=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitize=a.default=void 0;var l=function(){function y(N,h){for(var c=0;c<h.length;c++){var b=h[c];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(N,b.key,b)}}return function(N,h,c){return h&&y(N.prototype,h),c&&y(N,c),N}}(),o=function y(N,h,c){N===null&&(N=Function.prototype);var b=Object.getOwnPropertyDescriptor(N,h);if(b===void 0){var x=Object.getPrototypeOf(N);return x===null?void 0:y(x,h,c)}else{if("value"in b)return b.value;var v=b.get;return v===void 0?void 0:v.call(c)}},p=s(6),u=f(p);function f(y){return y&&y.__esModule?y:{default:y}}function g(y,N){if(!(y instanceof N))throw new TypeError("Cannot call a class as a function")}function m(y,N){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:y}function i(y,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);y.prototype=Object.create(N&&N.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(y,N):y.__proto__=N)}var d=function(y){i(N,y);function N(){return g(this,N),m(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return l(N,[{key:"format",value:function(h,c){if(h!==this.statics.blotName||!c)return o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,h,c);c=this.constructor.sanitize(c),this.domNode.setAttribute("href",c)}}],[{key:"create",value:function(h){var c=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,h);return h=this.sanitize(h),c.setAttribute("href",h),c.setAttribute("rel","noopener noreferrer"),c.setAttribute("target","_blank"),c}},{key:"formats",value:function(h){return h.getAttribute("href")}},{key:"sanitize",value:function(h){return j(h,this.PROTOCOL_WHITELIST)?h:this.SANITIZED_URL}}]),N}(u.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function j(y,N){var h=document.createElement("a");h.href=y;var c=h.href.slice(0,h.href.indexOf(":"));return N.indexOf(c)>-1}a.default=d,a.sanitize=j},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},o=function(){function N(h,c){for(var b=0;b<c.length;b++){var x=c[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,c,b){return c&&N(h.prototype,c),b&&N(h,b),h}}(),p=s(23),u=m(p),f=s(107),g=m(f);function m(N){return N&&N.__esModule?N:{default:N}}function i(N,h){if(!(N instanceof h))throw new TypeError("Cannot call a class as a function")}var d=0;function j(N,h){N.setAttribute(h,N.getAttribute(h)!=="true")}var y=function(){function N(h){var c=this;i(this,N),this.select=h,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){c.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case u.default.keys.ENTER:c.togglePicker();break;case u.default.keys.ESCAPE:c.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(N,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),j(this.label,"aria-expanded"),j(this.options,"aria-hidden")}},{key:"buildItem",value:function(h){var c=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),h.hasAttribute("value")&&b.setAttribute("data-value",h.getAttribute("value")),h.textContent&&b.setAttribute("data-label",h.textContent),b.addEventListener("click",function(){c.selectItem(b,!0)}),b.addEventListener("keydown",function(x){switch(x.keyCode){case u.default.keys.ENTER:c.selectItem(b,!0),x.preventDefault();break;case u.default.keys.ESCAPE:c.escape(),x.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var h=document.createElement("span");return h.classList.add("ql-picker-label"),h.innerHTML=g.default,h.tabIndex="0",h.setAttribute("role","button"),h.setAttribute("aria-expanded","false"),this.container.appendChild(h),h}},{key:"buildOptions",value:function(){var h=this,c=document.createElement("span");c.classList.add("ql-picker-options"),c.setAttribute("aria-hidden","true"),c.tabIndex="-1",c.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",c.id),this.options=c,[].slice.call(this.select.options).forEach(function(b){var x=h.buildItem(b);c.appendChild(x),b.selected===!0&&h.selectItem(x)}),this.container.appendChild(c)}},{key:"buildPicker",value:function(){var h=this;[].slice.call(this.select.attributes).forEach(function(c){h.container.setAttribute(c.name,c.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var h=this;this.close(),setTimeout(function(){return h.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(h!==b&&(b!=null&&b.classList.remove("ql-selected"),h!=null&&(h.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(h.parentNode.children,h),h.hasAttribute("data-value")?this.label.setAttribute("data-value",h.getAttribute("data-value")):this.label.removeAttribute("data-value"),h.hasAttribute("data-label")?this.label.setAttribute("data-label",h.getAttribute("data-label")):this.label.removeAttribute("data-label"),c))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":l(Event))==="object"){var x=document.createEvent("Event");x.initEvent("change",!0,!0),this.select.dispatchEvent(x)}this.close()}}},{key:"update",value:function(){var h=void 0;if(this.select.selectedIndex>-1){var c=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];h=this.select.options[this.select.selectedIndex],this.selectItem(c)}else this.selectItem(null);var b=h!=null&&h!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),N}();a.default=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(0),o=I(l),p=s(5),u=I(p),f=s(4),g=I(f),m=s(16),i=I(m),d=s(25),j=I(d),y=s(24),N=I(y),h=s(35),c=I(h),b=s(6),x=I(b),v=s(22),k=I(v),w=s(7),S=I(w),E=s(55),C=I(E),O=s(42),_=I(O),A=s(23),R=I(A);function I(z){return z&&z.__esModule?z:{default:z}}u.default.register({"blots/block":g.default,"blots/block/embed":f.BlockEmbed,"blots/break":i.default,"blots/container":j.default,"blots/cursor":N.default,"blots/embed":c.default,"blots/inline":x.default,"blots/scroll":k.default,"blots/text":S.default,"modules/clipboard":C.default,"modules/history":_.default,"modules/keyboard":R.default}),o.default.register(g.default,i.default,N.default,x.default,k.default,S.default),a.default=u.default},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(1),o=function(){function p(u){this.domNode=u,this.domNode[l.DATA_KEY]={blot:this}}return Object.defineProperty(p.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),p.create=function(u){if(this.tagName==null)throw new l.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof u=="string"&&(u=u.toUpperCase(),parseInt(u).toString()===u&&(u=parseInt(u))),typeof u=="number"?f=document.createElement(this.tagName[u-1]):this.tagName.indexOf(u)>-1?f=document.createElement(u):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},p.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},p.prototype.clone=function(){var u=this.domNode.cloneNode(!1);return l.create(u)},p.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[l.DATA_KEY]},p.prototype.deleteAt=function(u,f){var g=this.isolate(u,f);g.remove()},p.prototype.formatAt=function(u,f,g,m){var i=this.isolate(u,f);if(l.query(g,l.Scope.BLOT)!=null&&m)i.wrap(g,m);else if(l.query(g,l.Scope.ATTRIBUTE)!=null){var d=l.create(this.statics.scope);i.wrap(d),d.format(g,m)}},p.prototype.insertAt=function(u,f,g){var m=g==null?l.create("text",f):l.create(f,g),i=this.split(u);this.parent.insertBefore(m,i)},p.prototype.insertInto=function(u,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var g=null;u.children.insertBefore(this,f),f!=null&&(g=f.domNode),(this.domNode.parentNode!=u.domNode||this.domNode.nextSibling!=g)&&u.domNode.insertBefore(this.domNode,g),this.parent=u,this.attach()},p.prototype.isolate=function(u,f){var g=this.split(u);return g.split(f),g},p.prototype.length=function(){return 1},p.prototype.offset=function(u){return u===void 0&&(u=this.parent),this.parent==null||this==u?0:this.parent.children.offset(this)+this.parent.offset(u)},p.prototype.optimize=function(u){this.domNode[l.DATA_KEY]!=null&&delete this.domNode[l.DATA_KEY].mutations},p.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},p.prototype.replace=function(u){u.parent!=null&&(u.parent.insertBefore(this,u.next),u.remove())},p.prototype.replaceWith=function(u,f){var g=typeof u=="string"?l.create(u,f):u;return g.replace(this),g},p.prototype.split=function(u,f){return u===0?this:this.next},p.prototype.update=function(u,f){},p.prototype.wrap=function(u,f){var g=typeof u=="string"?l.create(u,f):u;return this.parent!=null&&this.parent.insertBefore(g,this.next),g.appendChild(this),g},p.blotName="abstract",p}();a.default=o},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(12),o=s(32),p=s(33),u=s(1),f=function(){function g(m){this.attributes={},this.domNode=m,this.build()}return g.prototype.attribute=function(m,i){i?m.add(this.domNode,i)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},g.prototype.build=function(){var m=this;this.attributes={};var i=l.default.keys(this.domNode),d=o.default.keys(this.domNode),j=p.default.keys(this.domNode);i.concat(d).concat(j).forEach(function(y){var N=u.query(y,u.Scope.ATTRIBUTE);N instanceof l.default&&(m.attributes[N.attrName]=N)})},g.prototype.copy=function(m){var i=this;Object.keys(this.attributes).forEach(function(d){var j=i.attributes[d].value(i.domNode);m.format(d,j)})},g.prototype.move=function(m){var i=this;this.copy(m),Object.keys(this.attributes).forEach(function(d){i.attributes[d].remove(i.domNode)}),this.attributes={}},g.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(i,d){return i[d]=m.attributes[d].value(m.domNode),i},{})},g}();a.default=f},function(n,a,s){var l=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var i in m)m.hasOwnProperty(i)&&(g[i]=m[i])};return function(g,m){f(g,m);function i(){this.constructor=g}g.prototype=m===null?Object.create(m):(i.prototype=m.prototype,new i)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(12);function p(f,g){var m=f.getAttribute("class")||"";return m.split(/\s+/).filter(function(i){return i.indexOf(g+"-")===0})}var u=function(f){l(g,f);function g(){return f!==null&&f.apply(this,arguments)||this}return g.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(i){return i.split("-").slice(0,-1).join("-")})},g.prototype.add=function(m,i){return this.canAdd(m,i)?(this.remove(m),m.classList.add(this.keyName+"-"+i),!0):!1},g.prototype.remove=function(m){var i=p(m,this.keyName);i.forEach(function(d){m.classList.remove(d)}),m.classList.length===0&&m.removeAttribute("class")},g.prototype.value=function(m){var i=p(m,this.keyName)[0]||"",d=i.slice(this.keyName.length+1);return this.canAdd(m,d)?d:""},g}(o.default);a.default=u},function(n,a,s){var l=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var i in m)m.hasOwnProperty(i)&&(g[i]=m[i])};return function(g,m){f(g,m);function i(){this.constructor=g}g.prototype=m===null?Object.create(m):(i.prototype=m.prototype,new i)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(12);function p(f){var g=f.split("-"),m=g.slice(1).map(function(i){return i[0].toUpperCase()+i.slice(1)}).join("");return g[0]+m}var u=function(f){l(g,f);function g(){return f!==null&&f.apply(this,arguments)||this}return g.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(i){var d=i.split(":");return d[0].trim()})},g.prototype.add=function(m,i){return this.canAdd(m,i)?(m.style[p(this.keyName)]=i,!0):!1},g.prototype.remove=function(m){m.style[p(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},g.prototype.value=function(m){var i=m.style[p(this.keyName)];return this.canAdd(m,i)?i:""},g}(o.default);a.default=u},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function u(f,g){for(var m=0;m<g.length;m++){var i=g[m];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(f,i.key,i)}}return function(f,g,m){return g&&u(f.prototype,g),m&&u(f,m),f}}();function o(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var p=function(){function u(f,g){o(this,u),this.quill=f,this.options=g,this.modules={}}return l(u,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(g){f.modules[g]==null&&f.addModule(g)})}},{key:"addModule",value:function(f){var g=this.quill.constructor.import("modules/"+f);return this.modules[f]=new g(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),u}();p.DEFAULTS={modules:{}},p.themes={default:p},a.default=p},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function h(c,b){for(var x=0;x<b.length;x++){var v=b[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,b,x){return b&&h(c.prototype,b),x&&h(c,x),c}}(),o=function h(c,b,x){c===null&&(c=Function.prototype);var v=Object.getOwnPropertyDescriptor(c,b);if(v===void 0){var k=Object.getPrototypeOf(c);return k===null?void 0:h(k,b,x)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(x)}},p=s(0),u=m(p),f=s(7),g=m(f);function m(h){return h&&h.__esModule?h:{default:h}}function i(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function d(h,c){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:h}function j(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(h,c):h.__proto__=c)}var y="\uFEFF",N=function(h){j(c,h);function c(b){i(this,c);var x=d(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,b));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(v){x.contentNode.appendChild(v)}),x.leftGuard=document.createTextNode(y),x.rightGuard=document.createTextNode(y),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return l(c,[{key:"index",value:function(b,x){return b===this.leftGuard?0:b===this.rightGuard?1:o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"index",this).call(this,b,x)}},{key:"restore",value:function(b){var x=void 0,v=void 0,k=b.data.split(y).join("");if(b===this.leftGuard)if(this.prev instanceof g.default){var w=this.prev.length();this.prev.insertAt(w,k),x={startNode:this.prev.domNode,startOffset:w+k.length}}else v=document.createTextNode(k),this.parent.insertBefore(u.default.create(v),this),x={startNode:v,startOffset:k.length};else b===this.rightGuard&&(this.next instanceof g.default?(this.next.insertAt(0,k),x={startNode:this.next.domNode,startOffset:k.length}):(v=document.createTextNode(k),this.parent.insertBefore(u.default.create(v),this.next),x={startNode:v,startOffset:k.length}));return b.data=y,x}},{key:"update",value:function(b,x){var v=this;b.forEach(function(k){if(k.type==="characterData"&&(k.target===v.leftGuard||k.target===v.rightGuard)){var w=v.restore(k.target);w&&(x.range=w)}})}}]),c}(u.default.Embed);a.default=N},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.AlignStyle=a.AlignClass=a.AlignAttribute=void 0;var l=s(0),o=p(l);function p(i){return i&&i.__esModule?i:{default:i}}var u={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new o.default.Attributor.Attribute("align","align",u),g=new o.default.Attributor.Class("align","ql-align",u),m=new o.default.Attributor.Style("align","text-align",u);a.AlignAttribute=f,a.AlignClass=g,a.AlignStyle=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.BackgroundStyle=a.BackgroundClass=void 0;var l=s(0),o=u(l),p=s(26);function u(m){return m&&m.__esModule?m:{default:m}}var f=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),g=new p.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});a.BackgroundClass=f,a.BackgroundStyle=g},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.DirectionStyle=a.DirectionClass=a.DirectionAttribute=void 0;var l=s(0),o=p(l);function p(i){return i&&i.__esModule?i:{default:i}}var u={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},f=new o.default.Attributor.Attribute("direction","dir",u),g=new o.default.Attributor.Class("direction","ql-direction",u),m=new o.default.Attributor.Style("direction","direction",u);a.DirectionAttribute=f,a.DirectionClass=g,a.DirectionStyle=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FontClass=a.FontStyle=void 0;var l=function(){function h(c,b){for(var x=0;x<b.length;x++){var v=b[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,b,x){return b&&h(c.prototype,b),x&&h(c,x),c}}(),o=function h(c,b,x){c===null&&(c=Function.prototype);var v=Object.getOwnPropertyDescriptor(c,b);if(v===void 0){var k=Object.getPrototypeOf(c);return k===null?void 0:h(k,b,x)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(x)}},p=s(0),u=f(p);function f(h){return h&&h.__esModule?h:{default:h}}function g(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function m(h,c){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:h}function i(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(h,c):h.__proto__=c)}var d={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},j=new u.default.Attributor.Class("font","ql-font",d),y=function(h){i(c,h);function c(){return g(this,c),m(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return l(c,[{key:"value",value:function(b){return o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),c}(u.default.Attributor.Style),N=new y("font","font-family",d);a.FontStyle=N,a.FontClass=j},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.SizeStyle=a.SizeClass=void 0;var l=s(0),o=p(l);function p(g){return g&&g.__esModule?g:{default:g}}var u=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});a.SizeClass=u,a.SizeStyle=f},function(n,a,s){n.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getLastChangeIndex=a.default=void 0;var l=function(){function b(x,v){for(var k=0;k<v.length;k++){var w=v[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,v,k){return v&&b(x.prototype,v),k&&b(x,k),x}}(),o=s(0),p=i(o),u=s(5),f=i(u),g=s(9),m=i(g);function i(b){return b&&b.__esModule?b:{default:b}}function d(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function j(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function y(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var N=function(b){y(x,b);function x(v,k){d(this,x);var w=j(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,v,k));return w.lastRecorded=0,w.ignoreChange=!1,w.clear(),w.quill.on(f.default.events.EDITOR_CHANGE,function(S,E,C,O){S!==f.default.events.TEXT_CHANGE||w.ignoreChange||(!w.options.userOnly||O===f.default.sources.USER?w.record(E,C):w.transform(E))}),w.quill.keyboard.addBinding({key:"Z",shortKey:!0},w.undo.bind(w)),w.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},w.redo.bind(w)),/Win/i.test(navigator.platform)&&w.quill.keyboard.addBinding({key:"Y",shortKey:!0},w.redo.bind(w)),w}return l(x,[{key:"change",value:function(v,k){if(this.stack[v].length!==0){var w=this.stack[v].pop();this.stack[k].push(w),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(w[v],f.default.sources.USER),this.ignoreChange=!1;var S=c(w[v]);this.quill.setSelection(S)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(v,k){if(v.ops.length!==0){this.stack.redo=[];var w=this.quill.getContents().diff(k),S=Date.now();if(this.lastRecorded+this.options.delay>S&&this.stack.undo.length>0){var E=this.stack.undo.pop();w=w.compose(E.undo),v=E.redo.compose(v)}else this.lastRecorded=S;this.stack.undo.push({redo:v,undo:w}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(v){this.stack.undo.forEach(function(k){k.undo=v.transform(k.undo,!0),k.redo=v.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=v.transform(k.undo,!0),k.redo=v.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(m.default);N.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function h(b){var x=b.ops[b.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(v){return p.default.query(v,p.default.Scope.BLOCK)!=null}):!1}function c(b){var x=b.reduce(function(k,w){return k+=w.delete||0,k},0),v=b.length()-x;return h(b)&&(v-=1),v}a.default=N,a.getLastChangeIndex=c},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BaseTooltip=void 0;var l=function(){function F(W,G){for(var V=0;V<G.length;V++){var $=G[V];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(W,$.key,$)}}return function(W,G,V){return G&&F(W.prototype,G),V&&F(W,V),W}}(),o=function F(W,G,V){W===null&&(W=Function.prototype);var $=Object.getOwnPropertyDescriptor(W,G);if($===void 0){var U=Object.getPrototypeOf(W);return U===null?void 0:F(U,G,V)}else{if("value"in $)return $.value;var X=$.get;return X===void 0?void 0:X.call(V)}},p=s(3),u=E(p),f=s(2),g=E(f),m=s(8),i=E(m),d=s(23),j=E(d),y=s(34),N=E(y),h=s(59),c=E(h),b=s(60),x=E(b),v=s(28),k=E(v),w=s(61),S=E(w);function E(F){return F&&F.__esModule?F:{default:F}}function C(F,W){if(!(F instanceof W))throw new TypeError("Cannot call a class as a function")}function O(F,W){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:F}function _(F,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);F.prototype=Object.create(W&&W.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(F,W):F.__proto__=W)}var A=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],I=[!1,"serif","monospace"],z=["1","2","3",!1],ee=["small",!1,"large","huge"],B=function(F){_(W,F);function W(G,V){C(this,W);var $=O(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,G,V)),U=function X(le){if(!document.body.contains(G.root))return document.body.removeEventListener("click",X);$.tooltip!=null&&!$.tooltip.root.contains(le.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(ae){ae.container.contains(le.target)||ae.close()})};return G.emitter.listenDOM("click",document.body,U),$}return l(W,[{key:"addModule",value:function(G){var V=o(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,G);return G==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(G,V){G.forEach(function($){var U=$.getAttribute("class")||"";U.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),V[X]!=null))if(X==="direction")$.innerHTML=V[X][""]+V[X].rtl;else if(typeof V[X]=="string")$.innerHTML=V[X];else{var le=$.value||"";le!=null&&V[X][le]&&($.innerHTML=V[X][le])}})})}},{key:"buildPickers",value:function(G,V){var $=this;this.pickers=G.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&L(X,A),new x.default(X,V.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var le=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&L(X,R,le==="background"?"#ffffff":"#000000"),new c.default(X,V[le])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?L(X,I):X.classList.contains("ql-header")?L(X,z):X.classList.contains("ql-size")&&L(X,ee)),new k.default(X)});var U=function(){$.pickers.forEach(function(X){X.update()})};this.quill.on(i.default.events.EDITOR_CHANGE,U)}}]),W}(N.default);B.DEFAULTS=(0,u.default)(!0,{},N.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var G=new FileReader;G.onload=function(V){var $=F.quill.getSelection(!0);F.quill.updateContents(new g.default().retain($.index).delete($.length).insert({image:V.target.result}),i.default.sources.USER),F.quill.setSelection($.index+1,i.default.sources.SILENT),W.value=""},G.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function(F){_(W,F);function W(G,V){C(this,W);var $=O(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,G,V));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return l(W,[{key:"listen",value:function(){var G=this;this.textbox.addEventListener("keydown",function(V){j.default.match(V,"enter")?(G.save(),V.preventDefault()):j.default.match(V,"escape")&&(G.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:G!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+G)||""),this.root.setAttribute("data-mode",G)}},{key:"restoreFocus",value:function(){var G=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=G}},{key:"save",value:function(){var G=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",G,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",G,i.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":G=P(G);case"formula":{if(!G)break;var $=this.quill.getSelection(!0);if($!=null){var U=$.index+$.length;this.quill.insertEmbed(U,this.root.getAttribute("data-mode"),G,i.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(U+1," ",i.default.sources.USER),this.quill.setSelection(U+2,i.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),W}(S.default);function P(F){var W=F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":F}function L(F,W){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;W.forEach(function(V){var $=document.createElement("option");V===G?$.setAttribute("selected","selected"):$.setAttribute("value",V),F.appendChild($)})}a.BaseTooltip=M,a.default=B},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var p=[],u=0;u<arguments.length;u++)p[u]=arguments[u];this.insertBefore(p[0],null),p.length>1&&this.append.apply(this,p.slice(1))},o.prototype.contains=function(p){for(var u,f=this.iterator();u=f();)if(u===p)return!0;return!1},o.prototype.insertBefore=function(p,u){p&&(p.next=u,u!=null?(p.prev=u.prev,u.prev!=null&&(u.prev.next=p),u.prev=p,u===this.head&&(this.head=p)):this.tail!=null?(this.tail.next=p,p.prev=this.tail,this.tail=p):(p.prev=null,this.head=this.tail=p),this.length+=1)},o.prototype.offset=function(p){for(var u=0,f=this.head;f!=null;){if(f===p)return u;u+=f.length(),f=f.next}return-1},o.prototype.remove=function(p){this.contains(p)&&(p.prev!=null&&(p.prev.next=p.next),p.next!=null&&(p.next.prev=p.prev),p===this.head&&(this.head=p.next),p===this.tail&&(this.tail=p.prev),this.length-=1)},o.prototype.iterator=function(p){return p===void 0&&(p=this.head),function(){var u=p;return p!=null&&(p=p.next),u}},o.prototype.find=function(p,u){u===void 0&&(u=!1);for(var f,g=this.iterator();f=g();){var m=f.length();if(p<m||u&&p===m&&(f.next==null||f.next.length()!==0))return[f,p];p-=m}return[null,0]},o.prototype.forEach=function(p){for(var u,f=this.iterator();u=f();)p(u)},o.prototype.forEachAt=function(p,u,f){if(!(u<=0))for(var g=this.find(p),m=g[0],i=g[1],d,j=p-i,y=this.iterator(m);(d=y())&&j<p+u;){var N=d.length();p>j?f(d,p-j,Math.min(u,j+N-p)):f(d,0,Math.min(N,p+u-j)),j+=N}},o.prototype.map=function(p){return this.reduce(function(u,f){return u.push(p(f)),u},[])},o.prototype.reduce=function(p,u){for(var f,g=this.iterator();f=g();)u=p(u,f);return u},o}();a.default=l},function(n,a,s){var l=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var j in d)d.hasOwnProperty(j)&&(i[j]=d[j])};return function(i,d){m(i,d);function j(){this.constructor=i}i.prototype=d===null?Object.create(d):(j.prototype=d.prototype,new j)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(17),p=s(1),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,g=function(m){l(i,m);function i(d){var j=m.call(this,d)||this;return j.scroll=j,j.observer=new MutationObserver(function(y){j.update(y)}),j.observer.observe(j.domNode,u),j.attach(),j}return i.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},i.prototype.deleteAt=function(d,j){this.update(),d===0&&j===this.length()?this.children.forEach(function(y){y.remove()}):m.prototype.deleteAt.call(this,d,j)},i.prototype.formatAt=function(d,j,y,N){this.update(),m.prototype.formatAt.call(this,d,j,y,N)},i.prototype.insertAt=function(d,j,y){this.update(),m.prototype.insertAt.call(this,d,j,y)},i.prototype.optimize=function(d,j){var y=this;d===void 0&&(d=[]),j===void 0&&(j={}),m.prototype.optimize.call(this,j);for(var N=[].slice.call(this.observer.takeRecords());N.length>0;)d.push(N.pop());for(var h=function(v,k){k===void 0&&(k=!0),!(v==null||v===y)&&v.domNode.parentNode!=null&&(v.domNode[p.DATA_KEY].mutations==null&&(v.domNode[p.DATA_KEY].mutations=[]),k&&h(v.parent))},c=function(v){v.domNode[p.DATA_KEY]==null||v.domNode[p.DATA_KEY].mutations==null||(v instanceof o.default&&v.children.forEach(c),v.optimize(j))},b=d,x=0;b.length>0;x+=1){if(x>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(v){var k=p.find(v.target,!0);k!=null&&(k.domNode===v.target&&(v.type==="childList"?(h(p.find(v.previousSibling,!1)),[].forEach.call(v.addedNodes,function(w){var S=p.find(w,!1);h(S,!1),S instanceof o.default&&S.children.forEach(function(E){h(E,!1)})})):v.type==="attributes"&&h(k.prev)),h(k))}),this.children.forEach(c),b=[].slice.call(this.observer.takeRecords()),N=b.slice();N.length>0;)d.push(N.pop())}},i.prototype.update=function(d,j){var y=this;j===void 0&&(j={}),d=d||this.observer.takeRecords(),d.map(function(N){var h=p.find(N.target,!0);return h==null?null:h.domNode[p.DATA_KEY].mutations==null?(h.domNode[p.DATA_KEY].mutations=[N],h):(h.domNode[p.DATA_KEY].mutations.push(N),null)}).forEach(function(N){N==null||N===y||N.domNode[p.DATA_KEY]==null||N.update(N.domNode[p.DATA_KEY].mutations||[],j)}),this.domNode[p.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[p.DATA_KEY].mutations,j),this.optimize(d,j)},i.blotName="scroll",i.defaultChild="block",i.scope=p.Scope.BLOCK_BLOT,i.tagName="DIV",i}(o.default);a.default=g},function(n,a,s){var l=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,i){m.__proto__=i}||function(m,i){for(var d in i)i.hasOwnProperty(d)&&(m[d]=i[d])};return function(m,i){g(m,i);function d(){this.constructor=m}m.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(18),p=s(1);function u(g,m){if(Object.keys(g).length!==Object.keys(m).length)return!1;for(var i in g)if(g[i]!==m[i])return!1;return!0}var f=function(g){l(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return m.formats=function(i){if(i.tagName!==m.tagName)return g.formats.call(this,i)},m.prototype.format=function(i,d){var j=this;i===this.statics.blotName&&!d?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(m.blotName,!0)),j.attributes.copy(y)}),this.unwrap()):g.prototype.format.call(this,i,d)},m.prototype.formatAt=function(i,d,j,y){if(this.formats()[j]!=null||p.query(j,p.Scope.ATTRIBUTE)){var N=this.isolate(i,d);N.format(j,y)}else g.prototype.formatAt.call(this,i,d,j,y)},m.prototype.optimize=function(i){g.prototype.optimize.call(this,i);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var j=this.next;j instanceof m&&j.prev===this&&u(d,j.formats())&&(j.moveChildren(this),j.remove())},m.blotName="inline",m.scope=p.Scope.INLINE_BLOT,m.tagName="SPAN",m}(o.default);a.default=f},function(n,a,s){var l=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var i in m)m.hasOwnProperty(i)&&(g[i]=m[i])};return function(g,m){f(g,m);function i(){this.constructor=g}g.prototype=m===null?Object.create(m):(i.prototype=m.prototype,new i)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(18),p=s(1),u=function(f){l(g,f);function g(){return f!==null&&f.apply(this,arguments)||this}return g.formats=function(m){var i=p.query(g.blotName).tagName;if(m.tagName!==i)return f.formats.call(this,m)},g.prototype.format=function(m,i){p.query(m,p.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!i?this.replaceWith(g.blotName):f.prototype.format.call(this,m,i))},g.prototype.formatAt=function(m,i,d,j){p.query(d,p.Scope.BLOCK)!=null?this.format(d,j):f.prototype.formatAt.call(this,m,i,d,j)},g.prototype.insertAt=function(m,i,d){if(d==null||p.query(i,p.Scope.INLINE)!=null)f.prototype.insertAt.call(this,m,i,d);else{var j=this.split(m),y=p.create(i,d);j.parent.insertBefore(y,j)}},g.prototype.update=function(m,i){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,m,i)},g.blotName="block",g.scope=p.Scope.BLOCK_BLOT,g.tagName="P",g}(o.default);a.default=u},function(n,a,s){var l=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var m in g)g.hasOwnProperty(m)&&(f[m]=g[m])};return function(f,g){u(f,g);function m(){this.constructor=f}f.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(19),p=function(u){l(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(g){},f.prototype.format=function(g,m){u.prototype.formatAt.call(this,0,this.length(),g,m)},f.prototype.formatAt=function(g,m,i,d){g===0&&m===this.length()?this.format(i,d):u.prototype.formatAt.call(this,g,m,i,d)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(o.default);a.default=p},function(n,a,s){var l=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var i in m)m.hasOwnProperty(i)&&(g[i]=m[i])};return function(g,m){f(g,m);function i(){this.constructor=g}g.prototype=m===null?Object.create(m):(i.prototype=m.prototype,new i)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(19),p=s(1),u=function(f){l(g,f);function g(m){var i=f.call(this,m)||this;return i.text=i.statics.value(i.domNode),i}return g.create=function(m){return document.createTextNode(m)},g.value=function(m){var i=m.data;return i.normalize&&(i=i.normalize()),i},g.prototype.deleteAt=function(m,i){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+i)},g.prototype.index=function(m,i){return this.domNode===m?i:-1},g.prototype.insertAt=function(m,i,d){d==null?(this.text=this.text.slice(0,m)+i+this.text.slice(m),this.domNode.data=this.text):f.prototype.insertAt.call(this,m,i,d)},g.prototype.length=function(){return this.text.length},g.prototype.optimize=function(m){f.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof g&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},g.prototype.position=function(m,i){return[this.domNode,m]},g.prototype.split=function(m,i){if(i===void 0&&(i=!1),!i){if(m===0)return this;if(m===this.length())return this.next}var d=p.create(this.domNode.splitText(m));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},g.prototype.update=function(m,i){var d=this;m.some(function(j){return j.type==="characterData"&&j.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},g.prototype.value=function(){return this.text},g.blotName="text",g.scope=p.Scope.INLINE_BLOT,g}(o.default);a.default=u},function(n,a,s){var l=document.createElement("div");if(l.classList.toggle("test-class",!1),l.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(p,u){return arguments.length>1&&!this.contains(p)==!u?u:o.call(this,p)}}String.prototype.startsWith||(String.prototype.startsWith=function(p,u){return u=u||0,this.substr(u,p.length)===p}),String.prototype.endsWith||(String.prototype.endsWith=function(p,u){var f=this.toString();(typeof u!="number"||!isFinite(u)||Math.floor(u)!==u||u>f.length)&&(u=f.length),u-=p.length;var g=f.indexOf(p,u);return g!==-1&&g===u}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(p){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof p!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),f=u.length>>>0,g=arguments[1],m,i=0;i<f;i++)if(m=u[i],p.call(g,m,i,u))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,a){var s=-1,l=1,o=0;function p(x,v,k){if(x==v)return x?[[o,x]]:[];(k<0||x.length<k)&&(k=null);var w=m(x,v),S=x.substring(0,w);x=x.substring(w),v=v.substring(w),w=i(x,v);var E=x.substring(x.length-w);x=x.substring(0,x.length-w),v=v.substring(0,v.length-w);var C=u(x,v);return S&&C.unshift([o,S]),E&&C.push([o,E]),j(C),k!=null&&(C=h(C,k)),C=c(C),C}function u(x,v){var k;if(!x)return[[l,v]];if(!v)return[[s,x]];var w=x.length>v.length?x:v,S=x.length>v.length?v:x,E=w.indexOf(S);if(E!=-1)return k=[[l,w.substring(0,E)],[o,S],[l,w.substring(E+S.length)]],x.length>v.length&&(k[0][0]=k[2][0]=s),k;if(S.length==1)return[[s,x],[l,v]];var C=d(x,v);if(C){var O=C[0],_=C[1],A=C[2],R=C[3],I=C[4],z=p(O,A),ee=p(_,R);return z.concat([[o,I]],ee)}return f(x,v)}function f(x,v){for(var k=x.length,w=v.length,S=Math.ceil((k+w)/2),E=S,C=2*S,O=new Array(C),_=new Array(C),A=0;A<C;A++)O[A]=-1,_[A]=-1;O[E+1]=0,_[E+1]=0;for(var R=k-w,I=R%2!=0,z=0,ee=0,B=0,M=0,P=0;P<S;P++){for(var L=-P+z;L<=P-ee;L+=2){var F=E+L,W;L==-P||L!=P&&O[F-1]<O[F+1]?W=O[F+1]:W=O[F-1]+1;for(var G=W-L;W<k&&G<w&&x.charAt(W)==v.charAt(G);)W++,G++;if(O[F]=W,W>k)ee+=2;else if(G>w)z+=2;else if(I){var V=E+R-L;if(V>=0&&V<C&&_[V]!=-1){var $=k-_[V];if(W>=$)return g(x,v,W,G)}}}for(var U=-P+B;U<=P-M;U+=2){var V=E+U,$;U==-P||U!=P&&_[V-1]<_[V+1]?$=_[V+1]:$=_[V-1]+1;for(var X=$-U;$<k&&X<w&&x.charAt(k-$-1)==v.charAt(w-X-1);)$++,X++;if(_[V]=$,$>k)M+=2;else if(X>w)B+=2;else if(!I){var F=E+R-U;if(F>=0&&F<C&&O[F]!=-1){var W=O[F],G=E+W-F;if($=k-$,W>=$)return g(x,v,W,G)}}}}return[[s,x],[l,v]]}function g(x,v,k,w){var S=x.substring(0,k),E=v.substring(0,w),C=x.substring(k),O=v.substring(w),_=p(S,E),A=p(C,O);return _.concat(A)}function m(x,v){if(!x||!v||x.charAt(0)!=v.charAt(0))return 0;for(var k=0,w=Math.min(x.length,v.length),S=w,E=0;k<S;)x.substring(E,S)==v.substring(E,S)?(k=S,E=k):w=S,S=Math.floor((w-k)/2+k);return S}function i(x,v){if(!x||!v||x.charAt(x.length-1)!=v.charAt(v.length-1))return 0;for(var k=0,w=Math.min(x.length,v.length),S=w,E=0;k<S;)x.substring(x.length-S,x.length-E)==v.substring(v.length-S,v.length-E)?(k=S,E=k):w=S,S=Math.floor((w-k)/2+k);return S}function d(x,v){var k=x.length>v.length?x:v,w=x.length>v.length?v:x;if(k.length<4||w.length*2<k.length)return null;function S(ee,B,M){for(var P=ee.substring(M,M+Math.floor(ee.length/4)),L=-1,F="",W,G,V,$;(L=B.indexOf(P,L+1))!=-1;){var U=m(ee.substring(M),B.substring(L)),X=i(ee.substring(0,M),B.substring(0,L));F.length<X+U&&(F=B.substring(L-X,L)+B.substring(L,L+U),W=ee.substring(0,M-X),G=ee.substring(M+U),V=B.substring(0,L-X),$=B.substring(L+U))}return F.length*2>=ee.length?[W,G,V,$,F]:null}var E=S(k,w,Math.ceil(k.length/4)),C=S(k,w,Math.ceil(k.length/2)),O;if(!E&&!C)return null;C?E?O=E[4].length>C[4].length?E:C:O=C:O=E;var _,A,R,I;x.length>v.length?(_=O[0],A=O[1],R=O[2],I=O[3]):(R=O[0],I=O[1],_=O[2],A=O[3]);var z=O[4];return[_,A,R,I,z]}function j(x){x.push([o,""]);for(var v=0,k=0,w=0,S="",E="",C;v<x.length;)switch(x[v][0]){case l:w++,E+=x[v][1],v++;break;case s:k++,S+=x[v][1],v++;break;case o:k+w>1?(k!==0&&w!==0&&(C=m(E,S),C!==0&&(v-k-w>0&&x[v-k-w-1][0]==o?x[v-k-w-1][1]+=E.substring(0,C):(x.splice(0,0,[o,E.substring(0,C)]),v++),E=E.substring(C),S=S.substring(C)),C=i(E,S),C!==0&&(x[v][1]=E.substring(E.length-C)+x[v][1],E=E.substring(0,E.length-C),S=S.substring(0,S.length-C))),k===0?x.splice(v-w,k+w,[l,E]):w===0?x.splice(v-k,k+w,[s,S]):x.splice(v-k-w,k+w,[s,S],[l,E]),v=v-k-w+(k?1:0)+(w?1:0)+1):v!==0&&x[v-1][0]==o?(x[v-1][1]+=x[v][1],x.splice(v,1)):v++,w=0,k=0,S="",E="";break}x[x.length-1][1]===""&&x.pop();var O=!1;for(v=1;v<x.length-1;)x[v-1][0]==o&&x[v+1][0]==o&&(x[v][1].substring(x[v][1].length-x[v-1][1].length)==x[v-1][1]?(x[v][1]=x[v-1][1]+x[v][1].substring(0,x[v][1].length-x[v-1][1].length),x[v+1][1]=x[v-1][1]+x[v+1][1],x.splice(v-1,1),O=!0):x[v][1].substring(0,x[v+1][1].length)==x[v+1][1]&&(x[v-1][1]+=x[v+1][1],x[v][1]=x[v][1].substring(x[v+1][1].length)+x[v+1][1],x.splice(v+1,1),O=!0)),v++;O&&j(x)}var y=p;y.INSERT=l,y.DELETE=s,y.EQUAL=o,n.exports=y;function N(x,v){if(v===0)return[o,x];for(var k=0,w=0;w<x.length;w++){var S=x[w];if(S[0]===s||S[0]===o){var E=k+S[1].length;if(v===E)return[w+1,x];if(v<E){x=x.slice();var C=v-k,O=[S[0],S[1].slice(0,C)],_=[S[0],S[1].slice(C)];return x.splice(w,1,O,_),[w+1,x]}else k=E}}throw new Error("cursor_pos is out of bounds!")}function h(x,v){var k=N(x,v),w=k[1],S=k[0],E=w[S],C=w[S+1];if(E==null||E[0]!==o)return x;if(C!=null&&E[1]+C[1]===C[1]+E[1])return w.splice(S,2,C,E),b(w,S,2);if(C!=null&&C[1].indexOf(E[1])===0){w.splice(S,2,[C[0],E[1]],[0,E[1]]);var O=C[1].slice(E[1].length);return O.length>0&&w.splice(S+2,0,[C[0],O]),b(w,S,3)}else return x}function c(x){for(var v=!1,k=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},w=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},S=2;S<x.length;S+=1)x[S-2][0]===o&&w(x[S-2][1])&&x[S-1][0]===s&&k(x[S-1][1])&&x[S][0]===l&&k(x[S][1])&&(v=!0,x[S-1][1]=x[S-2][1].slice(-1)+x[S-1][1],x[S][1]=x[S-2][1].slice(-1)+x[S][1],x[S-2][1]=x[S-2][1].slice(0,-1));if(!v)return x;for(var E=[],S=0;S<x.length;S+=1)x[S][1].length>0&&E.push(x[S]);return E}function b(x,v,k){for(var w=v+k-1;w>=0&&w>=v-1;w--)if(w+1<x.length){var S=x[w],E=x[w+1];S[0]===E[1]&&x.splice(w,2,[S[0],S[1]+E[1]])}return x}},function(n,a){a=n.exports=typeof Object.keys=="function"?Object.keys:s,a.shim=s;function s(l){var o=[];for(var p in l)o.push(p);return o}},function(n,a){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";a=n.exports=s?l:o,a.supported=l;function l(p){return Object.prototype.toString.call(p)=="[object Arguments]"}a.unsupported=o;function o(p){return p&&typeof p=="object"&&typeof p.length=="number"&&Object.prototype.hasOwnProperty.call(p,"callee")&&!Object.prototype.propertyIsEnumerable.call(p,"callee")||!1}},function(n,a){var s=Object.prototype.hasOwnProperty,l="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(l=!1));function p(f,g,m){this.fn=f,this.context=g,this.once=m||!1}function u(){this._events=new o,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],g,m;if(this._eventsCount===0)return f;for(m in g=this._events)s.call(g,m)&&f.push(l?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},u.prototype.listeners=function(f,g){var m=l?l+f:f,i=this._events[m];if(g)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var d=0,j=i.length,y=new Array(j);d<j;d++)y[d]=i[d].fn;return y},u.prototype.emit=function(f,g,m,i,d,j){var y=l?l+f:f;if(!this._events[y])return!1;var N=this._events[y],h=arguments.length,c,b;if(N.fn){switch(N.once&&this.removeListener(f,N.fn,void 0,!0),h){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,g),!0;case 3:return N.fn.call(N.context,g,m),!0;case 4:return N.fn.call(N.context,g,m,i),!0;case 5:return N.fn.call(N.context,g,m,i,d),!0;case 6:return N.fn.call(N.context,g,m,i,d,j),!0}for(b=1,c=new Array(h-1);b<h;b++)c[b-1]=arguments[b];N.fn.apply(N.context,c)}else{var x=N.length,v;for(b=0;b<x;b++)switch(N[b].once&&this.removeListener(f,N[b].fn,void 0,!0),h){case 1:N[b].fn.call(N[b].context);break;case 2:N[b].fn.call(N[b].context,g);break;case 3:N[b].fn.call(N[b].context,g,m);break;case 4:N[b].fn.call(N[b].context,g,m,i);break;default:if(!c)for(v=1,c=new Array(h-1);v<h;v++)c[v-1]=arguments[v];N[b].fn.apply(N[b].context,c)}}return!0},u.prototype.on=function(f,g,m){var i=new p(g,m||this),d=l?l+f:f;return this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],i]:this._events[d].push(i):(this._events[d]=i,this._eventsCount++),this},u.prototype.once=function(f,g,m){var i=new p(g,m||this,!0),d=l?l+f:f;return this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],i]:this._events[d].push(i):(this._events[d]=i,this._eventsCount++),this},u.prototype.removeListener=function(f,g,m,i){var d=l?l+f:f;if(!this._events[d])return this;if(!g)return--this._eventsCount===0?this._events=new o:delete this._events[d],this;var j=this._events[d];if(j.fn)j.fn===g&&(!i||j.once)&&(!m||j.context===m)&&(--this._eventsCount===0?this._events=new o:delete this._events[d]);else{for(var y=0,N=[],h=j.length;y<h;y++)(j[y].fn!==g||i&&!j[y].once||m&&j[y].context!==m)&&N.push(j[y]);N.length?this._events[d]=N.length===1?N[0]:N:--this._eventsCount===0?this._events=new o:delete this._events[d]}return this},u.prototype.removeAllListeners=function(f){var g;return f?(g=l?l+f:f,this._events[g]&&(--this._eventsCount===0?this._events=new o:delete this._events[g])):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=l,u.EventEmitter=u,typeof n<"u"&&(n.exports=u)},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.matchText=a.matchSpacing=a.matchNewline=a.matchBlot=a.matchAttributor=a.default=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},o=function(){function te(Z,re){var Q=[],K=!0,H=!1,he=void 0;try{for(var ve=Z[Symbol.iterator](),Se;!(K=(Se=ve.next()).done)&&(Q.push(Se.value),!(re&&Q.length===re));K=!0);}catch(ke){H=!0,he=ke}finally{try{!K&&ve.return&&ve.return()}finally{if(H)throw he}}return Q}return function(Z,re){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return te(Z,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function te(Z,re){for(var Q=0;Q<re.length;Q++){var K=re[Q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(Z,K.key,K)}}return function(Z,re,Q){return re&&te(Z.prototype,re),Q&&te(Z,Q),Z}}(),u=s(3),f=_(u),g=s(2),m=_(g),i=s(0),d=_(i),j=s(5),y=_(j),N=s(10),h=_(N),c=s(9),b=_(c),x=s(36),v=s(37),k=s(13),w=_(k),S=s(26),E=s(38),C=s(39),O=s(40);function _(te){return te&&te.__esModule?te:{default:te}}function A(te,Z,re){return Z in te?Object.defineProperty(te,Z,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[Z]=re,te}function R(te,Z){if(!(te instanceof Z))throw new TypeError("Cannot call a class as a function")}function I(te,Z){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:te}function z(te,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);te.prototype=Object.create(Z&&Z.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(te,Z):te.__proto__=Z)}var ee=(0,h.default)("quill:clipboard"),B="__ql-matcher",M=[[Node.TEXT_NODE,pe],[Node.TEXT_NODE,ie],["br",J],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,ae],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,ge],["li",D],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",ne]],P=[x.AlignAttribute,E.DirectionAttribute].reduce(function(te,Z){return te[Z.keyName]=Z,te},{}),L=[x.AlignStyle,v.BackgroundStyle,S.ColorStyle,E.DirectionStyle,C.FontStyle,O.SizeStyle].reduce(function(te,Z){return te[Z.keyName]=Z,te},{}),F=function(te){z(Z,te);function Z(re,Q){R(this,Z);var K=I(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,re,Q));return K.quill.root.addEventListener("paste",K.onPaste.bind(K)),K.container=K.quill.addContainer("ql-clipboard"),K.container.setAttribute("contenteditable",!0),K.container.setAttribute("tabindex",-1),K.matchers=[],M.concat(K.options.matchers).forEach(function(H){var he=o(H,2),ve=he[0],Se=he[1];!Q.matchVisual&&Se===me||K.addMatcher(ve,Se)}),K}return p(Z,[{key:"addMatcher",value:function(re,Q){this.matchers.push([re,Q])}},{key:"convert",value:function(re){if(typeof re=="string")return this.container.innerHTML=re.replace(/\>\r?\n +\</g,"><"),this.convert();var Q=this.quill.getFormat(this.quill.selection.savedRange.index);if(Q[w.default.blotName]){var K=this.container.innerText;return this.container.innerHTML="",new m.default().insert(K,A({},w.default.blotName,Q[w.default.blotName]))}var H=this.prepareMatching(),he=o(H,2),ve=he[0],Se=he[1],ke=U(this.container,ve,Se);return V(ke,`
`)&&ke.ops[ke.ops.length-1].attributes==null&&(ke=ke.compose(new m.default().retain(ke.length()-1).delete(1))),ee.log("convert",this.container.innerHTML,ke),this.container.innerHTML="",ke}},{key:"dangerouslyPasteHTML",value:function(re,Q){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof re=="string")this.quill.setContents(this.convert(re),Q),this.quill.setSelection(0,y.default.sources.SILENT);else{var H=this.convert(Q);this.quill.updateContents(new m.default().retain(re).concat(H),K),this.quill.setSelection(re+H.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(re){var Q=this;if(!(re.defaultPrevented||!this.quill.isEnabled())){var K=this.quill.getSelection(),H=new m.default().retain(K.index),he=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){H=H.concat(Q.convert()).delete(K.length),Q.quill.updateContents(H,y.default.sources.USER),Q.quill.setSelection(H.length()-K.length,y.default.sources.SILENT),Q.quill.scrollingContainer.scrollTop=he,Q.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var re=this,Q=[],K=[];return this.matchers.forEach(function(H){var he=o(H,2),ve=he[0],Se=he[1];switch(ve){case Node.TEXT_NODE:K.push(Se);break;case Node.ELEMENT_NODE:Q.push(Se);break;default:[].forEach.call(re.container.querySelectorAll(ve),function(ke){ke[B]=ke[B]||[],ke[B].push(Se)});break}}),[Q,K]}}]),Z}(b.default);F.DEFAULTS={matchers:[],matchVisual:!0};function W(te,Z,re){return(typeof Z>"u"?"undefined":l(Z))==="object"?Object.keys(Z).reduce(function(Q,K){return W(Q,K,Z[K])},te):te.reduce(function(Q,K){return K.attributes&&K.attributes[Z]?Q.push(K):Q.insert(K.insert,(0,f.default)({},A({},Z,re),K.attributes))},new m.default)}function G(te){if(te.nodeType!==Node.ELEMENT_NODE)return{};var Z="__ql-computed-style";return te[Z]||(te[Z]=window.getComputedStyle(te))}function V(te,Z){for(var re="",Q=te.ops.length-1;Q>=0&&re.length<Z.length;--Q){var K=te.ops[Q];if(typeof K.insert!="string")break;re=K.insert+re}return re.slice(-1*Z.length)===Z}function $(te){if(te.childNodes.length===0)return!1;var Z=G(te);return["block","list-item"].indexOf(Z.display)>-1}function U(te,Z,re){return te.nodeType===te.TEXT_NODE?re.reduce(function(Q,K){return K(te,Q)},new m.default):te.nodeType===te.ELEMENT_NODE?[].reduce.call(te.childNodes||[],function(Q,K){var H=U(K,Z,re);return K.nodeType===te.ELEMENT_NODE&&(H=Z.reduce(function(he,ve){return ve(K,he)},H),H=(K[B]||[]).reduce(function(he,ve){return ve(K,he)},H)),Q.concat(H)},new m.default):new m.default}function X(te,Z,re){return W(re,te,!0)}function le(te,Z){var re=d.default.Attributor.Attribute.keys(te),Q=d.default.Attributor.Class.keys(te),K=d.default.Attributor.Style.keys(te),H={};return re.concat(Q).concat(K).forEach(function(he){var ve=d.default.query(he,d.default.Scope.ATTRIBUTE);ve!=null&&(H[ve.attrName]=ve.value(te),H[ve.attrName])||(ve=P[he],ve!=null&&(ve.attrName===he||ve.keyName===he)&&(H[ve.attrName]=ve.value(te)||void 0),ve=L[he],ve!=null&&(ve.attrName===he||ve.keyName===he)&&(ve=L[he],H[ve.attrName]=ve.value(te)||void 0))}),Object.keys(H).length>0&&(Z=W(Z,H)),Z}function ae(te,Z){var re=d.default.query(te);if(re==null)return Z;if(re.prototype instanceof d.default.Embed){var Q={},K=re.value(te);K!=null&&(Q[re.blotName]=K,Z=new m.default().insert(Q,re.formats(te)))}else typeof re.formats=="function"&&(Z=W(Z,re.blotName,re.formats(te)));return Z}function J(te,Z){return V(Z,`
`)||Z.insert(`
`),Z}function ne(){return new m.default}function D(te,Z){var re=d.default.query(te);if(re==null||re.blotName!=="list-item"||!V(Z,`
`))return Z;for(var Q=-1,K=te.parentNode;!K.classList.contains("ql-clipboard");)(d.default.query(K)||{}).blotName==="list"&&(Q+=1),K=K.parentNode;return Q<=0?Z:Z.compose(new m.default().retain(Z.length()-1).retain(1,{indent:Q}))}function ie(te,Z){return V(Z,`
`)||($(te)||Z.length()>0&&te.nextSibling&&$(te.nextSibling))&&Z.insert(`
`),Z}function me(te,Z){if($(te)&&te.nextElementSibling!=null&&!V(Z,`

`)){var re=te.offsetHeight+parseFloat(G(te).marginTop)+parseFloat(G(te).marginBottom);te.nextElementSibling.offsetTop>te.offsetTop+re*1.5&&Z.insert(`
`)}return Z}function ge(te,Z){var re={},Q=te.style||{};return Q.fontStyle&&G(te).fontStyle==="italic"&&(re.italic=!0),Q.fontWeight&&(G(te).fontWeight.startsWith("bold")||parseInt(G(te).fontWeight)>=700)&&(re.bold=!0),Object.keys(re).length>0&&(Z=W(Z,re)),parseFloat(Q.textIndent||0)>0&&(Z=new m.default().insert("	").concat(Z)),Z}function pe(te,Z){var re=te.data;if(te.parentNode.tagName==="O:P")return Z.insert(re.trim());if(re.trim().length===0&&te.parentNode.classList.contains("ql-clipboard"))return Z;if(!G(te.parentNode).whiteSpace.startsWith("pre")){var Q=function(K,H){return H=H.replace(/[^\u00a0]/g,""),H.length<1&&K?" ":H};re=re.replace(/\r\n/g," ").replace(/\n/g," "),re=re.replace(/\s\s+/g,Q.bind(Q,!0)),(te.previousSibling==null&&$(te.parentNode)||te.previousSibling!=null&&$(te.previousSibling))&&(re=re.replace(/^\s+/,Q.bind(Q,!1))),(te.nextSibling==null&&$(te.parentNode)||te.nextSibling!=null&&$(te.nextSibling))&&(re=re.replace(/\s+$/,Q.bind(Q,!1)))}return Z.insert(re)}a.default=F,a.matchAttributor=le,a.matchBlot=ae,a.matchNewline=ie,a.matchSpacing=me,a.matchText=pe},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function j(y,N){for(var h=0;h<N.length;h++){var c=N[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(y,c.key,c)}}return function(y,N,h){return N&&j(y.prototype,N),h&&j(y,h),y}}(),o=function j(y,N,h){y===null&&(y=Function.prototype);var c=Object.getOwnPropertyDescriptor(y,N);if(c===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:j(b,N,h)}else{if("value"in c)return c.value;var x=c.get;return x===void 0?void 0:x.call(h)}},p=s(6),u=f(p);function f(j){return j&&j.__esModule?j:{default:j}}function g(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}function m(j,y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:j}function i(j,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);j.prototype=Object.create(y&&y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,y):j.__proto__=y)}var d=function(j){i(y,j);function y(){return g(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return l(y,[{key:"optimize",value:function(N){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,N),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(u.default);d.blotName="bold",d.tagName=["STRONG","B"],a.default=d},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.addControls=a.default=void 0;var l=function(){function O(_,A){var R=[],I=!0,z=!1,ee=void 0;try{for(var B=_[Symbol.iterator](),M;!(I=(M=B.next()).done)&&(R.push(M.value),!(A&&R.length===A));I=!0);}catch(P){z=!0,ee=P}finally{try{!I&&B.return&&B.return()}finally{if(z)throw ee}}return R}return function(_,A){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return O(_,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(_,A){for(var R=0;R<A.length;R++){var I=A[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,A,R){return A&&O(_.prototype,A),R&&O(_,R),_}}(),p=s(2),u=h(p),f=s(0),g=h(f),m=s(5),i=h(m),d=s(10),j=h(d),y=s(9),N=h(y);function h(O){return O&&O.__esModule?O:{default:O}}function c(O,_,A){return _ in O?Object.defineProperty(O,_,{value:A,enumerable:!0,configurable:!0,writable:!0}):O[_]=A,O}function b(O,_){if(!(O instanceof _))throw new TypeError("Cannot call a class as a function")}function x(O,_){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:O}function v(O,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);O.prototype=Object.create(_&&_.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(O,_):O.__proto__=_)}var k=(0,j.default)("quill:toolbar"),w=function(O){v(_,O);function _(A,R){b(this,_);var I=x(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,R));if(Array.isArray(I.options.container)){var z=document.createElement("div");E(z,I.options.container),A.container.parentNode.insertBefore(z,A.container),I.container=z}else typeof I.options.container=="string"?I.container=document.querySelector(I.options.container):I.container=I.options.container;if(!(I.container instanceof HTMLElement)){var ee;return ee=k.error("Container required for toolbar",I.options),x(I,ee)}return I.container.classList.add("ql-toolbar"),I.controls=[],I.handlers={},Object.keys(I.options.handlers).forEach(function(B){I.addHandler(B,I.options.handlers[B])}),[].forEach.call(I.container.querySelectorAll("button, select"),function(B){I.attach(B)}),I.quill.on(i.default.events.EDITOR_CHANGE,function(B,M){B===i.default.events.SELECTION_CHANGE&&I.update(M)}),I.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var B=I.quill.selection.getRange(),M=l(B,1),P=M[0];I.update(P)}),I}return o(_,[{key:"addHandler",value:function(A,R){this.handlers[A]=R}},{key:"attach",value:function(A){var R=this,I=[].find.call(A.classList,function(ee){return ee.indexOf("ql-")===0});if(I){if(I=I.slice(3),A.tagName==="BUTTON"&&A.setAttribute("type","button"),this.handlers[I]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[I]==null){k.warn("ignoring attaching to disabled format",I,A);return}if(g.default.query(I)==null){k.warn("ignoring attaching to nonexistent format",I,A);return}}var z=A.tagName==="SELECT"?"change":"click";A.addEventListener(z,function(ee){var B=void 0;if(A.tagName==="SELECT"){if(A.selectedIndex<0)return;var M=A.options[A.selectedIndex];M.hasAttribute("selected")?B=!1:B=M.value||!1}else A.classList.contains("ql-active")?B=!1:B=A.value||!A.hasAttribute("value"),ee.preventDefault();R.quill.focus();var P=R.quill.selection.getRange(),L=l(P,1),F=L[0];if(R.handlers[I]!=null)R.handlers[I].call(R,B);else if(g.default.query(I).prototype instanceof g.default.Embed){if(B=prompt("Enter "+I),!B)return;R.quill.updateContents(new u.default().retain(F.index).delete(F.length).insert(c({},I,B)),i.default.sources.USER)}else R.quill.format(I,B,i.default.sources.USER);R.update(F)}),this.controls.push([I,A])}}},{key:"update",value:function(A){var R=A==null?{}:this.quill.getFormat(A);this.controls.forEach(function(I){var z=l(I,2),ee=z[0],B=z[1];if(B.tagName==="SELECT"){var M=void 0;if(A==null)M=null;else if(R[ee]==null)M=B.querySelector("option[selected]");else if(!Array.isArray(R[ee])){var P=R[ee];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),M=B.querySelector('option[value="'+P+'"]')}M==null?(B.value="",B.selectedIndex=-1):M.selected=!0}else if(A==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var L=R[ee]===B.getAttribute("value")||R[ee]!=null&&R[ee].toString()===B.getAttribute("value")||R[ee]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",L)}else B.classList.toggle("ql-active",R[ee]!=null)})}}]),_}(N.default);w.DEFAULTS={};function S(O,_,A){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+_),A!=null&&(R.value=A),O.appendChild(R)}function E(O,_){Array.isArray(_[0])||(_=[_]),_.forEach(function(A){var R=document.createElement("span");R.classList.add("ql-formats"),A.forEach(function(I){if(typeof I=="string")S(R,I);else{var z=Object.keys(I)[0],ee=I[z];Array.isArray(ee)?C(R,z,ee):S(R,z,ee)}}),O.appendChild(R)})}function C(O,_,A){var R=document.createElement("select");R.classList.add("ql-"+_),A.forEach(function(I){var z=document.createElement("option");I!==!1?z.setAttribute("value",I):z.setAttribute("selected","selected"),R.appendChild(z)}),O.appendChild(R)}w.DEFAULTS={container:null,handlers:{clean:function(){var O=this,_=this.quill.getSelection();if(_!=null)if(_.length==0){var A=this.quill.getFormat();Object.keys(A).forEach(function(R){g.default.query(R,g.default.Scope.INLINE)!=null&&O.quill.format(R,!1)})}else this.quill.removeFormat(_,i.default.sources.USER)},direction:function(O){var _=this.quill.getFormat().align;O==="rtl"&&_==null?this.quill.format("align","right",i.default.sources.USER):!O&&_==="right"&&this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",O,i.default.sources.USER)},indent:function(O){var _=this.quill.getSelection(),A=this.quill.getFormat(_),R=parseInt(A.indent||0);if(O==="+1"||O==="-1"){var I=O==="+1"?1:-1;A.direction==="rtl"&&(I*=-1),this.quill.format("indent",R+I,i.default.sources.USER)}},link:function(O){O===!0&&(O=prompt("Enter link URL:")),this.quill.format("link",O,i.default.sources.USER)},list:function(O){var _=this.quill.getSelection(),A=this.quill.getFormat(_);O==="check"?A.list==="checked"||A.list==="unchecked"?this.quill.format("list",!1,i.default.sources.USER):this.quill.format("list","unchecked",i.default.sources.USER):this.quill.format("list",O,i.default.sources.USER)}}},a.default=w,a.addControls=E},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function j(y,N){for(var h=0;h<N.length;h++){var c=N[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(y,c.key,c)}}return function(y,N,h){return N&&j(y.prototype,N),h&&j(y,h),y}}(),o=function j(y,N,h){y===null&&(y=Function.prototype);var c=Object.getOwnPropertyDescriptor(y,N);if(c===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:j(b,N,h)}else{if("value"in c)return c.value;var x=c.get;return x===void 0?void 0:x.call(h)}},p=s(28),u=f(p);function f(j){return j&&j.__esModule?j:{default:j}}function g(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}function m(j,y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:j}function i(j,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);j.prototype=Object.create(y&&y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,y):j.__proto__=y)}var d=function(j){i(y,j);function y(N,h){g(this,y);var c=m(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N));return c.label.innerHTML=h,c.container.classList.add("ql-color-picker"),[].slice.call(c.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),c}return l(y,[{key:"buildItem",value:function(N){var h=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,N);return h.style.backgroundColor=N.getAttribute("value")||"",h}},{key:"selectItem",value:function(N,h){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,N,h);var c=this.label.querySelector(".ql-color-label"),b=N&&N.getAttribute("data-value")||"";c&&(c.tagName==="line"?c.style.stroke=b:c.style.fill=b)}}]),y}(u.default);a.default=d},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function j(y,N){for(var h=0;h<N.length;h++){var c=N[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(y,c.key,c)}}return function(y,N,h){return N&&j(y.prototype,N),h&&j(y,h),y}}(),o=function j(y,N,h){y===null&&(y=Function.prototype);var c=Object.getOwnPropertyDescriptor(y,N);if(c===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:j(b,N,h)}else{if("value"in c)return c.value;var x=c.get;return x===void 0?void 0:x.call(h)}},p=s(28),u=f(p);function f(j){return j&&j.__esModule?j:{default:j}}function g(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}function m(j,y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:j}function i(j,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);j.prototype=Object.create(y&&y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,y):j.__proto__=y)}var d=function(j){i(y,j);function y(N,h){g(this,y);var c=m(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N));return c.container.classList.add("ql-icon-picker"),[].forEach.call(c.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=h[b.getAttribute("data-value")||""]}),c.defaultItem=c.container.querySelector(".ql-selected"),c.selectItem(c.defaultItem),c}return l(y,[{key:"selectItem",value:function(N,h){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,N,h),N=N||this.defaultItem,this.label.innerHTML=N.innerHTML}}]),y}(u.default);a.default=d},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function u(f,g){for(var m=0;m<g.length;m++){var i=g[m];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(f,i.key,i)}}return function(f,g,m){return g&&u(f.prototype,g),m&&u(f,m),f}}();function o(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var p=function(){function u(f,g){var m=this;o(this,u),this.quill=f,this.boundsContainer=g||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return l(u,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var g=f.left+f.width/2-this.root.offsetWidth/2,m=f.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),d=this.root.getBoundingClientRect(),j=0;if(d.right>i.right&&(j=i.right-d.right,this.root.style.left=g+j+"px"),d.left<i.left&&(j=i.left-d.left,this.root.style.left=g+j+"px"),d.bottom>i.bottom){var y=d.bottom-d.top,N=f.bottom-f.top+y;this.root.style.top=m-N+"px",this.root.classList.add("ql-flip")}return j}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),u}();a.default=p},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function C(O,_){var A=[],R=!0,I=!1,z=void 0;try{for(var ee=O[Symbol.iterator](),B;!(R=(B=ee.next()).done)&&(A.push(B.value),!(_&&A.length===_));R=!0);}catch(M){I=!0,z=M}finally{try{!R&&ee.return&&ee.return()}finally{if(I)throw z}}return A}return function(O,_){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return C(O,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function C(O,_,A){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,_);if(R===void 0){var I=Object.getPrototypeOf(O);return I===null?void 0:C(I,_,A)}else{if("value"in R)return R.value;var z=R.get;return z===void 0?void 0:z.call(A)}},p=function(){function C(O,_){for(var A=0;A<_.length;A++){var R=_[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,_,A){return _&&C(O.prototype,_),A&&C(O,A),O}}(),u=s(3),f=b(u),g=s(8),m=b(g),i=s(43),d=b(i),j=s(27),y=b(j),N=s(15),h=s(41),c=b(h);function b(C){return C&&C.__esModule?C:{default:C}}function x(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function v(C,O){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:C}function k(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}var w=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(C){k(O,C);function O(_,A){x(this,O),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=w);var R=v(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,_,A));return R.quill.container.classList.add("ql-snow"),R}return p(O,[{key:"extendToolbar",value:function(_){_.container.classList.add("ql-snow"),this.buildButtons([].slice.call(_.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(_.container.querySelectorAll("select")),c.default),this.tooltip=new E(this.quill,this.options.bounds),_.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(A,R){_.handlers.link.call(_,!R.format.link)})}}]),O}(d.default);S.DEFAULTS=(0,f.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){if(C){var O=this.quill.getSelection();if(O==null||O.length==0)return;var _=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(_)&&_.indexOf("mailto:")!==0&&(_="mailto:"+_);var A=this.quill.theme.tooltip;A.edit("link",_)}else this.quill.format("link",!1)}}}}});var E=function(C){k(O,C);function O(_,A){x(this,O);var R=v(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,_,A));return R.preview=R.root.querySelector("a.ql-preview"),R}return p(O,[{key:"listen",value:function(){var _=this;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(A){_.root.classList.contains("ql-editing")?_.save():_.edit("link",_.preview.textContent),A.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(A){if(_.linkRange!=null){var R=_.linkRange;_.restoreFocus(),_.quill.formatText(R,"link",!1,m.default.sources.USER),delete _.linkRange}A.preventDefault(),_.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(A,R,I){if(A!=null){if(A.length===0&&I===m.default.sources.USER){var z=_.quill.scroll.descendant(y.default,A.index),ee=l(z,2),B=ee[0],M=ee[1];if(B!=null){_.linkRange=new N.Range(A.index-M,B.length());var P=y.default.formats(B.domNode);_.preview.textContent=P,_.preview.setAttribute("href",P),_.show(),_.position(_.quill.getBounds(_.linkRange));return}}else delete _.linkRange;_.hide()}})}},{key:"show",value:function(){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),O}(i.BaseTooltip);E.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),a.default=S},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(29),o=K(l),p=s(36),u=s(38),f=s(64),g=s(65),m=K(g),i=s(66),d=K(i),j=s(67),y=K(j),N=s(37),h=s(26),c=s(39),b=s(40),x=s(56),v=K(x),k=s(68),w=K(k),S=s(27),E=K(S),C=s(69),O=K(C),_=s(70),A=K(_),R=s(71),I=K(R),z=s(72),ee=K(z),B=s(73),M=K(B),P=s(13),L=K(P),F=s(74),W=K(F),G=s(75),V=K(G),$=s(57),U=K($),X=s(41),le=K(X),ae=s(28),J=K(ae),ne=s(59),D=K(ne),ie=s(60),me=K(ie),ge=s(61),pe=K(ge),te=s(108),Z=K(te),re=s(62),Q=K(re);function K(H){return H&&H.__esModule?H:{default:H}}o.default.register({"attributors/attribute/direction":u.DirectionAttribute,"attributors/class/align":p.AlignClass,"attributors/class/background":N.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":u.DirectionClass,"attributors/class/font":c.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":p.AlignStyle,"attributors/style/background":N.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":u.DirectionStyle,"attributors/style/font":c.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":p.AlignClass,"formats/direction":u.DirectionClass,"formats/indent":f.IndentClass,"formats/background":N.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":c.FontClass,"formats/size":b.SizeClass,"formats/blockquote":m.default,"formats/code-block":L.default,"formats/header":d.default,"formats/list":y.default,"formats/bold":v.default,"formats/code":P.Code,"formats/italic":w.default,"formats/link":E.default,"formats/script":O.default,"formats/strike":A.default,"formats/underline":I.default,"formats/image":ee.default,"formats/video":M.default,"formats/list/item":j.ListItem,"modules/formula":W.default,"modules/syntax":V.default,"modules/toolbar":U.default,"themes/bubble":Z.default,"themes/snow":Q.default,"ui/icons":le.default,"ui/picker":J.default,"ui/icon-picker":me.default,"ui/color-picker":D.default,"ui/tooltip":pe.default},!0),a.default=o.default},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.IndentClass=void 0;var l=function(){function y(N,h){for(var c=0;c<h.length;c++){var b=h[c];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(N,b.key,b)}}return function(N,h,c){return h&&y(N.prototype,h),c&&y(N,c),N}}(),o=function y(N,h,c){N===null&&(N=Function.prototype);var b=Object.getOwnPropertyDescriptor(N,h);if(b===void 0){var x=Object.getPrototypeOf(N);return x===null?void 0:y(x,h,c)}else{if("value"in b)return b.value;var v=b.get;return v===void 0?void 0:v.call(c)}},p=s(0),u=f(p);function f(y){return y&&y.__esModule?y:{default:y}}function g(y,N){if(!(y instanceof N))throw new TypeError("Cannot call a class as a function")}function m(y,N){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:y}function i(y,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);y.prototype=Object.create(N&&N.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(y,N):y.__proto__=N)}var d=function(y){i(N,y);function N(){return g(this,N),m(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return l(N,[{key:"add",value:function(h,c){if(c==="+1"||c==="-1"){var b=this.value(h)||0;c=c==="+1"?b+1:b-1}return c===0?(this.remove(h),!0):o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"add",this).call(this,h,c)}},{key:"canAdd",value:function(h,c){return o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"canAdd",this).call(this,h,c)||o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"canAdd",this).call(this,h,parseInt(c))}},{key:"value",value:function(h){return parseInt(o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"value",this).call(this,h))||void 0}}]),N}(u.default.Attributor.Class),j=new d("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});a.IndentClass=j},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(4),o=p(l);function p(i){return i&&i.__esModule?i:{default:i}}function u(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function f(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function g(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var m=function(i){g(d,i);function d(){return u(this,d),f(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);m.blotName="blockquote",m.tagName="blockquote",a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function d(j,y){for(var N=0;N<y.length;N++){var h=y[N];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(j,h.key,h)}}return function(j,y,N){return y&&d(j.prototype,y),N&&d(j,N),j}}(),o=s(4),p=u(o);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,j){if(!(d instanceof j))throw new TypeError("Cannot call a class as a function")}function g(d,j){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:d}function m(d,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);d.prototype=Object.create(j&&j.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(d,j):d.__proto__=j)}var i=function(d){m(j,d);function j(){return f(this,j),g(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return l(j,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),j}(p.default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],a.default=i},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.ListItem=void 0;var l=function(){function x(v,k){for(var w=0;w<k.length;w++){var S=k[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,k,w){return k&&x(v.prototype,k),w&&x(v,w),v}}(),o=function x(v,k,w){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,k);if(S===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:x(E,k,w)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(w)}},p=s(0),u=d(p),f=s(4),g=d(f),m=s(25),i=d(m);function d(x){return x&&x.__esModule?x:{default:x}}function j(x,v,k){return v in x?Object.defineProperty(x,v,{value:k,enumerable:!0,configurable:!0,writable:!0}):x[v]=k,x}function y(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function N(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function h(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var c=function(x){h(v,x);function v(){return y(this,v),N(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return l(v,[{key:"format",value:function(k,w){k===b.blotName&&!w?this.replaceWith(u.default.create(this.statics.scope)):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,k,w)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,w){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,w),this):(this.parent.unwrap(),o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"replaceWith",this).call(this,k,w))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:o(v.__proto__||Object.getPrototypeOf(v),"formats",this).call(this,k)}}]),v}(g.default);c.blotName="list-item",c.tagName="LI";var b=function(x){h(v,x),l(v,null,[{key:"create",value:function(k){var w=k==="ordered"?"OL":"UL",S=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return(k==="checked"||k==="unchecked")&&S.setAttribute("data-checked",k==="checked"),S}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function v(k){y(this,v);var w=N(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,k)),S=function(E){if(E.target.parentNode===k){var C=w.statics.formats(k),O=u.default.find(E.target);C==="checked"?O.format("list","unchecked"):C==="unchecked"&&O.format("list","checked")}};return k.addEventListener("touchstart",S),k.addEventListener("mousedown",S),w}return l(v,[{key:"format",value:function(k,w){this.children.length>0&&this.children.tail.format(k,w)}},{key:"formats",value:function(){return j({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,w){if(k instanceof c)o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertBefore",this).call(this,k,w);else{var S=w==null?this.length():w.offset(this),E=this.split(S);E.parent.insertBefore(k,E)}}},{key:"optimize",value:function(k){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,k);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&w.domNode.tagName===this.domNode.tagName&&w.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(w.moveChildren(this),w.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var w=u.default.create(this.statics.defaultChild);k.moveChildren(w),this.appendChild(w)}o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"replace",this).call(this,k)}}]),v}(i.default);b.blotName="list",b.scope=u.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[c],a.ListItem=c,a.default=b},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(56),o=p(l);function p(i){return i&&i.__esModule?i:{default:i}}function u(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function f(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function g(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var m=function(i){g(d,i);function d(){return u(this,d),f(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);m.blotName="italic",m.tagName=["EM","I"],a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function j(y,N){for(var h=0;h<N.length;h++){var c=N[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(y,c.key,c)}}return function(y,N,h){return N&&j(y.prototype,N),h&&j(y,h),y}}(),o=function j(y,N,h){y===null&&(y=Function.prototype);var c=Object.getOwnPropertyDescriptor(y,N);if(c===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:j(b,N,h)}else{if("value"in c)return c.value;var x=c.get;return x===void 0?void 0:x.call(h)}},p=s(6),u=f(p);function f(j){return j&&j.__esModule?j:{default:j}}function g(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}function m(j,y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:j}function i(j,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);j.prototype=Object.create(y&&y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,y):j.__proto__=y)}var d=function(j){i(y,j);function y(){return g(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return l(y,null,[{key:"create",value:function(N){return N==="super"?document.createElement("sup"):N==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,N)}},{key:"formats",value:function(N){if(N.tagName==="SUB")return"sub";if(N.tagName==="SUP")return"super"}}]),y}(u.default);d.blotName="script",d.tagName=["SUB","SUP"],a.default=d},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(6),o=p(l);function p(i){return i&&i.__esModule?i:{default:i}}function u(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function f(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function g(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var m=function(i){g(d,i);function d(){return u(this,d),f(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);m.blotName="strike",m.tagName="S",a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=s(6),o=p(l);function p(i){return i&&i.__esModule?i:{default:i}}function u(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function f(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function g(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var m=function(i){g(d,i);function d(){return u(this,d),f(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);m.blotName="underline",m.tagName="U",a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function N(h,c){for(var b=0;b<c.length;b++){var x=c[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,c,b){return c&&N(h.prototype,c),b&&N(h,b),h}}(),o=function N(h,c,b){h===null&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,c);if(x===void 0){var v=Object.getPrototypeOf(h);return v===null?void 0:N(v,c,b)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(b)}},p=s(0),u=g(p),f=s(27);function g(N){return N&&N.__esModule?N:{default:N}}function m(N,h){if(!(N instanceof h))throw new TypeError("Cannot call a class as a function")}function i(N,h){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:N}function d(N,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);N.prototype=Object.create(h&&h.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(N,h):N.__proto__=h)}var j=["alt","height","width"],y=function(N){d(h,N);function h(){return m(this,h),i(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return l(h,[{key:"format",value:function(c,b){j.indexOf(c)>-1?b?this.domNode.setAttribute(c,b):this.domNode.removeAttribute(c):o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,c,b)}}],[{key:"create",value:function(c){var b=o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,c);return typeof c=="string"&&b.setAttribute("src",this.sanitize(c)),b}},{key:"formats",value:function(c){return j.reduce(function(b,x){return c.hasAttribute(x)&&(b[x]=c.getAttribute(x)),b},{})}},{key:"match",value:function(c){return/\.(jpe?g|gif|png)$/.test(c)||/^data:image\/.+;base64/.test(c)}},{key:"sanitize",value:function(c){return(0,f.sanitize)(c,["http","https","data"])?c:"//:0"}},{key:"value",value:function(c){return c.getAttribute("src")}}]),h}(u.default.Embed);y.blotName="image",y.tagName="IMG",a.default=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function N(h,c){for(var b=0;b<c.length;b++){var x=c[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,c,b){return c&&N(h.prototype,c),b&&N(h,b),h}}(),o=function N(h,c,b){h===null&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,c);if(x===void 0){var v=Object.getPrototypeOf(h);return v===null?void 0:N(v,c,b)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(b)}},p=s(4),u=s(27),f=g(u);function g(N){return N&&N.__esModule?N:{default:N}}function m(N,h){if(!(N instanceof h))throw new TypeError("Cannot call a class as a function")}function i(N,h){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:N}function d(N,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);N.prototype=Object.create(h&&h.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(N,h):N.__proto__=h)}var j=["height","width"],y=function(N){d(h,N);function h(){return m(this,h),i(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return l(h,[{key:"format",value:function(c,b){j.indexOf(c)>-1?b?this.domNode.setAttribute(c,b):this.domNode.removeAttribute(c):o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,c,b)}}],[{key:"create",value:function(c){var b=o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,c);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(c)),b}},{key:"formats",value:function(c){return j.reduce(function(b,x){return c.hasAttribute(x)&&(b[x]=c.getAttribute(x)),b},{})}},{key:"sanitize",value:function(c){return f.default.sanitize(c)}},{key:"value",value:function(c){return c.getAttribute("src")}}]),h}(p.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",a.default=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.FormulaBlot=void 0;var l=function(){function b(x,v){for(var k=0;k<v.length;k++){var w=v[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,v,k){return v&&b(x.prototype,v),k&&b(x,k),x}}(),o=function b(x,v,k){x===null&&(x=Function.prototype);var w=Object.getOwnPropertyDescriptor(x,v);if(w===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:b(S,v,k)}else{if("value"in w)return w.value;var E=w.get;return E===void 0?void 0:E.call(k)}},p=s(35),u=d(p),f=s(5),g=d(f),m=s(9),i=d(m);function d(b){return b&&b.__esModule?b:{default:b}}function j(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function y(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function N(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var h=function(b){N(x,b);function x(){return j(this,x),y(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return l(x,null,[{key:"create",value:function(v){var k=o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,v);return typeof v=="string"&&(window.katex.render(v,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",v)),k}},{key:"value",value:function(v){return v.getAttribute("data-value")}}]),x}(u.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var c=function(b){N(x,b),l(x,null,[{key:"register",value:function(){g.default.register(h,!0)}}]);function x(){j(this,x);var v=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return v}return x}(i.default);a.FormulaBlot=h,a.default=c},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.CodeToken=a.CodeBlock=void 0;var l=function(){function k(w,S){for(var E=0;E<S.length;E++){var C=S[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,S,E){return S&&k(w.prototype,S),E&&k(w,E),w}}(),o=function k(w,S,E){w===null&&(w=Function.prototype);var C=Object.getOwnPropertyDescriptor(w,S);if(C===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:k(O,S,E)}else{if("value"in C)return C.value;var _=C.get;return _===void 0?void 0:_.call(E)}},p=s(0),u=y(p),f=s(5),g=y(f),m=s(9),i=y(m),d=s(13),j=y(d);function y(k){return k&&k.__esModule?k:{default:k}}function N(k,w){if(!(k instanceof w))throw new TypeError("Cannot call a class as a function")}function h(k,w){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:k}function c(k,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);k.prototype=Object.create(w&&w.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(k,w):k.__proto__=w)}var b=function(k){c(w,k);function w(){return N(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return l(w,[{key:"replaceWith",value:function(S){this.domNode.textContent=this.domNode.textContent,this.attach(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,S)}},{key:"highlight",value:function(S){var E=this.domNode.textContent;this.cachedText!==E&&((E.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=S(E),this.domNode.normalize(),this.attach()),this.cachedText=E)}}]),w}(j.default);b.className="ql-syntax";var x=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),v=function(k){c(w,k),l(w,null,[{key:"register",value:function(){g.default.register(x,!0),g.default.register(b,!0)}}]);function w(S,E){N(this,w);var C=h(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S,E));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var O=null;return C.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(O),O=setTimeout(function(){C.highlight(),O=null},C.options.interval)}),C.highlight(),C}return l(w,[{key:"highlight",value:function(){var S=this;if(!this.quill.selection.composing){this.quill.update(g.default.sources.USER);var E=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(C){C.highlight(S.options.highlight)}),this.quill.update(g.default.sources.SILENT),E!=null&&this.quill.setSelection(E,g.default.sources.SILENT)}}}]),w}(i.default);v.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var w=window.hljs.highlightAuto(k);return w.value}}(),interval:1e3},a.CodeBlock=b,a.CodeToken=x,a.default=v},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,a){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,a){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,a){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,a){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BubbleTooltip=void 0;var l=function w(S,E,C){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,E);if(O===void 0){var _=Object.getPrototypeOf(S);return _===null?void 0:w(_,E,C)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(C)}},o=function(){function w(S,E){for(var C=0;C<E.length;C++){var O=E[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,E,C){return E&&w(S.prototype,E),C&&w(S,C),S}}(),p=s(3),u=N(p),f=s(8),g=N(f),m=s(43),i=N(m),d=s(15),j=s(41),y=N(j);function N(w){return w&&w.__esModule?w:{default:w}}function h(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function c(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function b(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(w){b(S,w);function S(E,C){h(this,S),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=x);var O=c(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,C));return O.quill.container.classList.add("ql-bubble"),O}return o(S,[{key:"extendToolbar",value:function(E){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(E.container),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),y.default)}}]),S}(i.default);v.DEFAULTS=(0,u.default)(!0,{},i.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(w){w?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(w){b(S,w);function S(E,C){h(this,S);var O=c(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,C));return O.quill.on(g.default.events.EDITOR_CHANGE,function(_,A,R,I){if(_===g.default.events.SELECTION_CHANGE)if(A!=null&&A.length>0&&I===g.default.sources.USER){O.show(),O.root.style.left="0px",O.root.style.width="",O.root.style.width=O.root.offsetWidth+"px";var z=O.quill.getLines(A.index,A.length);if(z.length===1)O.position(O.quill.getBounds(A));else{var ee=z[z.length-1],B=O.quill.getIndex(ee),M=Math.min(ee.length()-1,A.index+A.length-B),P=O.quill.getBounds(new d.Range(B,M));O.position(P)}}else document.activeElement!==O.textbox&&O.quill.hasFocus()&&O.hide()}),O}return o(S,[{key:"listen",value:function(){var E=this;l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){E.root.classList.remove("ql-editing")}),this.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!E.root.classList.contains("ql-hidden")){var C=E.quill.getSelection();C!=null&&E.position(E.quill.getBounds(C))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(E){var C=l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"position",this).call(this,E),O=this.root.querySelector(".ql-tooltip-arrow");if(O.style.marginLeft="",C===0)return C;O.style.marginLeft=-1*C-O.offsetWidth/2+"px"}}]),S}(m.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),a.BubbleTooltip=k,a.default=v},function(n,a,s){n.exports=s(63)}]).default})})(rp);var jN=rp.exports,NN=Et&&Et.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var l in s)s.hasOwnProperty(l)&&(a[l]=s[l])},t(r,n)};return function(r,n){t(r,n);function a(){this.constructor=r}r.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),dl=Et&&Et.__assign||function(){return dl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},dl.apply(this,arguments)},wN=Et&&Et.__spreadArrays||function(){for(var t=0,r=0,n=arguments.length;r<n;r++)t+=arguments[r].length;for(var a=Array(t),s=0,r=0;r<n;r++)for(var l=arguments[r],o=0,p=l.length;o<p;o++,s++)a[s]=l[o];return a},Ll=Et&&Et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},er=Ll(q),kN=Ll(Sm),pa=Ll(yN),mu=Ll(jN),EN=function(t){NN(r,t);function r(n){var a=t.call(this,n)||this;a.dirtyProps=["modules","formats","bounds","theme","children"],a.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],a.state={generation:0},a.selection=null,a.onEditorChange=function(l,o,p,u){var f,g,m,i;l==="text-change"?(g=(f=a).onEditorChangeText)===null||g===void 0||g.call(f,a.editor.root.innerHTML,o,u,a.unprivilegedEditor):l==="selection-change"&&((i=(m=a).onEditorChangeSelection)===null||i===void 0||i.call(m,o,u,a.unprivilegedEditor))};var s=a.isControlled()?n.value:n.defaultValue;return a.value=s??"",a}return r.prototype.validateProps=function(n){var a;if(er.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(er.default.Children.count(n.children)){var s=er.default.Children.only(n.children);if(((a=s)===null||a===void 0?void 0:a.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},r.prototype.shouldComponentUpdate=function(n,a){var s=this,l;if(this.validateProps(n),!this.editor||this.state.generation!==a.generation)return!0;if("value"in n){var o=this.getEditorContents(),p=(l=n.value,l??"");this.isEqualValue(p,o)||this.setEditorContents(this.editor,p)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),wN(this.cleanProps,this.dirtyProps).some(function(u){return!pa.default(n[u],s.props[u])})},r.prototype.shouldComponentRegenerate=function(n){var a=this;return this.dirtyProps.some(function(s){return!pa.default(n[s],a.props[s])})},r.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},r.prototype.componentWillUnmount=function(){this.destroyEditor()},r.prototype.componentDidUpdate=function(n,a){var s=this;if(this.editor&&this.shouldComponentRegenerate(n)){var l=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:l,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==a.generation){var p=this.regenerationSnapshot,l=p.delta,u=p.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(l),pu(function(){return s.setEditorSelection(f,u)})}},r.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},r.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},r.prototype.isControlled=function(){return"value"in this.props},r.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},r.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},r.prototype.createEditor=function(n,a){var s=new mu.default(n,a);return a.tabIndex!=null&&this.setEditorTabIndex(s,a.tabIndex),this.hookEditor(s),s},r.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},r.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},r.prototype.getEditorContents=function(){return this.value},r.prototype.getEditorSelection=function(){return this.selection},r.prototype.isDelta=function(n){return n&&n.ops},r.prototype.isEqualValue=function(n,a){return this.isDelta(n)&&this.isDelta(a)?pa.default(n.ops,a.ops):pa.default(n,a)},r.prototype.setEditorContents=function(n,a){var s=this;this.value=a;var l=this.getEditorSelection();typeof a=="string"?n.setContents(n.clipboard.convert(a)):n.setContents(a),pu(function(){return s.setEditorSelection(n,l)})},r.prototype.setEditorSelection=function(n,a){if(this.selection=a,a){var s=n.getLength();a.index=Math.max(0,Math.min(a.index,s-1)),a.length=Math.max(0,Math.min(a.length,s-1-a.index)),n.setSelection(a)}},r.prototype.setEditorTabIndex=function(n,a){var s,l;!((l=(s=n)===null||s===void 0?void 0:s.scroll)===null||l===void 0)&&l.domNode&&(n.scroll.domNode.tabIndex=a)},r.prototype.setEditorReadOnly=function(n,a){a?n.disable():n.enable()},r.prototype.makeUnprivilegedEditor=function(n){var a=n;return{getHTML:function(){return a.root.innerHTML},getLength:a.getLength.bind(a),getText:a.getText.bind(a),getContents:a.getContents.bind(a),getSelection:a.getSelection.bind(a),getBounds:a.getBounds.bind(a)}},r.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=kN.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},r.prototype.renderEditingArea=function(){var n=this,a=this.props,s=a.children,l=a.preserveWhitespace,o=this.state.generation,p={key:o,ref:function(u){n.editingArea=u}};return er.default.Children.count(s)?er.default.cloneElement(er.default.Children.only(s),p):l?er.default.createElement("pre",dl({},p)):er.default.createElement("div",dl({},p))},r.prototype.render=function(){var n;return er.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},r.prototype.onEditorChangeText=function(n,a,s,l){var o,p;if(this.editor){var u=this.isDelta(this.value)?l.getContents():l.getHTML();u!==this.getEditorContents()&&(this.lastDeltaChangeSet=a,this.value=u,(p=(o=this.props).onChange)===null||p===void 0||p.call(o,n,a,s,l))}},r.prototype.onEditorChangeSelection=function(n,a,s){var l,o,p,u,f,g;if(this.editor){var m=this.getEditorSelection(),i=!m&&n,d=m&&!n;pa.default(n,m)||(this.selection=n,(o=(l=this.props).onChangeSelection)===null||o===void 0||o.call(l,n,a,s),i?(u=(p=this.props).onFocus)===null||u===void 0||u.call(p,n,a,s):d&&((g=(f=this.props).onBlur)===null||g===void 0||g.call(f,m,a,s)))}},r.prototype.focus=function(){this.editor&&this.editor.focus()},r.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},r.displayName="React Quill",r.Quill=mu.default,r.defaultProps={theme:"snow",modules:{},readOnly:!1},r}(er.default.Component);function pu(t){Promise.resolve().then(t)}var CN=EN;const _N=hu(CN),Cr=({value:t,onChange:r,placeholder:n="Escribe aquí...",readOnly:a=!1})=>{const s=q.useRef(null),[l,o]=q.useState(!1),[p,u]=q.useState(""),f=()=>{const d=document.createElement("input");d.setAttribute("type","file"),d.setAttribute("accept","image/*"),d.click(),d.onchange=async()=>{var j,y;const N=(j=d.files)==null?void 0:j[0];if(N){const h=new FormData;h.append("image",N);try{const c=await(await fetch(`${ue}/forum/upload-image.php`,{method:"POST",credentials:"include",body:h})).json();if(c.success&&c.url){const b=(y=s.current)==null?void 0:y.getEditor();if(b){const x=b.getSelection();b.insertEmbed((x==null?void 0:x.index)||0,"image",c.url)}}else alert(c.message||"Error al subir la imagen")}catch(c){console.error("Error uploading image:",c),alert("Error al subir la imagen")}}}},g=()=>{var d;if(p.trim()){const j=(d=s.current)==null?void 0:d.getEditor();if(j){const y=j.getSelection();j.insertEmbed((y==null?void 0:y.index)||0,"image",p),u(""),o(!1)}}},m=q.useMemo(()=>({toolbar:a?!1:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["blockquote","code-block"],["link","image","video"],["clean"]],handlers:{image:f}}}),[a]),i=["header","bold","italic","underline","strike","list","bullet","color","background","blockquote","code-block","link","image","video"];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`rich-text-editor ${a?"readonly":""}`,children:[!a&&e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("button",{type:"button",onClick:()=>o(!0),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600/20 hover:bg-blue-600/40 rounded-lg text-blue-300 text-sm transition-colors",children:[e.jsx(Gx,{className:"w-4 h-4"}),e.jsx("span",{children:"Insertar imagen desde URL"})]})}),e.jsx(_N,{ref:s,theme:"snow",value:t,onChange:r,modules:m,formats:i,placeholder:n,readOnly:a}),e.jsx("style",{children:`
        .rich-text-editor .ql-toolbar {
          background: rgba(51, 65, 85, 0.4);
          border: 1px solid rgba(59, 130, 246, 0.3);
          border-radius: 0.75rem 0.75rem 0 0;
        }

        .rich-text-editor .ql-container {
          background: rgba(51, 65, 85, 0.4);
          border: 1px solid rgba(59, 130, 246, 0.3);
          border-top: none;
          border-radius: 0 0 0.75rem 0.75rem;
          font-size: 1rem;
          min-height: 200px;
        }

        .rich-text-editor .ql-editor {
          color: #e0f2fe;
          min-height: 200px;
        }

        .rich-text-editor .ql-editor.ql-blank::before {
          color: #93c5fd;
          font-style: normal;
        }

        .rich-text-editor .ql-stroke {
          stroke: #93c5fd;
        }

        .rich-text-editor .ql-fill {
          fill: #93c5fd;
        }

        .rich-text-editor .ql-picker-label {
          color: #93c5fd;
        }

        .rich-text-editor .ql-picker-options {
          background: rgba(30, 41, 59, 0.95);
          border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .rich-text-editor .ql-picker-item:hover {
          background: rgba(59, 130, 246, 0.2);
          color: #ffffff;
        }

        .rich-text-editor .ql-active {
          color: #60a5fa !important;
        }

        .rich-text-editor .ql-active .ql-stroke {
          stroke: #60a5fa !important;
        }

        .rich-text-editor .ql-active .ql-fill {
          fill: #60a5fa !important;
        }

        .rich-text-editor.readonly .ql-container {
          border: none;
          background: transparent;
        }

        .rich-text-editor.readonly .ql-editor {
          padding: 0;
        }

        .rich-text-editor .ql-editor a {
          color: #60a5fa;
          text-decoration: underline;
        }

        .rich-text-editor .ql-editor img {
          max-width: 100%;
          height: auto;
          border-radius: 0.5rem;
          margin: 0.5rem 0;
        }

        .rich-text-editor .ql-editor blockquote {
          border-left: 4px solid #60a5fa;
          padding-left: 1rem;
          margin: 1rem 0;
          font-style: italic;
          color: #bfdbfe;
        }

        .rich-text-editor .ql-editor code,
        .rich-text-editor .ql-editor pre {
          background: rgba(30, 41, 59, 0.6);
          border: 1px solid rgba(59, 130, 246, 0.2);
          border-radius: 0.25rem;
          padding: 0.25rem 0.5rem;
          color: #fde047;
          font-family: 'Courier New', monospace;
        }

        .rich-text-editor .ql-editor pre {
          padding: 1rem;
          margin: 1rem 0;
        }

        .rich-text-editor .ql-editor ul,
        .rich-text-editor .ql-editor ol {
          padding-left: 1.5rem;
          margin: 0.5rem 0;
        }

        .rich-text-editor .ql-editor li {
          margin: 0.25rem 0;
        }

        .rich-text-editor .ql-toolbar button:hover {
          color: #60a5fa !important;
        }

        .rich-text-editor .ql-toolbar button:hover .ql-stroke {
          stroke: #60a5fa !important;
        }

        .rich-text-editor .ql-toolbar button:hover .ql-fill {
          fill: #60a5fa !important;
        }
      `})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-500/30 p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Insertar Imagen desde URL"}),e.jsx("button",{onClick:()=>{o(!1),u("")},className:"text-blue-300 hover:text-blue-200",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"URL de la imagen"}),e.jsx("input",{type:"text",value:p,onChange:d=>u(d.target.value),placeholder:"https://ejemplo.com/imagen.jpg",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors",onKeyPress:d=>{d.key==="Enter"&&g()}})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:g,disabled:!p.trim(),className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 rounded-xl text-white font-medium transition-colors",children:"Insertar"}),e.jsx("button",{onClick:()=>{o(!1),u("")},className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})})]})},SN=()=>{const{user:t}=ht(),[r,n]=q.useState("list"),[a,s]=q.useState([]),[l,o]=q.useState(null),[p,u]=q.useState(!0),[f,g]=q.useState("all"),[m,i]=q.useState(""),[d,j]=q.useState(!1),[y,N]=q.useState({title:"",content:"",category:"general"}),[h,c]=q.useState(!1),[b,x]=q.useState(""),[v,k]=q.useState(!1),[w,S]=q.useState(null),[E,C]=q.useState(""),[O,_]=q.useState(!1),[A,R]=q.useState(null),[I,z]=q.useState(!1),[ee,B]=q.useState(null),[M,P]=q.useState([]),L=[{id:"all",name:"Todas las categorías",icon:nr,color:"text-blue-400"},{id:"general",name:"Discusión General",icon:ln,color:"text-green-400"},{id:"gameplay",name:"Gameplay y Estrategias",icon:Im,color:"text-purple-400"},{id:"technical",name:"Soporte Técnico",icon:Hr,color:"text-red-400"},{id:"clans",name:"Clanes y Reclutamiento",icon:je,color:"text-yellow-400"},{id:"suggestions",name:"Sugerencias",icon:Re,color:"text-cyan-400"}];q.useEffect(()=>{F()},[f]);const F=async()=>{try{u(!0);const Q=await(await fetch(`${ue}/forum/get-topics.php?category=${f}`,{credentials:"include",cache:"no-store"})).json();Q.success&&s(Q.topics)}catch(Q){console.error("Error loading topics:",Q)}finally{u(!1)}},W=async Q=>{try{u(!0);const K=await(await fetch(`${ue}/forum/get-topic.php?id=${Q}`,{credentials:"include",cache:"no-store"})).json();K.success&&(o(K.topic),n("topic"))}catch(K){console.error("Error loading topic:",K)}finally{u(!1)}},G=async()=>{if(!t){j(!0);return}if(!y.title.trim()||!y.content.trim()){alert("Por favor completa todos los campos");return}c(!0);try{const Q=await(await fetch(`${ue}/forum/create-topic.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)})).json();Q.success?(N({title:"",content:"",category:"general"}),n("list"),await F()):alert(Q.message||"Error al crear el tema")}catch(Q){console.error("Error creating topic:",Q),alert("Error al crear el tema")}finally{c(!1)}},V=async Q=>{if(confirm("¿Estás seguro de que quieres eliminar este tema? Esta acción no se puede deshacer."))try{const K=await(await fetch(`${ue}/forum/delete-topic.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({topicId:Q})})).json();K.success?(r==="topic"&&(n("list"),o(null)),await F()):alert(K.message||"Error al eliminar el tema")}catch(K){console.error("Error deleting topic:",K),alert("Error al eliminar el tema")}},$=async()=>{if(!t){j(!0);return}if(!(!b.trim()||!l)){k(!0);try{let Q=b;A&&(Q=`<blockquote><strong>Cita de ${A.author.username}:</strong><br/>${A.content}</blockquote><p><br/></p>${b}`);const K=await(await fetch(`${ue}/forum/reply-topic.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({topicId:l.id,content:Q,quotedReplyId:(A==null?void 0:A.id)||null})})).json();K.success?(x(""),R(null),W(l.id)):alert(K.message||"Error al enviar la respuesta")}catch(Q){console.error("Error replying:",Q),alert("Error al enviar la respuesta")}finally{k(!1)}}},U=async()=>{if(!(!w||!E.trim())){_(!0);try{const Q=await(await fetch(`${ue}/forum/edit-reply.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({replyId:w,content:E})})).json();Q.success?(S(null),C(""),l&&W(l.id)):alert(Q.message||"Error al editar la respuesta")}catch(Q){console.error("Error editing reply:",Q),alert("Error al editar la respuesta")}finally{_(!1)}}},X=async()=>{if(l)try{const Q=await(await fetch(`${ue}/forum/toggle-lock.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({topicId:l.id})})).json();Q.success?W(l.id):alert(Q.message||"Error al cambiar el estado del tema")}catch(Q){console.error("Error toggling lock:",Q),alert("Error al cambiar el estado del tema")}},le=Q=>{R(Q),x(""),setTimeout(()=>{const K=document.getElementById("reply-form");K&&K.scrollIntoView({behavior:"smooth",block:"center"})},100)},ae=async Q=>{try{const K=await(await fetch(`${ue}/forum/get-edit-history.php?replyId=${Q}`,{credentials:"include",cache:"no-store"})).json();K.success&&(P(K.history),B(Q),z(!0))}catch(K){console.error("Error loading edit history:",K)}},J=Q=>t?t.id===Q.author.id:!1,ne=()=>!t||!l?!1:t.role==="admin",D=Q=>new Date(Q).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ie=Q=>{const K=new Date(Q),H=Math.floor((new Date().getTime()-K.getTime())/(1e3*60));return H<1?"Ahora mismo":H<60?`Hace ${H} min`:H<1440?`Hace ${Math.floor(H/60)} h`:H<10080?`Hace ${Math.floor(H/1440)} días`:D(Q)},me=Q=>L.find(K=>K.id===Q)||L[1],ge=Q=>Q==="admin"?e.jsx(ye,{className:"w-4 h-4 text-yellow-400"}):e.jsx(Ve,{className:"w-4 h-4 text-blue-400"}),pe=Q=>Q==="admin"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":"bg-blue-500/20 text-blue-300 border-blue-500/30",te=Q=>t?t.role==="admin"||t.id===Q.author.id:!1,Z=()=>{j(!1);const Q=new CustomEvent("navigate-to-section",{detail:"user-panel"});window.dispatchEvent(Q)},re=a.filter(Q=>Q.title.toLowerCase().includes(m.toLowerCase())||Q.content.toLowerCase().includes(m.toLowerCase()));if(r==="list")return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Foro de la Comunidad"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"Discute, comparte y conecta con otros jugadores"}),!t&&e.jsx("div",{className:"mt-4 p-4 bg-blue-600/10 border border-blue-500/30 rounded-xl",children:e.jsxs("p",{className:"text-blue-300 text-sm",children:["💡 ",e.jsx("strong",{children:"¿Quieres participar?"})," Inicia sesión para crear temas y responder en las discusiones"]})})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(nr,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:a.length}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Temas Totales"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ln,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:a.reduce((Q,K)=>Q+K.repliesCount,0)}),e.jsx("p",{className:"text-green-300 text-sm",children:"Respuestas"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Be,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:a.reduce((Q,K)=>Q+K.views,0)}),e.jsx("p",{className:"text-purple-300 text-sm",children:"Visualizaciones"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(je,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:new Set(a.map(Q=>Q.author.id)).size}),e.jsx("p",{className:"text-yellow-300 text-sm",children:"Participantes"})]})]})})]}),e.jsx("div",{className:"mb-8 bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-blue-400"}),e.jsx("input",{type:"text",placeholder:"Buscar en el foro...",value:m,onChange:Q=>i(Q.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsx("select",{value:f,onChange:Q=>g(Q.target.value),className:"px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:L.map(Q=>e.jsx("option",{value:Q.id,children:Q.name},Q.id))})]}),e.jsxs("button",{onClick:()=>{if(!t){j(!0);return}n("create")},className:"flex items-center space-x-2 px-6 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white font-medium transition-colors",children:[e.jsx(Re,{className:"w-5 h-5"}),e.jsx("span",{children:"Nuevo Tema"})]})]})}),p?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):re.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(nr,{className:"w-24 h-24 text-blue-400 mx-auto mb-6 opacity-50"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:m?"No se encontraron temas":"Sé el primero en participar"}),e.jsx("p",{className:"text-blue-300 text-lg mb-8",children:m?"Intenta con otros términos de búsqueda":"Inicia una nueva discusión y ayuda a construir nuestra comunidad"}),!m&&e.jsxs("button",{onClick:()=>{if(!t){j(!0);return}n("create")},className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-bold text-lg transition-colors flex items-center space-x-2 mx-auto",children:[e.jsx(Re,{className:"w-6 h-6"}),e.jsx("span",{children:"Crear Primer Tema"})]})]}):e.jsx("div",{className:"space-y-4",children:re.map(Q=>{const K=me(Q.category),H=K.icon;return e.jsx("div",{className:`
                    bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6 
                    hover:bg-slate-700/40 hover:border-blue-500/50 transition-all duration-300
                    ${Q.isPinned?"ring-2 ring-yellow-400/50":""}
                  `,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("img",{src:Q.author.avatar,alt:Q.author.username,className:"w-12 h-12 rounded-full border-2 border-blue-500/30"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Q.isPinned&&e.jsx(sl,{className:"w-4 h-4 text-yellow-400"}),Q.isLocked&&e.jsx(Ir,{className:"w-4 h-4 text-red-400"}),e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs ${K.color} bg-slate-700/40`,children:[e.jsx(H,{className:"w-3 h-3"}),e.jsx("span",{children:K.name})]})]}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2 hover:text-blue-300 transition-colors cursor-pointer",onClick:()=>W(Q.id),children:Q.title}),e.jsx("div",{className:"text-blue-200 text-sm mb-3 line-clamp-2",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:Q.content.substring(0,150)+"..."}})}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-blue-400",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(yr,{className:"w-3 h-3"}),e.jsx("span",{children:Q.author.username})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ot,{className:"w-3 h-3"}),e.jsx("span",{children:ie(Q.createdAt)})]})]})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-2 text-center min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-blue-400 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:Q.views})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ln,{className:"w-4 h-4"}),e.jsx("span",{children:Q.repliesCount})]})]}),Q.lastReply&&e.jsxs("div",{className:"text-xs text-blue-400",children:[e.jsx("p",{children:"Última respuesta:"}),e.jsx("p",{className:"font-medium",children:Q.lastReply.username}),e.jsx("p",{children:ie(Q.lastReply.at)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[te(Q)&&e.jsx("button",{onClick:()=>V(Q.id),className:"p-2 bg-red-600/20 hover:bg-red-600/40 rounded-lg text-red-300 transition-colors",title:"Eliminar tema",children:e.jsx(ot,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>W(Q.id),className:"p-2 bg-blue-600/20 hover:bg-blue-600/40 rounded-lg text-blue-300 transition-colors",title:"Ver tema",children:e.jsx(uc,{className:"w-5 h-5"})})]})]})]})},Q.id)})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-slate-800 rounded-2xl border border-blue-500/30 p-6 max-w-md w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mt,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Inicia Sesión"}),e.jsx("p",{className:"text-blue-300 mb-6",children:"Para participar en el foro necesitas tener una cuenta"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:Z,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Mt,{className:"w-4 h-4"}),e.jsx("span",{children:"Ir a Login"})]}),e.jsx("button",{onClick:()=>j(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})})})]});if(r==="create")return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>n("list"),className:"flex items-center space-x-2 mb-6 px-4 py-2 bg-slate-700/40 hover:bg-slate-700/60 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Jr,{className:"w-4 h-4"}),e.jsx("span",{children:"Volver al Foro"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Crear Nuevo Tema"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Categoría"}),e.jsx("select",{value:y.category,onChange:Q=>N({...y,category:Q.target.value}),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white focus:outline-none focus:border-blue-500 transition-colors",children:L.slice(1).map(Q=>e.jsx("option",{value:Q.id,children:Q.name},Q.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Título del Tema"}),e.jsx("input",{type:"text",value:y.title,onChange:Q=>N({...y,title:Q.target.value}),placeholder:"Escribe un título descriptivo...",className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Contenido"}),e.jsx(Cr,{value:y.content,onChange:Q=>N({...y,content:Q}),placeholder:"Describe tu tema en detalle..."})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:G,disabled:h||!y.title.trim()||!y.content.trim(),className:"flex-1 flex items-center justify-center space-x-2 px-6 py-4 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-xl text-white font-medium transition-colors",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Creando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-5 h-5"}),e.jsx("span",{children:"Crear Tema"})]})}),e.jsx("button",{onClick:()=>n("list"),disabled:h,className:"px-8 py-4 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-600/50 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]})]})]})})]});if(r==="topic"&&l){const Q=me(l.category),K=Q.icon;return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>n("list"),className:"flex items-center space-x-2 mb-6 px-4 py-2 bg-slate-700/40 hover:bg-slate-700/60 rounded-lg text-blue-300 hover:text-blue-200 transition-colors",children:[e.jsx(Jr,{className:"w-4 h-4"}),e.jsx("span",{children:"Volver al Foro"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[l.isPinned&&e.jsx(sl,{className:"w-5 h-5 text-yellow-400"}),l.isLocked&&e.jsx(Ir,{className:"w-5 h-5 text-red-400"}),e.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-sm ${Q.color} bg-slate-700/40`,children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:Q.name})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[ne()&&e.jsxs("button",{onClick:X,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${l.isLocked?"bg-green-600/20 hover:bg-green-600/40 text-green-300 hover:text-green-200":"bg-yellow-600/20 hover:bg-yellow-600/40 text-yellow-300 hover:text-yellow-200"}`,title:l.isLocked?"Reabrir tema":"Cerrar tema",children:[l.isLocked?e.jsx(mc,{className:"w-4 h-4"}):e.jsx(Ir,{className:"w-4 h-4"}),e.jsx("span",{children:l.isLocked?"Reabrir":"Cerrar"})]}),te(l)&&e.jsxs("button",{onClick:()=>V(l.id),className:"flex items-center space-x-2 px-3 py-2 bg-red-600/20 hover:bg-red-600/40 rounded-lg text-red-300 hover:text-red-200 transition-colors",title:"Eliminar tema",children:[e.jsx(ot,{className:"w-4 h-4"}),e.jsx("span",{children:"Eliminar"})]})]})]}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:l.title}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("img",{src:l.author.avatar,alt:l.author.username,className:"w-12 h-12 rounded-full border-2 border-blue-500/30"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-bold text-white",children:l.author.username}),l.author.role&&e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${pe(l.author.role)}`,children:[ge(l.author.role),e.jsx("span",{children:l.author.role==="admin"?"Admin":"Jugador"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-blue-400",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ot,{className:"w-3 h-3"}),e.jsx("span",{children:D(l.createdAt)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Be,{className:"w-3 h-3"}),e.jsxs("span",{children:[l.views," vistas"]})]})]})]})]}),e.jsx("div",{className:"prose prose-invert max-w-none",children:e.jsx(Cr,{value:l.content,onChange:()=>{},readOnly:!0})})]}),l.replies.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Respuestas (",l.replies.length,")"]}),l.replies.map(H=>e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:w===H.id?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-white font-medium",children:"Editando respuesta:"}),e.jsx(Cr,{value:E,onChange:C,placeholder:"Edita tu respuesta..."}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:U,disabled:O||!E.trim(),className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-lg text-white transition-colors",children:O?"Guardando...":"Guardar"}),e.jsx("button",{onClick:()=>{S(null),C("")},disabled:O,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-600/50 rounded-lg text-white transition-colors",children:"Cancelar"})]})]}):e.jsx("div",{children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("img",{src:H.author.avatar,alt:H.author.username,className:"w-10 h-10 rounded-full border-2 border-blue-500/30"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2 flex-wrap",children:[e.jsx("span",{className:"font-bold text-white",children:H.author.username}),H.author.role&&e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${pe(H.author.role)}`,children:[ge(H.author.role),e.jsx("span",{children:H.author.role==="admin"?"Admin":"Jugador"})]}),H.author.clan&&e.jsxs("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 rounded-full text-xs font-mono",children:["[",H.author.clan,"]"]}),e.jsx("span",{className:"text-blue-400 text-sm",children:D(H.createdAt)}),H.editCount&&H.editCount>0&&e.jsxs("span",{className:"text-yellow-400 text-xs italic",children:["(editado ",H.editCount," ",H.editCount===1?"vez":"veces",")"]})]}),e.jsx("div",{className:"mb-3",children:e.jsx(Cr,{value:H.content,onChange:()=>{},readOnly:!0})}),e.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[t&&!l.isLocked&&e.jsxs("button",{onClick:()=>le(H),className:"flex items-center space-x-1 px-3 py-1 bg-blue-600/20 hover:bg-blue-600/40 rounded-lg text-blue-300 text-sm transition-colors",children:[e.jsx(qd,{className:"w-3 h-3"}),e.jsx("span",{children:"Citar"})]}),J(H)&&!l.isLocked&&e.jsxs("button",{onClick:()=>{S(H.id),C(H.content)},className:"flex items-center space-x-1 px-3 py-1 bg-yellow-600/20 hover:bg-yellow-600/40 rounded-lg text-yellow-300 text-sm transition-colors",children:[e.jsx(Tm,{className:"w-3 h-3"}),e.jsx("span",{children:"Editar"})]}),H.editCount&&H.editCount>0&&e.jsxs("button",{onClick:()=>ae(H.id),className:"flex items-center space-x-1 px-3 py-1 bg-purple-600/20 hover:bg-purple-600/40 rounded-lg text-purple-300 text-sm transition-colors",children:[e.jsx(Ld,{className:"w-3 h-3"}),e.jsx("span",{children:"Historial"})]})]})]})]})})},H.id))]}),!l.isLocked&&e.jsxs("div",{id:"reply-form",className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Responder al tema"}),t?e.jsxs("div",{className:"space-y-4",children:[A&&e.jsxs("div",{className:"bg-blue-600/10 border border-blue-500/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qd,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:["Citando a ",e.jsx("strong",{children:A.author.username})]})]}),e.jsx("button",{onClick:()=>{R(null)},className:"text-red-400 hover:text-red-300 text-sm font-medium",children:"Cancelar cita"})]}),e.jsxs("div",{className:"bg-slate-700/40 border-l-4 border-blue-500 rounded-r-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("img",{src:A.author.avatar,alt:A.author.username,className:"w-6 h-6 rounded-full border border-blue-500/30"}),e.jsx("span",{className:"text-blue-200 text-sm font-bold",children:A.author.username}),e.jsx("span",{className:"text-blue-400 text-xs",children:D(A.createdAt)})]}),e.jsx("div",{className:"text-blue-200 text-sm prose prose-sm prose-invert max-w-none",children:e.jsx(Cr,{value:A.content,onChange:()=>{},readOnly:!0})})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("img",{src:t.avatar||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop",alt:t.username,className:"w-10 h-10 rounded-full border-2 border-blue-500/30"}),e.jsx("div",{className:"flex-1",children:e.jsx(Cr,{value:b,onChange:x,placeholder:"Escribe tu respuesta..."})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:$,disabled:!b.trim()||v,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 rounded-xl text-white font-medium transition-colors",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Enviando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(oo,{className:"w-4 h-4"}),e.jsx("span",{children:"Responder"})]})})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Mt,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("p",{className:"text-blue-300 mb-4",children:"Inicia sesión para responder a este tema"}),e.jsxs("button",{onClick:Z,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-colors flex items-center space-x-2 mx-auto",children:[e.jsx(Mt,{className:"w-4 h-4"}),e.jsx("span",{children:"Iniciar Sesión"})]})]})]}),l.isLocked&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 text-center",children:[e.jsx(Ir,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-red-300 mb-2",children:"Tema Cerrado"}),e.jsx("p",{className:"text-red-400",children:"Este tema ha sido cerrado y no acepta nuevas respuestas."})]}),I&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-blue-500/30 p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(Ld,{className:"w-5 h-5 text-purple-400"}),e.jsx("span",{children:"Historial de Ediciones"})]}),e.jsx("button",{onClick:()=>{z(!1),B(null),P([])},className:"text-blue-300 hover:text-blue-200",children:e.jsx("span",{className:"text-2xl",children:"×"})})]}),M.length===0?e.jsx("p",{className:"text-blue-300 text-center py-8",children:"No hay historial de ediciones"}):e.jsx("div",{className:"space-y-4",children:M.map((H,he)=>e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-blue-600/30",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("img",{src:H.editor.avatar,alt:H.editor.username,className:"w-8 h-8 rounded-full border-2 border-blue-500/30"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-medium",children:H.editor.username}),e.jsx("p",{className:"text-blue-400 text-sm",children:D(H.editedAt)})]}),e.jsxs("span",{className:"text-purple-400 text-sm font-medium",children:["Edición #",M.length-he]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-red-300 text-sm font-medium mb-2",children:"Contenido Anterior:"}),e.jsx("div",{className:"bg-slate-900/40 rounded-lg p-3 border border-red-500/20",children:e.jsx(Cr,{value:H.oldContent,onChange:()=>{},readOnly:!0})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-green-300 text-sm font-medium mb-2",children:"Contenido Nuevo:"}),e.jsx("div",{className:"bg-slate-900/40 rounded-lg p-3 border border-green-500/20",children:e.jsx(Cr,{value:H.newContent,onChange:()=>{},readOnly:!0})})]})]})]},H.id))})]})})]})]})}return null},ON=()=>{const[t,r]=q.useState([]),[n,a]=q.useState(!0),{themeConfig:s}=Ya();q.useEffect(()=>{l()},[]);const l=async()=>{try{const f=await(await fetch("/api/sponsors/get-all.php")).json();f.success&&r(f.data)}catch(f){console.error("Error al cargar sponsors:",f)}finally{a(!1)}},o=f=>{const g={className:"w-5 h-5"};switch(f){case"website":return e.jsx(so,{...g});case"whatsapp":return e.jsx(ln,{...g});case"instagram":return e.jsx(Yx,{...g});case"facebook":return e.jsx(Zx,{...g});case"youtube":return e.jsx(Mr,{...g});case"twitch":return e.jsx(cf,{...g});case"kick":return e.jsx(Ne,{...g});default:return null}},p=f=>{switch(f){case"website":return"#3b82f6";case"whatsapp":return"#25D366";case"instagram":return"#E4405F";case"facebook":return"#1877F2";case"youtube":return"#FF0000";case"twitch":return"#9146FF";case"kick":return"#53FC18";default:return s.colors.primary}},u=f=>{const g=[];return f.website&&g.push({platform:"website",url:f.website}),f.whatsapp&&g.push({platform:"whatsapp",url:f.whatsapp}),f.instagram&&g.push({platform:"instagram",url:f.instagram}),f.facebook&&g.push({platform:"facebook",url:f.facebook}),f.youtube&&g.push({platform:"youtube",url:f.youtube}),f.twitch&&g.push({platform:"twitch",url:f.twitch}),f.kick&&g.push({platform:"kick",url:f.kick}),g};return n?e.jsx("div",{className:"container mx-auto px-4 py-8 mt-20",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent rounded-full animate-spin mx-auto",style:{borderColor:`${s.colors.primary} transparent transparent transparent`}})})}):e.jsx("div",{className:"container mx-auto px-4 py-8 mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:s.colors.text},children:"Nuestros Sponsors"}),e.jsx("p",{className:"text-lg",style:{color:s.colors.textSecondary},children:"Gracias a nuestros sponsors por hacer posible esta comunidad"})]}),t.length===0?e.jsxs("div",{className:"text-center p-12 rounded-2xl border",style:{backgroundColor:`${s.colors.surface}40`,borderColor:s.colors.border},children:[e.jsx(Ne,{className:"w-16 h-16 mx-auto mb-4 opacity-50",style:{color:s.colors.textSecondary}}),e.jsx("p",{className:"text-lg",style:{color:s.colors.textSecondary},children:"Próximamente tendremos sponsors"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(f=>{const g=u(f);return e.jsxs("div",{className:"rounded-2xl border p-6 transition-all duration-300 hover:scale-105",style:{backgroundColor:`${s.colors.surface}40`,backdropFilter:"blur(24px)",borderColor:s.colors.border},children:[e.jsx("div",{className:"aspect-video mb-4 rounded-xl overflow-hidden bg-white/5 flex items-center justify-center p-4",children:e.jsx("img",{src:f.logo,alt:f.name,className:"max-w-full max-h-full object-contain"})}),e.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:s.colors.text},children:f.name}),g.length>0&&e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:g.map(m=>e.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg transition-all duration-300 hover:scale-110",style:{backgroundColor:`${p(m.platform)}20`,color:p(m.platform)},title:m.platform,children:o(m.platform)},m.platform))})]},f.id)})}),e.jsxs("div",{className:"mt-12 p-8 rounded-2xl border text-center",style:{backgroundColor:`${s.colors.surface}40`,backdropFilter:"blur(24px)",borderColor:s.colors.border},children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:s.colors.text},children:"¿Quieres ser sponsor?"}),e.jsx("p",{className:"text-lg mb-4",style:{color:s.colors.textSecondary},children:"Contacta con nosotros para formar parte de nuestra comunidad"}),e.jsx("p",{style:{color:s.colors.primary},children:"info@tacticalopschile.com"})]})]})})},PN=()=>{const[t,r]=q.useState([]),[n,a]=q.useState(!0),[s,l]=q.useState(t.map(w=>({...w,info:null,players:[],loading:!0,error:null}))),[o,p]=q.useState(new Date),[u,f]=q.useState(null),[g,m]=q.useState(!1),[i,d]=q.useState(new Set);q.useEffect(()=>{j()},[]);const j=async()=>{try{a(!0);const w=await(await fetch(`${ue}/servers/get-all.php`)).json();if(w.success&&Array.isArray(w.servers)){const S=w.servers.map(E=>({ip:E.ip,port:E.port,name:E.name}));r(S)}}catch(w){console.error("Error loading server configs:",w)}finally{a(!1)}},y=w=>{d(S=>{const E=new Set(S);return E.has(w)?E.delete(w):E.add(w),E})},N=async(w,S)=>{try{const E=`https://api.lcto.cl/server-info?ip=${w}&port=${S}&timeOut=8`,C=await fetch(E);if(!C.ok)throw new Error("No se pudo obtener la información del servidor");return{info:await C.json(),error:null}}catch(E){return{info:null,error:E instanceof Error?E.message:"Error desconocido"}}},h=async(w,S)=>{try{const E=`https://api.lcto.cl/players?ip=${w}&port=${S}&timeOut=12`,C=await fetch(E);if(!C.ok)return[];const O=await C.json();return Array.isArray(O)?O:[]}catch{return[]}},c=async()=>{m(!0);const w=await Promise.all(t.map(async S=>{const[{info:E,error:C},O]=await Promise.all([N(S.ip,S.port),h(S.ip,S.port)]);return{...S,info:E,players:O,loading:!1,error:C}}));l(w),p(new Date),m(!1)};q.useEffect(()=>{if(t.length>0){c();const w=setInterval(c,3e4);return()=>clearInterval(w)}},[t]);const b=async(w,S)=>{try{await navigator.clipboard.writeText(`${w}:${S}`),f(`${w}:${S}`),setTimeout(()=>f(null),2e3)}catch(E){console.error("Failed to copy:",E)}},x=w=>w.info?w.info.numPlayers>0?{color:"bg-green-500",text:"Activo",ringColor:"ring-green-500/30"}:{color:"bg-yellow-500",text:"Disponible",ringColor:"ring-yellow-500/30"}:{color:"bg-gray-500",text:"Desconocido",ringColor:"ring-gray-500/30"},v=()=>s.reduce((w,S)=>{var E;return w+(((E=S.info)==null?void 0:E.numPlayers)||0)},0),k=()=>s.filter(w=>w.info!==null).length;return n?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})})}):t.length===0?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Vt,{className:"w-24 h-24 text-blue-400 mx-auto mb-6 opacity-50"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"No hay servidores configurados"}),e.jsx("p",{className:"text-blue-300 text-lg",children:"Contacta al administrador para configurar los servidores."})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Estado de Servidores"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"Información en tiempo real de los servidores Tactical Ops 3.5 Chile"})]}),e.jsxs("button",{onClick:c,disabled:g,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600/20 backdrop-blur-sm border border-blue-500/30 rounded-xl text-blue-300 hover:bg-blue-600/30 hover:text-blue-200 transition-all duration-300 disabled:opacity-50",children:[e.jsx(Dt,{className:`w-5 h-5 ${g?"animate-spin":""}`}),e.jsx("span",{children:g?"Actualizando...":"Actualizar Todo"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Vt,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold text-white",children:s.length}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Servidores Totales"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Vt,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold text-white",children:k()}),e.jsx("p",{className:"text-green-300 text-sm",children:"Servidores Online"})]})]})}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-xl border border-blue-700/30 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(je,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold text-white",children:v()}),e.jsx("p",{className:"text-purple-300 text-sm",children:"Jugadores Totales"})]})]})})]}),e.jsx("div",{className:"space-y-6",children:s.map((w,S)=>{var E;const C=x(w),O=`${w.ip}:${w.port}`,_=i.has(O);return e.jsxs("div",{className:`bg-slate-800/40 backdrop-blur-lg rounded-2xl border-2 ${C.ringColor} overflow-hidden shadow-2xl transition-all duration-300`,children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 p-6 border-b border-blue-700/30",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Vt,{className:"w-10 h-10 text-blue-300"}),e.jsx("div",{className:`absolute -top-1 -right-1 w-4 h-4 ${C.color} rounded-full border-2 border-slate-800 animate-pulse`})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:((E=w.info)==null?void 0:E.hostname)||w.name}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full ${C.color}/20 border border-${C.color}/30`,children:[e.jsx("div",{className:`w-2 h-2 ${C.color} rounded-full animate-pulse`}),e.jsx("span",{className:"text-sm font-medium text-white",children:C.text})]}),w.info&&e.jsxs("span",{className:"text-sm text-blue-300",children:["Versión ",w.info.gameVer]})]})]})]})}),!w.loading&&!w.error&&w.info&&e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-700/60 rounded-xl p-4 border border-blue-500/30",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vt,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-sm text-blue-300 font-medium",children:"Dirección"})]})}),e.jsxs("code",{className:"text-lg text-white font-mono bg-slate-800/60 px-3 py-2 rounded block",children:[w.ip,":",w.port]})]}),e.jsxs("div",{className:"bg-slate-700/60 rounded-xl p-4 border border-purple-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(qn,{className:"w-5 h-5 text-purple-400"}),e.jsx("span",{className:"text-sm text-purple-300 font-medium",children:"Mapa Actual"})]}),e.jsx("p",{className:"text-lg font-bold text-white truncate",children:w.info.mapTitle}),e.jsx("p",{className:"text-xs text-purple-300 truncate",children:w.info.mapName})]}),e.jsxs("div",{className:"bg-slate-700/60 rounded-xl p-4 border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(je,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-sm text-green-300 font-medium",children:"Jugadores"})]}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:[w.info.numPlayers,e.jsxs("span",{className:"text-lg text-green-400",children:["/",w.info.maxPlayers]})]}),e.jsx("div",{className:"mt-2 bg-slate-600/40 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 h-full transition-all duration-500",style:{width:`${w.info.numPlayers/w.info.maxPlayers*100}%`}})})]})]})]}),w.loading?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-center space-y-4",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-blue-300 ml-3",children:"Cargando información..."})]})}):w.error?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-center text-red-400",children:[e.jsx(Hr,{className:"w-6 h-6 mr-2"}),e.jsx("span",{children:w.error})]})}):w.info?e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{onClick:()=>y(O),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-xl text-blue-300 hover:text-blue-200 transition-all duration-300",children:[e.jsx(io,{className:"w-4 h-4"}),e.jsx("span",{children:_?"Ocultar Detalles":"Más Información"}),_?e.jsx(Vx,{className:"w-4 h-4"}):e.jsx(Bx,{className:"w-4 h-4"})]}),e.jsxs("button",{onClick:()=>b(w.ip,w.port),className:"flex items-center space-x-2 px-4 py-2 bg-green-600/20 hover:bg-green-600/30 border border-green-500/30 rounded-xl text-green-300 hover:text-green-200 transition-all duration-300",children:[e.jsx(Wx,{className:"w-4 h-4"}),e.jsx("span",{children:u===O?"Copiado!":"Copiar IP"})]})]}),_&&e.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center space-x-2",children:[e.jsx(io,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{children:"Información Detallada"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-red-600/20 to-red-800/20 rounded-xl p-4 border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ye,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-sm text-red-300 font-medium",children:"Terroristas"})]}),e.jsx("p",{className:"text-3xl font-bold text-red-400",children:w.info.scoreTerrorists})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-600/20 to-blue-800/20 rounded-xl p-4 border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ye,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm text-blue-300 font-medium",children:"Fuerzas Especiales"})]}),e.jsx("p",{className:"text-3xl font-bold text-blue-400",children:w.info.scoreSpecialForces})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-slate-700/40 rounded-lg p-3 border border-blue-600/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(Kt,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"Ronda"})]}),e.jsxs("p",{className:"text-xl font-bold text-white",children:["#",w.info.roundNumber]})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-lg p-3 border border-blue-600/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(Kt,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"Límite"})]}),e.jsxs("p",{className:"text-xl font-bold text-white",children:[w.info.timeLimit," min"]})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-lg p-3 border border-blue-600/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[w.info.password==="False"?e.jsx(mc,{className:"w-4 h-4 text-green-400"}):e.jsx(Ir,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"Acceso"})]}),e.jsx("p",{className:"text-sm font-bold text-white",children:w.info.password==="False"?"Público":"Privado"})]})]}),w.players.length>0&&e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-4 border border-blue-600/30",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(je,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Jugadores Conectados"}),e.jsxs("span",{className:"text-sm text-blue-300",children:["(",w.players.length,")"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-blue-600/30",children:[e.jsx("th",{className:"text-left py-2 px-3 text-blue-300 font-medium",children:"Jugador"}),e.jsx("th",{className:"text-center py-2 px-3 text-blue-300 font-medium",children:"Equipo"}),e.jsx("th",{className:"text-center py-2 px-3 text-blue-300 font-medium",children:"Puntos"}),e.jsx("th",{className:"text-center py-2 px-3 text-blue-300 font-medium",children:"Frags"}),e.jsx("th",{className:"text-center py-2 px-3 text-blue-300 font-medium",children:"Muertes"}),e.jsx("th",{className:"text-center py-2 px-3 text-blue-300 font-medium",children:"K/D"}),e.jsx("th",{className:"text-center py-2 px-3 text-blue-300 font-medium",children:"Ping"})]})}),e.jsx("tbody",{children:w.players.map((A,R)=>{const I=A.deaths>0?(A.frags/A.deaths).toFixed(2):A.frags.toFixed(2);return e.jsxs("tr",{className:"border-b border-slate-600/30 hover:bg-slate-600/20",children:[e.jsx("td",{className:"py-2 px-3 text-white font-medium",children:A.name}),e.jsx("td",{className:"py-2 px-3 text-center",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${A.team===0?"bg-red-600/20 text-red-300 border border-red-500/30":A.team===1?"bg-blue-600/20 text-blue-300 border border-blue-500/30":"bg-gray-600/20 text-gray-300 border border-gray-500/30"}`,children:A.team===0?"Terroristas":A.team===1?"Fuerzas Especiales":"Espectador"})}),e.jsx("td",{className:"py-2 px-3 text-center text-white font-bold",children:A.score}),e.jsx("td",{className:"py-2 px-3 text-center text-green-400 font-bold",children:A.frags}),e.jsx("td",{className:"py-2 px-3 text-center text-red-400 font-bold",children:A.deaths}),e.jsx("td",{className:"py-2 px-3 text-center",children:e.jsx("span",{className:`font-bold ${parseFloat(I)>=2?"text-green-400":parseFloat(I)>=1?"text-yellow-400":"text-red-400"}`,children:I})}),e.jsx("td",{className:"py-2 px-3 text-center",children:e.jsxs("span",{className:`font-medium ${A.ping<50?"text-green-400":A.ping<100?"text-yellow-400":"text-red-400"}`,children:[A.ping,"ms"]})})]},R)})})]})})]})]})]}):null]},O)})}),e.jsxs("div",{className:"mt-8 text-center text-sm text-blue-400",children:["Última actualización: ",o.toLocaleTimeString("es-CL")," - Se actualiza automáticamente cada 30 segundos"]}),e.jsxs("div",{className:"mt-8 bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center space-x-2",children:[e.jsx(Hr,{className:"w-6 h-6 text-blue-400"}),e.jsx("span",{children:"Cómo Conectarse"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-6",children:[e.jsxs("h4",{className:"text-blue-300 font-medium mb-4 flex items-center space-x-2",children:[e.jsx("span",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:"1"}),e.jsx("span",{children:"Método Consola (Recomendado)"})]}),e.jsxs("ol",{className:"text-blue-200 space-y-2",children:[e.jsxs("li",{children:["• Abre la consola con la tecla ",e.jsx("kbd",{className:"bg-slate-600 px-2 py-1 rounded text-white",children:"~"})]}),e.jsxs("li",{children:["• Escribe: ",e.jsx("code",{className:"bg-slate-600 px-2 py-1 rounded text-white",children:"connect IP:PUERTO"})]}),e.jsxs("li",{children:["• Presiona ",e.jsx("kbd",{className:"bg-slate-600 px-2 py-1 rounded text-white",children:"Enter"})]})]})]}),e.jsxs("div",{className:"bg-slate-700/40 rounded-xl p-6",children:[e.jsxs("h4",{className:"text-blue-300 font-medium mb-4 flex items-center space-x-2",children:[e.jsx("span",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold",children:"2"}),e.jsx("span",{children:"Método Lista de Servidores"})]}),e.jsxs("ol",{className:"text-blue-200 space-y-2",children:[e.jsxs("li",{children:["• Ve a ",e.jsx("strong",{children:"Multijugador"})," → ",e.jsx("strong",{children:"Buscar servidores"})]}),e.jsxs("li",{children:["• Haz clic en ",e.jsx("strong",{children:"Añadir servidor"})]}),e.jsx("li",{children:"• Ingresa la IP y puerto manualmente"}),e.jsx("li",{children:"• Conecta directamente desde la lista"})]})]})]}),e.jsxs("div",{className:"mt-6 p-6 bg-blue-600/10 border border-blue-500/30 rounded-xl",children:[e.jsxs("h4",{className:"text-blue-300 font-medium mb-3 flex items-center space-x-2",children:[e.jsx(Hr,{className:"w-5 h-5"}),e.jsx("span",{children:"Problemas de Conexión?"})]}),e.jsxs("ul",{className:"text-blue-200 space-y-2",children:[e.jsx("li",{children:"• Verifica que tengas la versión correcta del juego (Tactical Ops 3.5)"}),e.jsx("li",{children:"• Asegúrate de que tu firewall no bloquee el juego"}),e.jsx("li",{children:"• Si el servidor aparece lleno, intenta conectarte en unos minutos"}),e.jsxs("li",{children:["• Para soporte técnico, visita nuestra sección de ",e.jsx("strong",{children:"Contacto"})]})]})]})]})]})},TN=()=>{const[t,r]=q.useState([]),[n,a]=q.useState(!0),[s,l]=q.useState(null),[o,p]=q.useState([]),[u,f]=q.useState(!0),[g,m]=q.useState("kd_ratio"),[i,d]=q.useState(new Date),[j,y]=q.useState(new Map);q.useEffect(()=>{N()},[]);const N=async()=>{try{a(!0);const k=await(await fetch(`${ue}/servers/get-all.php?ranking_only=true`)).json();if(k.success&&Array.isArray(k.servers)&&k.servers.length>0){const w=k.servers.map(S=>({ip:S.ip,port:S.port,name:S.name}));r(w),l(w[0])}}catch(k){console.error("Error loading server configs:",k)}finally{a(!1)}},h=async()=>{if(s)try{f(!0);const k=await fetch(`${ue}/rankings/get-rankings.php?server_ip=${s.ip}&server_port=${s.port}&order_by=${g}&limit=100`);if(!k.ok)throw new Error("Error fetching rankings");const w=await k.json();p(w.rankings||[]),d(new Date)}catch(k){console.error("Error fetching rankings:",k),p([])}finally{f(!1)}},c=async()=>{const k=new Map;for(const w of t)try{const S=await fetch(`https://api.lcto.cl/server-info?ip=${w.ip}&port=${w.port}&timeOut=5`);if(S.ok){const E=await S.json();E.hostname&&k.set(`${w.ip}:${w.port}`,E.hostname)}}catch(S){console.error(`Error fetching server name for ${w.ip}:${w.port}`,S)}y(k)};q.useEffect(()=>{c()},[]),q.useEffect(()=>{s&&h()},[s,g]);const b=k=>k===1?"text-yellow-400":k===2?"text-gray-300":k===3?"text-amber-600":"text-blue-300",x=k=>k===1?e.jsx(Ne,{className:"w-6 h-6 text-yellow-400"}):k===2?e.jsx(gr,{className:"w-6 h-6 text-gray-300"}):k===3?e.jsx(gr,{className:"w-6 h-6 text-amber-600"}):e.jsx(Ve,{className:"w-5 h-5 text-blue-400"}),v=k=>k>=2?"text-green-400":k>=1?"text-yellow-400":"text-red-400";return n?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})})}):t.length===0?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"w-24 h-24 text-blue-400 mx-auto mb-6 opacity-50"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"No hay servidores de ranking configurados"}),e.jsx("p",{className:"text-blue-300 text-lg",children:"Contacta al administrador para configurar los servidores."})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Ranking de Jugadores"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"Los mejores jugadores de Tactical Ops Chile"})]}),e.jsxs("button",{onClick:h,disabled:u,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600/20 backdrop-blur-sm border border-blue-500/30 rounded-xl text-blue-300 hover:bg-blue-600/30 hover:text-blue-200 transition-all duration-300 disabled:opacity-50",children:[e.jsx(Dt,{className:`w-5 h-5 ${u?"animate-spin":""}`}),e.jsx("span",{children:u?"Actualizando...":"Actualizar"})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:t.map(k=>{const w=`${k.ip}:${k.port}`,S=j.get(w)||k.name;return e.jsx("button",{onClick:()=>l(k),className:`p-4 rounded-xl border-2 transition-all duration-300 ${s&&s.ip===k.ip&&s.port===k.port?"bg-blue-600/20 border-blue-500 text-white":"bg-slate-800/40 border-blue-700/30 text-blue-300 hover:bg-blue-600/10"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Vt,{className:"w-5 h-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold",children:S}),e.jsxs("p",{className:"text-xs opacity-70",children:[k.ip,":",k.port]})]})]})},w)})}),e.jsx("div",{className:"flex justify-center space-x-2 mb-8",children:[{value:"kd_ratio",label:"K/D Ratio",icon:Ze},{value:"total_kills",label:"Total Kills",icon:Jx},{value:"total_score",label:"Total Score",icon:jt}].map(k=>e.jsxs("button",{onClick:()=>m(k.value),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 ${g===k.value?"bg-blue-600 text-white":"bg-slate-700/40 text-blue-300 hover:bg-blue-600/20"}`,children:[e.jsx(k.icon,{className:"w-4 h-4"}),e.jsx("span",{children:k.label})]},k.value))}),u?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):o.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Ne,{className:"w-24 h-24 text-blue-400 mx-auto mb-6 opacity-50"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Sin Datos de Ranking"}),e.jsx("p",{className:"text-blue-300 text-lg mb-8 max-w-2xl mx-auto",children:"Aún no hay estadísticas registradas para este servidor. ¡Sé el primero en aparecer en las tablas de clasificación!"})]}):e.jsxs(e.Fragment,{children:[o.slice(0,3).length>0&&e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:o.slice(0,3).map((k,w)=>e.jsxs("div",{className:`bg-gradient-to-br ${k.rank===1?"from-yellow-600/20 to-yellow-800/20 border-yellow-500/50":k.rank===2?"from-gray-600/20 to-gray-800/20 border-gray-400/50":"from-amber-600/20 to-amber-800/20 border-amber-600/50"} backdrop-blur-lg rounded-2xl border-2 p-6 text-center`,children:[e.jsx("div",{className:"mb-4 flex justify-center",children:x(k.rank)}),e.jsxs("h3",{className:`text-2xl font-bold mb-2 ${b(k.rank)}`,children:["#",k.rank]}),e.jsx("p",{className:"text-xl text-white font-bold mb-4",children:k.playerName}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2",children:[e.jsx("p",{className:"text-blue-300 text-xs",children:"K/D Ratio"}),e.jsx("p",{className:`font-bold ${v(k.kdRatio)}`,children:k.kdRatio.toFixed(2)})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2",children:[e.jsx("p",{className:"text-blue-300 text-xs",children:"Kills"}),e.jsx("p",{className:"text-green-400 font-bold",children:k.totalKills})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2",children:[e.jsx("p",{className:"text-blue-300 text-xs",children:"Deaths"}),e.jsx("p",{className:"text-red-400 font-bold",children:k.totalDeaths})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2",children:[e.jsx("p",{className:"text-blue-300 text-xs",children:"Score"}),e.jsx("p",{className:"text-blue-400 font-bold",children:k.totalScore})]})]}),e.jsxs("div",{className:"mt-3 text-xs text-blue-300",children:[k.gamesPlayed," partidas jugadas"]})]},w))}),e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 p-4 border-b border-blue-700/30",children:e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center space-x-2",children:[e.jsx(je,{className:"w-6 h-6"}),e.jsx("span",{children:"Tabla de Clasificación"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-700/40",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-blue-300 font-medium",children:"Rank"}),e.jsx("th",{className:"text-left py-3 px-4 text-blue-300 font-medium",children:"Jugador"}),e.jsx("th",{className:"text-center py-3 px-4 text-blue-300 font-medium",children:"K/D"}),e.jsx("th",{className:"text-center py-3 px-4 text-blue-300 font-medium",children:"Kills"}),e.jsx("th",{className:"text-center py-3 px-4 text-blue-300 font-medium",children:"Deaths"}),e.jsx("th",{className:"text-center py-3 px-4 text-blue-300 font-medium",children:"Score"}),e.jsx("th",{className:"text-center py-3 px-4 text-blue-300 font-medium",children:"Partidas"}),e.jsx("th",{className:"text-center py-3 px-4 text-blue-300 font-medium",children:"Última Vez"})]})}),e.jsx("tbody",{children:o.map(k=>e.jsxs("tr",{className:"border-b border-slate-700/30 hover:bg-slate-700/20 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex items-center space-x-2",children:k.rank<=3?x(k.rank):e.jsxs("span",{className:`font-bold ${b(k.rank)}`,children:["#",k.rank]})})}),e.jsx("td",{className:"py-3 px-4 text-white font-medium",children:k.playerName}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:`font-bold ${v(k.kdRatio)}`,children:k.kdRatio.toFixed(2)})}),e.jsx("td",{className:"py-3 px-4 text-center text-green-400 font-bold",children:k.totalKills}),e.jsx("td",{className:"py-3 px-4 text-center text-red-400 font-bold",children:k.totalDeaths}),e.jsx("td",{className:"py-3 px-4 text-center text-blue-400 font-bold",children:k.totalScore}),e.jsx("td",{className:"py-3 px-4 text-center text-white",children:k.gamesPlayed}),e.jsx("td",{className:"py-3 px-4 text-center text-blue-300 text-sm",children:new Date(k.lastSeen).toLocaleDateString("es-CL")})]},`${k.playerName}-${k.rank}`))})]})})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-blue-400",children:["Última actualización: ",i.toLocaleTimeString("es-CL")]})]})]})},AN=()=>{const{user:t,sessionInfo:r,extendSession:n,logout:a}=ht(),[s,l]=q.useState(0),[o,p]=q.useState(!1),[u,f]=q.useState(!1),[g,m]=q.useState(!1);q.useEffect(()=>{if(!t||!r.isActive)return;const j=setInterval(()=>{const y=r.expiresAt-Date.now();l(Math.max(0,y));const N=y<=5*60*1e3&&y>0;p(N),y<=0&&a()},1e3);return()=>clearInterval(j)},[t,r,a]);const i=async()=>{f(!0),await n()&&(m(!0),p(!1),setTimeout(()=>m(!1),3e3)),f(!1)},d=j=>{const y=Math.floor(j/6e4),N=Math.floor(j%6e4/1e3);return`${y}:${N.toString().padStart(2,"0")}`};return!t||!r.isActive?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx("div",{className:"bg-slate-800/90 backdrop-blur-lg rounded-xl border border-blue-700/30 p-3 shadow-2xl",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Kt,{className:`w-4 h-4 ${s<=5*60*1e3?"text-red-400":"text-blue-400"}`}),e.jsx("span",{className:`text-sm font-medium ${s<=5*60*1e3?"text-red-300":"text-blue-300"}`,children:d(s)})]}),e.jsxs("button",{onClick:i,disabled:u,className:"flex items-center space-x-1 px-3 py-1 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-lg text-blue-300 hover:text-blue-200 text-xs font-medium transition-all duration-300 disabled:opacity-50",title:"Extender sesión por 20 minutos más",children:[u?e.jsx("div",{className:"w-3 h-3 border border-blue-300 border-t-transparent rounded-full animate-spin"}):e.jsx(Dt,{className:"w-3 h-3"}),e.jsx("span",{children:"Extender"})]})]})})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-red-500/30 p-6 max-w-md w-full shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Zt,{className:"w-8 h-8 text-red-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"⚠️ Sesión por Expirar"}),e.jsx("p",{className:"text-red-300 text-sm",children:"Tu sesión expirará pronto"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-red-300 font-medium",children:"Tiempo restante:"}),e.jsx("span",{className:"text-red-200 font-bold text-lg",children:d(s)})]})}),e.jsx("p",{className:"text-blue-200 text-sm",children:"¿Quieres extender tu sesión por 20 minutos más?"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:i,disabled:u,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 rounded-xl text-white font-medium transition-colors",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Extendiendo..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4"}),e.jsx("span",{children:"Sí, Extender"})]})}),e.jsx("button",{onClick:()=>p(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cerrar"})]})]})}),g&&e.jsx("div",{className:"fixed top-20 right-4 z-50",children:e.jsx("div",{className:"bg-green-600/90 backdrop-blur-lg rounded-xl border border-green-500/30 p-4 shadow-2xl animate-in slide-in-from-right",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(tt,{className:"w-5 h-5 text-green-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 font-medium",children:"✅ Sesión Extendida"}),e.jsx("p",{className:"text-green-200 text-sm",children:"20 minutos adicionales"})]}),e.jsx("button",{onClick:()=>m(!1),className:"p-1 hover:bg-green-500/20 rounded text-green-200 hover:text-green-100 transition-colors",children:e.jsx(Ee,{className:"w-4 h-4"})})]})})})]})},LN=()=>{const{mode:t,theme:r,themeConfig:n,toggleMode:a,setTheme:s,themes:l}=Ya(),[o,p]=q.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(!o),className:"fixed top-24 right-4 z-50 p-3 rounded-xl border transition-all duration-300 hover:scale-105",style:{backgroundColor:`${n.colors.surface}80`,backdropFilter:"blur(24px)",borderColor:n.colors.border,boxShadow:`0 8px 32px ${n.colors.primary}20`},children:e.jsx(Md,{className:"w-5 h-5",style:{color:n.colors.primary}})}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40 bg-black/20 backdrop-blur-sm",onClick:()=>p(!1)}),e.jsxs("div",{className:"fixed top-24 right-4 z-50 w-80 rounded-2xl border shadow-2xl p-6 space-y-6 animate-in slide-in-from-right duration-300",style:{backgroundColor:n.colors.surface,backdropFilter:"blur(24px)",borderColor:n.colors.border},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",style:{color:n.colors.text},children:[e.jsx(Md,{className:"w-5 h-5",style:{color:n.colors.primary}}),"Personalización"]}),e.jsx("button",{onClick:()=>p(!1),className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors",style:{color:n.colors.textSecondary},children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-3 block",style:{color:n.colors.text},children:"Modo"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:a,className:"flex-1 p-3 rounded-xl border transition-all duration-300 hover:scale-105 flex items-center justify-center gap-2",style:{backgroundColor:t==="dark"?`${n.colors.primary}30`:"transparent",borderColor:t==="dark"?n.colors.primary:n.colors.border,color:t==="dark"?n.colors.primary:n.colors.textSecondary},children:[e.jsx(tf,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Oscuro"})]}),e.jsxs("button",{onClick:a,className:"flex-1 p-3 rounded-xl border transition-all duration-300 hover:scale-105 flex items-center justify-center gap-2",style:{backgroundColor:t==="light"?`${n.colors.primary}30`:"transparent",borderColor:t==="light"?n.colors.primary:n.colors.border,color:t==="light"?n.colors.primary:n.colors.textSecondary},children:[e.jsx(lf,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Claro"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-3 block",style:{color:n.colors.text},children:"Esquema de Color"}),e.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-2 custom-scrollbar",children:l.map(u=>e.jsx("button",{onClick:()=>s(u.id),className:"w-full p-4 rounded-xl border transition-all duration-300 hover:scale-102 group",style:{backgroundColor:r===u.id?`${n.colors.primary}20`:"transparent",borderColor:r===u.id?n.colors.primary:n.colors.border},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg border-2 transition-transform duration-300 group-hover:scale-110",style:{background:`linear-gradient(135deg, ${u.colors.primary}, ${u.colors.secondary})`,borderColor:r===u.id?n.colors.primary:"transparent",boxShadow:r===u.id?`0 4px 12px ${u.colors.primary}40`:"none"}}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("h4",{className:"font-semibold text-sm",style:{color:r===u.id?n.colors.primary:n.colors.text},children:u.name}),e.jsx("p",{className:"text-xs mt-0.5",style:{color:n.colors.textSecondary},children:u.description})]}),r===u.id&&e.jsx(uc,{className:"w-4 h-4",style:{color:n.colors.primary}})]})},u.id))})]})]}),e.jsx("div",{className:"pt-4 border-t text-center",style:{borderColor:n.colors.border},children:e.jsx("p",{className:"text-xs",style:{color:n.colors.textSecondary},children:"Los cambios se guardan automáticamente"})})]})]}),e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: ${n.colors.border};
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: ${n.colors.primary};
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: ${n.colors.secondary};
        }
        @keyframes slide-in-from-right {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-in {
          animation: slide-in-from-right 0.3s ease-out;
        }
        .hover:scale-102:hover {
          transform: scale(1.02);
        }
      `})]})},IN=()=>{const[t,r]=q.useState(""),[n,a]=q.useState(""),[s,l]=q.useState(""),[o,p]=q.useState(!1),[u,f]=q.useState(!1),[g,m]=q.useState(""),[i,d]=q.useState(!1),[j,y]=q.useState(!1);q.useEffect(()=>{const c=new URLSearchParams(window.location.search).get("token");c?r(c):(m("Token de recuperación no encontrado"),d(!1))},[]);const N=async c=>{if(c.preventDefault(),m(""),y(!0),n!==s){m("Las contraseñas no coinciden"),d(!1),y(!1);return}if(n.length<6){m("La contraseña debe tener al menos 6 caracteres"),d(!1),y(!1);return}try{const b=await(await fetch(`${ue}/auth/reset-password.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,newPassword:n})})).json();b.success?(d(!0),m("Contraseña restablecida exitosamente. Redirigiendo..."),setTimeout(()=>{window.location.href="/"},3e3)):(d(!1),m(b.message||"Error al restablecer la contraseña"))}catch{d(!1),m("Error de conexión al servidor")}y(!1)},h=()=>{window.location.href="/"};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center px-4 py-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl border border-blue-700/30 p-8 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600/20 rounded-full mb-4",children:e.jsx(al,{className:"w-8 h-8 text-blue-400"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Restablecer Contraseña"}),e.jsx("p",{className:"text-blue-300",children:"Ingresa tu nueva contraseña para recuperar tu cuenta"})]}),t?i?e.jsxs("div",{className:"text-center",children:[e.jsx(tt,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),e.jsx("p",{className:"text-green-300 mb-4",children:g}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-ping"}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-ping",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-ping",style:{animationDelay:"0.4s"}})]})]}):e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Nueva Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",value:n,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors pr-12",placeholder:"Mínimo 6 caracteres",required:!0}),e.jsx("button",{type:"button",onClick:()=>p(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-blue-400 hover:text-blue-300 transition-colors",children:o?e.jsx(bt,{className:"w-5 h-5"}):e.jsx(Be,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-300 text-sm font-medium mb-2",children:"Confirmar Nueva Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",value:s,onChange:c=>l(c.target.value),className:"w-full px-4 py-3 bg-slate-700/40 border border-blue-600/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:border-blue-500 transition-colors pr-12",placeholder:"Repite tu contraseña",required:!0}),e.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-blue-400 hover:text-blue-300 transition-colors",children:u?e.jsx(bt,{className:"w-5 h-5"}):e.jsx(Be,{className:"w-5 h-5"})})]})]}),g&&e.jsx("div",{className:`p-4 rounded-xl border ${i?"bg-green-500/10 border-green-500/30 text-green-300":"bg-red-500/10 border-red-500/30 text-red-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[i?e.jsx(tt,{className:"w-5 h-5"}):e.jsx(en,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:g})]})}),e.jsx("button",{type:"submit",disabled:j,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 rounded-xl text-white font-medium transition-colors flex items-center justify-center space-x-2",children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Procesando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(al,{className:"w-5 h-5"}),e.jsx("span",{children:"Restablecer Contraseña"})]})}),e.jsx("button",{type:"button",onClick:h,className:"w-full px-6 py-3 bg-slate-600 hover:bg-slate-700 rounded-xl text-white font-medium transition-colors",children:"Cancelar"})]}):e.jsxs("div",{className:"text-center",children:[e.jsx(en,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-red-300 mb-6",children:g}),e.jsx("button",{onClick:h,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white font-medium transition-colors",children:"Volver al Inicio"})]})]}),e.jsx("p",{className:"text-center text-blue-400 text-sm mt-6",children:"© 2024 Tactical Ops Chile - Comunidad Oficial"})]})})};function MN(){const[t,r]=q.useState("home"),[n,a]=q.useState(!0),[s,l]=q.useState(!1),{themeConfig:o}=Ya(),{bannerItems:p,isEnabled:u}=hc();q.useEffect(()=>{if(new URLSearchParams(window.location.search).get("token")){l(!0),a(!1);return}const g=setTimeout(()=>a(!1),1500);return()=>clearTimeout(g)},[]),q.useEffect(()=>{const g=m=>{r(m.detail)};return window.addEventListener("navigate-to-section",g),()=>{window.removeEventListener("navigate-to-section",g)}},[]);const f=()=>{switch(t){case"home":return e.jsx($d,{});case"players":return e.jsx(Mf,{});case"servers":return e.jsx(PN,{});case"download":return e.jsx(qf,{});case"user-panel":return e.jsx(Jf,{});case"forum":return e.jsx(SN,{});case"sponsors":return e.jsx(ON,{});case"ranking":return e.jsx(TN,{});default:return e.jsx($d,{})}};return n?e.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900 via-black to-black"}),e.jsxs("div",{className:"smoke-container absolute inset-0 opacity-30",children:[e.jsx("div",{className:"smoke smoke-1"}),e.jsx("div",{className:"smoke smoke-2"}),e.jsx("div",{className:"smoke smoke-3"}),e.jsx("div",{className:"smoke smoke-4"})]}),e.jsx("div",{className:"particles absolute inset-0",children:[...Array(30)].map((g,m)=>e.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`}},m))}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx("div",{className:"mb-8 logo-pulse px-4",children:e.jsx("img",{src:"/Tactical_Ops_Logo.png",alt:"Tactical Ops Logo",className:"w-full max-w-5xl mx-auto drop-shadow-2xl"})}),e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-ping"}),e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-ping",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-ping",style:{animationDelay:"0.4s"}})]}),e.jsx("p",{className:"text-lg font-bold text-white tracking-wider loading-text",children:"CARGANDO TACTICAL OPS"}),e.jsx("div",{className:"mt-6 w-64 h-1 bg-gray-800 rounded-full overflow-hidden mx-auto",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 via-blue-600 to-red-600 animate-progress"})})]})]}):s?e.jsx(IN,{}):e.jsxs("div",{className:"min-h-screen relative overflow-hidden",style:{color:o.colors.text},children:[e.jsxs("div",{className:"fixed inset-0 z-0",children:[e.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover video-background-blur",children:e.jsx("source",{src:"/Fondo WEB Largo.mp4",type:"video/mp4"})}),e.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),e.jsx("div",{className:`fixed inset-0 z-0 bg-gradient-to-br ${o.colors.background} video-fallback`}),e.jsx("div",{className:"fixed inset-0 z-10 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.02%22%3E%3Ccircle%20cx%3D%227%22%20cy%3D%227%22%20r%3D%221%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E')] opacity-30 pointer-events-none"}),o.id==="metallic-orange"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none z-10",children:e.jsx("div",{className:"tactical-grid"})}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-10",children:[e.jsx("div",{className:"cod-smoke cod-smoke-1"}),e.jsx("div",{className:"cod-smoke cod-smoke-2"}),e.jsx("div",{className:"cod-smoke cod-smoke-3"}),e.jsx("div",{className:"cod-smoke cod-smoke-4"})]}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-10",children:[e.jsx("div",{className:"muzzle-flash muzzle-flash-1"}),e.jsx("div",{className:"muzzle-flash muzzle-flash-2"}),e.jsx("div",{className:"muzzle-flash muzzle-flash-3"})]}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-10",children:[e.jsx("div",{className:"scan-line scan-line-1"}),e.jsx("div",{className:"scan-line scan-line-2"})]}),e.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-10",children:[...Array(8)].map((g,m)=>e.jsx("div",{className:"bullet-tracer",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*6}s`,animationDuration:`${4+Math.random()*6}s`}},m))})]}),u&&p.length>0&&e.jsx("div",{className:"relative z-50 pt-4",children:e.jsx(Sf,{bannerItems:p,isEnabled:u})}),e.jsx("div",{className:`relative z-50 ${u&&p.length>0?"mt-4":""}`,children:e.jsx(_f,{currentSection:t,onSectionChange:r})}),e.jsx(AN,{}),e.jsx(LN,{}),e.jsx("main",{className:`relative z-20 ${u&&p.length>0?"pt-8":"pt-24"}`,children:f()}),e.jsx("footer",{className:"relative z-20 mt-20 py-8 border-t",style:{borderColor:o.colors.border},children:e.jsx("div",{className:"container mx-auto px-4 text-center",children:e.jsx("p",{style:{color:`${o.colors.textSecondary}70`},children:"© 2025 Tactical Ops Chile - Comunidad oficial"})})})]})}function qN(){return e.jsx(ff,{children:e.jsx(Df,{children:e.jsx(Ef,{children:e.jsx(MN,{})})})})}Om(document.getElementById("root")).render(e.jsx(q.StrictMode,{children:e.jsx(qN,{})}));
